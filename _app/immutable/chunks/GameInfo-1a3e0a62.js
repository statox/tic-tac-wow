import{S as Re,i as ze,s as Ye,k as d,q as y,a as A,l as _,m as v,r as k,h as f,c as I,b as O,D as l,B as me,n as re,u as L,g as je,t as K,d as Qe,f as Y,I as It,w as Fe,x as Ve,y as Ge,z as Le,e as at,J as Ht,K as Bt}from"./index-0ce3b86f.js";import{P as $t}from"./P5-0064e986.js";const Tt=[448,56,7,292,146,73,273,84],Dt=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],Wt=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],Ot=[{p:2,o:5},{p:2,o:144}],Pe=(t,e)=>(t&e)===e;var D=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(D||{});function ct(t){let e=t,o=0;for(;e;)o+=e&1,e>>=1;return o}function ft(t,e){return N(t,e)}function N(t,e){return!(t&1<<e)}function et(t,e){return t+2**e}const Xe=t=>{for(const e of Tt)if(Pe(t,e))return!0;return!1},Ft={1:D.computer,2:D.player},Je=t=>Ft[t];function Vt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function _e(t,e){return e===D.player?t.player:t.computer}function ve(t,e){return e===D.player?t.computer:t.player}function Me(t,e){if(!e&&!bt(t))return"invalid_board";const o=Xe(t.player),r=Xe(t.computer);return o&&r?"draw":o?"player_win":r?"computer_win":St(t)?"not_over":"over"}function Ce(t,e,o){if(!Gt(t,o))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${o} `);e===D.player?t.player=et(t.player,o):t.computer=et(t.computer,o)}function bt(t){if(t.player&t.computer)return!1;const e=ct(t.player),o=ct(t.computer);return!(Math.abs(e-o)>1)}function Gt(t,e){return N(t.player,e)&&N(t.computer,e)}function St(t){return(t.player|t.computer)!==511}function Ne(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const o=[];let r=0;for(;r<9;)e&1||o.push(r),r++,e>>=1;return o}function ut(t){const{x:e,y:o}=t;if(e<0||e>2||o<0||o>2)throw new Error(`Invalid coords (${e},${o})`);return 8-(3*o+e)}function ht(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const Lt=[2,5,8,1,4,7,0,3,6];function pt(t){let e=0;return Lt.forEach((o,r)=>{N(t,r)||(e=et(e,o))}),e}function qe(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const o={...t};for(let r=0;r<e;r++)o.player=pt(o.player),o.computer=pt(o.computer);return o}function Et(t,e){return Ne(t).map(r=>{const n={...t};return Ce(n,e,r),{move:r,board:n}})}function Xt(t,e){if(Ne(t).length===0)throw new Error("No available moves");const n=tt({board:t,player:e,depth:1,moves:[]});return{score:n.score,reason:n.reason,move:n.moves[0]}}function Rt(t){return t==="player_win"?{score:4,reason:t}:t==="draw"?{score:3,reason:t}:t==="over"?{score:2,reason:t}:t==="not_over"?{score:1,reason:t}:t==="computer_win"?{score:0,reason:t}:{score:-1,reason:t}}const zt=12;function tt(t){const e=Me(t.board);if(t.depth===zt||e!=="not_over")return{moves:t.moves,...Rt(e)};const o=Et(t.board,t.player);if(t.player===D.player){let n;for(const s of o){const i={board:s.board,player:Je(t.player),depth:t.depth+1,moves:[...t.moves,s.move]},a=tt(i);(!n||a.score>n.score)&&(n=a)}if(!n)throw new Error("Couldnt get any best child for maximizing player");return n}let r;for(const n of o){const s={board:n.board,player:Je(t.player),depth:t.depth+1,moves:[...t.moves,n.move]},i=tt(s);(!r||i.score<r.score)&&(r=i)}if(!r)throw new Error("Couldnt get any best child for maximizing player");return r}function de(t,e){const o=_e(t,e);return Xe(o)}function nt(t){return t===4}function Ke(t,e,o){const r=_e(t,e),n=ve(t,e);if(o===4){const s=N(n,5)&&!N(r,3)||!N(r,5)&&N(n,3)?1:0,i=N(n,7)&&!N(r,1)||!N(r,7)&&N(n,1)?1:0,a=N(n,8)&&!N(r,0)||!N(r,8)&&N(n,0)?1:0,c=N(n,6)&&!N(r,2)||!N(r,6)&&N(n,2)?1:0;return s+i+a+c>=2}if(Ze.has(o)){const s={0:0,2:3,6:1,8:2}[o]||0,i=qe(t,s),a=_e(i,e),c=ve(i,e),p=N(c,2)&&!N(a,1)||!N(a,2)&&N(c,1),g=N(c,6)&&!N(a,3)||!N(a,6)&&N(c,3);return p&&g}if(st.has(o)){const s={1:0,3:1,5:3,7:2}[o]||0,i=qe(t,s),a=_e(i,e),c=ve(i,e),p=N(c,2)&&!N(a,0)||!N(a,2)&&N(c,0),g=N(c,7)&&!N(a,4)||!N(a,7)&&N(c,4);return p&&g}return!1}function ot(t,e,o){const r=_e(t,e),s={player:ve(t,e),computer:r};return Ke(s,e===D.player?D.computer:D.player,o)}function Ee(t,e,o){const r=_e(t,e),n=ve(t,e);if(o===4){for(const{o:s,p:i}of Dt)if(Pe(r,i)&&Pe(n,s))return!0}if(Ze.has(o)){const s={0:0,2:3,6:1,8:2}[o]||0,i=qe(t,s),a=_e(i,e),c=ve(i,e);for(const{o:p,p:g}of Wt)if(Pe(a,g)&&Pe(c,p))return!0}if(st.has(o)){const s={1:0,3:1,5:3,7:2}[o]||0,i=qe(t,s),a=_e(i,e),c=ve(i,e);for(const{o:p,p:g}of Ot)if(Pe(a,g)&&Pe(c,p))return!0}return!1}const Ze=new Set([0,2,6,8]),st=new Set([1,3,5,7]);function Ue(t,e,o){if(!Ze.has(o))return!1;const r=8-o,n=ve(t,e);return!N(n,r)}function lt(t){return Ze.has(t)}function Mt(t){return st.has(t)}function Yt(t,e){const o=Ne(t);if(o.length===0)throw new Error("No available moves");let r;for(const n of o){const s={...t};Ce(s,e,n);const i=Jt(s,e,n);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Jt(t,e,o){return de(t,e)?{score:8,reason:"win",move:o}:Ee(t,e,o)?{score:7,reason:"block_opponent",move:o}:Ke(t,e,o)?{score:6,reason:"create_fork",move:o}:ot(t,e,o)?{score:5,reason:"block_opponent_fork",move:o}:nt(o)?{score:4,reason:"take_center",move:o}:Ue(t,e,o)?{score:3,reason:"take_opposite_corner",move:o}:lt(o)?{score:2,reason:"take_corner",move:o}:Mt(o)?{score:1,reason:"take_edge",move:o}:{score:0,reason:"default_choice",move:o}}function qt(t,e){const o=Ne(t);if(o.length===0)throw new Error("No available moves");let r;for(const n of o){const s={...t};Ce(s,e,n);const i=Kt(s,e,n);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Kt(t,e,o){return de(t,D.player)?{score:8,reason:"win",move:o}:Ee(t,e,o)?{score:7,reason:"block_opponent",move:o}:nt(o)?{score:4,reason:"take_center",move:o}:Ue(t,e,o)?{score:3,reason:"take_opposite_corner",move:o}:lt(o)?{score:2,reason:"take_corner",move:o}:Mt(o)?{score:1,reason:"take_edge",move:o}:{score:0,reason:"default_choice",move:o}}function Ut(t){const e=Ne(t);if(e.length===0)throw new Error("No available moves");const o=Math.floor(Math.random()*e.length);return{score:0,reason:"random",move:e[o]}}const dt={random:Ut,hardcodedRules:qt,hardcodedRulesComplete:Yt,minmax:Xt};function Ct(t,e){if(!e&&!bt(t))return"invalid_board";const o=Xe(t.computer),r=Xe(t.player);return o&&r?"draw":o?"player_win":r?"computer_win":St(t)?"not_over":"over"}function jt(t,e){if(Ne(t).length===0)throw new Error("No available moves");const n=rt({board:t,player:e,depth:1,moves:[]});return{score:n.score,reason:n.reason,move:n.moves[0]}}function Qt(t){return t==="player_win"?{score:0,reason:t}:t==="draw"?{score:1,reason:t}:t==="over"?{score:2,reason:t}:t==="not_over"?{score:3,reason:t}:t==="computer_win"?{score:4,reason:t}:{score:-1,reason:t}}const Zt=12;function rt(t){const e=Me(t.board);if(t.depth===Zt||e!=="not_over")return{moves:t.moves,...Qt(e)};const o=Et(t.board,t.player);if(t.player===D.player){let n;for(const s of o){const i={board:s.board,player:Je(t.player),depth:t.depth+1,moves:[...t.moves,s.move]},a=rt(i);(!n||a.score>n.score)&&(n=a)}if(!n)throw new Error("Couldnt get any best child for maximizing player");return n}let r;for(const n of o){const s={board:n.board,player:Je(t.player),depth:t.depth+1,moves:[...t.moves,n.move]},i=rt(s);(!r||i.score<r.score)&&(r=i)}if(!r)throw new Error("Couldnt get any best child for maximizing player");return r}const Eo=t=>({type:"tictactoe",board:Vt(),currentPlayer:t??D.player,state:"not_over",moveHistory:[]});function Nt(t){t.currentPlayer=t.currentPlayer===D.player?D.computer:D.player}const Mo=(t,e,o)=>{t.state==="not_over"&&(Ce(t.board,e,o),t.type==="tictactoe"&&(t.state=Me(t.board)),t.type==="misere"&&(t.state=Ct(t.board)),t.moveHistory.push({board:{...t.board},moveAsIndex:o,player:e,method:"manual"}),Nt(t))},Co=(t,e,o)=>{if(t.state!=="not_over")return;let r;if(t.type==="tictactoe"){const n=dt[o];r=n(t.board,e),Ce(t.board,e,r.move),t.state=Me(t.board)}if(t.type==="misere"){let n;o==="random"?n=dt.random:n=jt,r=n(t.board,e),Ce(t.board,e,r.move),t.state=Ct(t.board)}if(!r)throw new Error("Couldnt get move");t.moveHistory.push({board:{...t.board},moveAsIndex:r.move,player:e,method:o,aiChoice:r}),Nt(t)},xt="#FF0000",eo="#64ccfc";function _t(t,e,o){var g;const r=t.width/3,n=t.height/3,{height:s,width:i}=t,{drawSelection:a,selection:c,currentPlayer:p}=o||{};t.rectMode(t.CENTER),t.noFill(),t.stroke(255),t.strokeWeight(1),t.line(r,0,r,s),t.line(r*2,0,r*2,s),t.line(0,n,i,n),t.line(0,n*2,i,n*2),t.stroke(155),t.strokeWeight(3),t.rect(t.width/2,t.height/2,t.width,t.height),t.strokeWeight(4);for(let h=0;h<3;h++)for(let E=0;E<3;E++)((g=o==null?void 0:o.highlightCell)==null?void 0:g.x)===E&&(o==null?void 0:o.highlightCell.y)===h&&(t.noStroke(),t.fill(30,250,80,80),t.rect(E*r+r/2,h*n+n/2,r*.95,n*.95),t.noFill()),(!ft(e.player,ut({x:E,y:h}))||a&&p===D.player&&(c==null?void 0:c.x)===E&&(c==null?void 0:c.y)===h)&&(t.stroke(eo),t.circle(E*r+r/2,h*n+n/2,n/2)),(!ft(e.computer,ut({x:E,y:h}))||a&&p===D.computer&&(c==null?void 0:c.x)===E&&(c==null?void 0:c.y)===h)&&(t.stroke(xt),t.line(E*r+r*.3,h*n+n*.3,E*r+r*.7,h*n+n*.7),t.line(E*r+r*.7,h*n+n*.3,E*r+r*.3,h*n+n*.7))}function vt(t){const{mouseX:e,mouseY:o,width:r,height:n}=t,s=Math.floor(t.map(e,0,r,0,3)),i=Math.floor(t.map(o,0,n,0,3));return{x:s,y:i}}function mt(t){let e,o,r,n,s,i=Me(t[0])+"",a,c,p,g,h,E,F,$,S,u,M=t[0].player.toString(2).padStart(9,"0")+"",w,W,P,C=t[0].player+"",m,B,V,z,G,Z=de(t[0],D.player)?"✅":"❌",he,ne,X,se,le,j,pe,ye,U,ke,ie=t[0].computer.toString(2).padStart(9,"0")+"",x,ae,ee,ce=t[0].computer+"",te,ge,fe,ue,Q,oe=de(t[0],D.computer)?"✅":"❌",we;return{c(){e=d("div"),o=d("span"),r=y("State:"),n=A(),s=d("span"),a=y(i),c=A(),p=d("div"),g=d("span"),h=y("Player 1"),E=d("span"),F=y("Player, O"),$=A(),S=d("span"),u=y("0b"),w=y(M),W=A(),P=d("span"),m=y(C),B=A(),V=d("span"),z=y("Wins"),G=d("span"),he=y(Z),ne=A(),X=d("div"),se=d("span"),le=y("Player 2"),j=d("span"),pe=y("Computer, X"),ye=A(),U=d("span"),ke=y("0b"),x=y(ie),ae=A(),ee=d("span"),te=y(ce),ge=A(),fe=d("span"),ue=y("Wins"),Q=d("span"),we=y(oe),this.h()},l(R){e=_(R,"DIV",{class:!0});var T=v(e);o=_(T,"SPAN",{});var H=v(o);r=k(H,"State:"),H.forEach(f),n=I(T),s=_(T,"SPAN",{});var b=v(s);a=k(b,i),b.forEach(f),c=I(T),p=_(T,"DIV",{class:!0});var J=v(p);g=_(J,"SPAN",{});var Ae=v(g);h=k(Ae,"Player 1"),Ae.forEach(f),E=_(J,"SPAN",{});var Ie=v(E);F=k(Ie,"Player, O"),Ie.forEach(f),$=I(J),S=_(J,"SPAN",{});var be=v(S);u=k(be,"0b"),w=k(be,M),be.forEach(f),W=I(J),P=_(J,"SPAN",{});var He=v(P);m=k(He,C),He.forEach(f),B=I(J),V=_(J,"SPAN",{});var Be=v(V);z=k(Be,"Wins"),Be.forEach(f),G=_(J,"SPAN",{});var $e=v(G);he=k($e,Z),$e.forEach(f),J.forEach(f),ne=I(T),X=_(T,"DIV",{class:!0});var q=v(X);se=_(q,"SPAN",{});var Te=v(se);le=k(Te,"Player 2"),Te.forEach(f),j=_(q,"SPAN",{});var De=v(j);pe=k(De,"Computer, X"),De.forEach(f),ye=I(q),U=_(q,"SPAN",{});var Se=v(U);ke=k(Se,"0b"),x=k(Se,ie),Se.forEach(f),ae=I(q),ee=_(q,"SPAN",{});var We=v(ee);te=k(We,ce),We.forEach(f),ge=I(q),fe=_(q,"SPAN",{});var Oe=v(fe);ue=k(Oe,"Wins"),Oe.forEach(f),Q=_(q,"SPAN",{});var it=v(Q);we=k(it,oe),it.forEach(f),q.forEach(f),T.forEach(f),this.h()},h(){re(p,"class","grid2cols svelte-1lw5ne4"),re(X,"class","grid2cols svelte-1lw5ne4"),re(e,"class","grid2cols svelte-1lw5ne4")},m(R,T){O(R,e,T),l(e,o),l(o,r),l(e,n),l(e,s),l(s,a),l(e,c),l(e,p),l(p,g),l(g,h),l(p,E),l(E,F),l(p,$),l(p,S),l(S,u),l(S,w),l(p,W),l(p,P),l(P,m),l(p,B),l(p,V),l(V,z),l(p,G),l(G,he),l(e,ne),l(e,X),l(X,se),l(se,le),l(X,j),l(j,pe),l(X,ye),l(X,U),l(U,ke),l(U,x),l(X,ae),l(X,ee),l(ee,te),l(X,ge),l(X,fe),l(fe,ue),l(X,Q),l(Q,we)},p(R,T){T&1&&i!==(i=Me(R[0])+"")&&L(a,i),T&1&&M!==(M=R[0].player.toString(2).padStart(9,"0")+"")&&L(w,M),T&1&&C!==(C=R[0].player+"")&&L(m,C),T&1&&Z!==(Z=de(R[0],D.player)?"✅":"❌")&&L(he,Z),T&1&&ie!==(ie=R[0].computer.toString(2).padStart(9,"0")+"")&&L(x,ie),T&1&&ce!==(ce=R[0].computer+"")&&L(te,ce),T&1&&oe!==(oe=de(R[0],D.computer)?"✅":"❌")&&L(we,oe)},d(R){R&&f(e)}}}function to(t){let e,o,r,n,s=t[0]&&mt(t);return{c(){e=d("div"),o=d("h4"),r=y("Board info"),n=A(),s&&s.c()},l(i){e=_(i,"DIV",{});var a=v(e);o=_(a,"H4",{});var c=v(o);r=k(c,"Board info"),c.forEach(f),n=I(a),s&&s.l(a),a.forEach(f)},m(i,a){O(i,e,a),l(e,o),l(o,r),l(e,n),s&&s.m(e,null)},p(i,[a]){i[0]?s?s.p(i,a):(s=mt(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:me,o:me,d(i){i&&f(e),s&&s.d()}}}function oo(t,e,o){let{board:r}=e;return t.$$set=n=>{"board"in n&&o(0,r=n.board)},[r]}class No extends Re{constructor(e){super(),ze(this,e,oo,to,Ye,{board:0})}}function ro(t){let e,o,r=JSON.stringify(t[0])+"",n;return{c(){e=d("p"),o=y("Board is undefined "),n=y(r)},l(s){e=_(s,"P",{});var i=v(e);o=k(i,"Board is undefined "),n=k(i,r),i.forEach(f)},m(s,i){O(s,e,i),l(e,o),l(e,n)},p(s,i){i&1&&r!==(r=JSON.stringify(s[0])+"")&&L(n,r)},i:me,o:me,d(s){s&&f(e)}}}function no(t){let e,o;return e=new $t({props:{sketch:t[1]}}),{c(){Fe(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,n){Ge(e,r,n),o=!0},p:me,i(r){o||(Y(e.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),o=!1},d(r){Le(e,r)}}}function so(t){let e,o,r,n;const s=[no,ro],i=[];function a(c,p){return c[0]?0:1}return o=a(t),r=i[o]=s[o](t),{c(){e=d("div"),r.c()},l(c){e=_(c,"DIV",{});var p=v(e);r.l(p),p.forEach(f)},m(c,p){O(c,e,p),i[o].m(e,null),n=!0},p(c,[p]){let g=o;o=a(c),o===g?i[o].p(c,p):(je(),K(i[g],1,1,()=>{i[g]=null}),Qe(),r=i[o],r?r.p(c,p):(r=i[o]=s[o](c),r.c()),Y(r,1),r.m(e,null))},i(c){n||(Y(r),n=!0)},o(c){K(r),n=!1},d(c){c&&f(e),i[o].d()}}}function lo(t,e,o){let{dimensionPx:r}=e,{board:n}=e,{highlightCell:s=void 0}=e,{highlightMouse:i=!1}=e,{noLoop:a=!1}=e,{onClick:c=()=>{}}=e,p;const g=h=>{h.setup=()=>{p=h,h.createCanvas(r.width,r.height)},h.draw=()=>{h.background(0),i?_t(h,n,{highlightCell:vt(h)}):_t(h,n,{highlightCell:s}),a&&h.noLoop()},a||(h.mousePressed=()=>{h.mouseX<0||h.mouseX>h.width||h.mouseY<0||h.mouseY>h.height||c("manual",vt(h))})};return It(()=>{p==null||p.remove()}),t.$$set=h=>{"dimensionPx"in h&&o(2,r=h.dimensionPx),"board"in h&&o(0,n=h.board),"highlightCell"in h&&o(3,s=h.highlightCell),"highlightMouse"in h&&o(4,i=h.highlightMouse),"noLoop"in h&&o(5,a=h.noLoop),"onClick"in h&&o(6,c=h.onClick)},[n,g,r,s,i,a,c]}class At extends Re{constructor(e){super(),ze(this,e,lo,so,Ye,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,noLoop:5,onClick:6})}}function xe(t){const e=t.slice(),o=e[0];return e[1]=o.moveAsIndex,e[2]=o.player,e[3]=o.board,e}function yt(t){let e,o,r,n,s,i,a,c,p,g,h,E=de(t[3],t[2])?"✅":"❌",F,$,S,u,M,w,W=Ee(t[3],t[2],t[1])?"✅":"❌",P,C,m,B,V,z,G=Ke(t[3],t[2],t[1])?"✅":"❌",Z,he,ne,X,se,le,j=ot(t[3],t[2],t[1])?"✅":"❌",pe,ye,U,ke,ie,x,ae=Ue(t[3],t[2],t[1])?"✅":"❌",ee,ce,te,ge,fe,ue,Q=Ee(t[3],t[2],t[1])?"✅":"❌",oe;function we(H,b){return b&1&&(s=null),b&1&&(i=null),s==null&&(s=!!nt(H[1])),s?co:(i==null&&(i=!!lt(H[1])),i?ao:io)}let R=we(t,-1),T=R(t);return{c(){e=d("div"),o=d("span"),r=y("Position"),n=A(),T.c(),a=A(),c=d("span"),p=y("Player win"),g=A(),h=d("span"),F=y(E),$=A(),S=d("span"),u=y("Move blocks opponent"),M=A(),w=d("span"),P=y(W),C=A(),m=d("span"),B=y("Move creates fork"),V=A(),z=d("span"),Z=y(G),he=A(),ne=d("span"),X=y("Move blocks opponent's fork"),se=A(),le=d("span"),pe=y(j),ye=A(),U=d("span"),ke=y("Took opposite corner"),ie=A(),x=d("span"),ee=y(ae),ce=A(),te=d("span"),ge=y("Last move blocks opponent"),fe=A(),ue=d("span"),oe=y(Q),this.h()},l(H){e=_(H,"DIV",{class:!0});var b=v(e);o=_(b,"SPAN",{});var J=v(o);r=k(J,"Position"),J.forEach(f),n=I(b),T.l(b),a=I(b),c=_(b,"SPAN",{});var Ae=v(c);p=k(Ae,"Player win"),Ae.forEach(f),g=I(b),h=_(b,"SPAN",{});var Ie=v(h);F=k(Ie,E),Ie.forEach(f),$=I(b),S=_(b,"SPAN",{});var be=v(S);u=k(be,"Move blocks opponent"),be.forEach(f),M=I(b),w=_(b,"SPAN",{});var He=v(w);P=k(He,W),He.forEach(f),C=I(b),m=_(b,"SPAN",{});var Be=v(m);B=k(Be,"Move creates fork"),Be.forEach(f),V=I(b),z=_(b,"SPAN",{});var $e=v(z);Z=k($e,G),$e.forEach(f),he=I(b),ne=_(b,"SPAN",{});var q=v(ne);X=k(q,"Move blocks opponent's fork"),q.forEach(f),se=I(b),le=_(b,"SPAN",{});var Te=v(le);pe=k(Te,j),Te.forEach(f),ye=I(b),U=_(b,"SPAN",{});var De=v(U);ke=k(De,"Took opposite corner"),De.forEach(f),ie=I(b),x=_(b,"SPAN",{});var Se=v(x);ee=k(Se,ae),Se.forEach(f),ce=I(b),te=_(b,"SPAN",{});var We=v(te);ge=k(We,"Last move blocks opponent"),We.forEach(f),fe=I(b),ue=_(b,"SPAN",{});var Oe=v(ue);oe=k(Oe,Q),Oe.forEach(f),b.forEach(f),this.h()},h(){re(e,"class","grid2cols svelte-1lw5ne4")},m(H,b){O(H,e,b),l(e,o),l(o,r),l(e,n),T.m(e,null),l(e,a),l(e,c),l(c,p),l(e,g),l(e,h),l(h,F),l(e,$),l(e,S),l(S,u),l(e,M),l(e,w),l(w,P),l(e,C),l(e,m),l(m,B),l(e,V),l(e,z),l(z,Z),l(e,he),l(e,ne),l(ne,X),l(e,se),l(e,le),l(le,pe),l(e,ye),l(e,U),l(U,ke),l(e,ie),l(e,x),l(x,ee),l(e,ce),l(e,te),l(te,ge),l(e,fe),l(e,ue),l(ue,oe)},p(H,b){R!==(R=we(H,b))&&(T.d(1),T=R(H),T&&(T.c(),T.m(e,a))),b&1&&E!==(E=de(H[3],H[2])?"✅":"❌")&&L(F,E),b&1&&W!==(W=Ee(H[3],H[2],H[1])?"✅":"❌")&&L(P,W),b&1&&G!==(G=Ke(H[3],H[2],H[1])?"✅":"❌")&&L(Z,G),b&1&&j!==(j=ot(H[3],H[2],H[1])?"✅":"❌")&&L(pe,j),b&1&&ae!==(ae=Ue(H[3],H[2],H[1])?"✅":"❌")&&L(ee,ae),b&1&&Q!==(Q=Ee(H[3],H[2],H[1])?"✅":"❌")&&L(oe,Q)},d(H){H&&f(e),T.d()}}}function io(t){let e,o;return{c(){e=d("span"),o=y("Edge")},l(r){e=_(r,"SPAN",{});var n=v(e);o=k(n,"Edge"),n.forEach(f)},m(r,n){O(r,e,n),l(e,o)},d(r){r&&f(e)}}}function ao(t){let e,o;return{c(){e=d("span"),o=y("Corner")},l(r){e=_(r,"SPAN",{});var n=v(e);o=k(n,"Corner"),n.forEach(f)},m(r,n){O(r,e,n),l(e,o)},d(r){r&&f(e)}}}function co(t){let e,o;return{c(){e=d("span"),o=y("Center")},l(r){e=_(r,"SPAN",{});var n=v(e);o=k(n,"Center"),n.forEach(f)},m(r,n){O(r,e,n),l(e,o)},d(r){r&&f(e)}}}function fo(t){let e,o=t[0]&&yt(xe(t));return{c(){o&&o.c(),e=at()},l(r){o&&o.l(r),e=at()},m(r,n){o&&o.m(r,n),O(r,e,n)},p(r,[n]){r[0]?o?o.p(xe(r),n):(o=yt(xe(r)),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:me,o:me,d(r){o&&o.d(r),r&&f(e)}}}function uo(t,e,o){let{historyItem:r}=e;return t.$$set=n=>{"historyItem"in n&&o(0,r=n.historyItem)},[r]}class ho extends Re{constructor(e){super(),ze(this,e,uo,fo,Ye,{historyItem:0})}}function kt(t,e,o){const r=t.slice();return r[2]=e[o],r}function gt(t){let e,o,r,n,s,i,a,c,p,g,h,E,F,$,S,u=t[0].length===0&&wt(),M=t[0],w=[];for(let P=0;P<M.length;P+=1)w[P]=Pt(kt(t,M,P));const W=P=>K(w[P],1,1,()=>{w[P]=null});return{c(){e=d("div"),u&&u.c(),o=A(),r=d("h4"),n=y("Move"),s=A(),i=d("h4"),a=y("Selection"),c=A(),p=d("h4"),g=y("AI"),h=A(),E=d("h4"),F=y("Stats"),$=A();for(let P=0;P<w.length;P+=1)w[P].c();this.h()},l(P){e=_(P,"DIV",{class:!0});var C=v(e);u&&u.l(C),o=I(C),r=_(C,"H4",{});var m=v(r);n=k(m,"Move"),m.forEach(f),s=I(C),i=_(C,"H4",{});var B=v(i);a=k(B,"Selection"),B.forEach(f),c=I(C),p=_(C,"H4",{});var V=v(p);g=k(V,"AI"),V.forEach(f),h=I(C),E=_(C,"H4",{});var z=v(E);F=k(z,"Stats"),z.forEach(f),$=I(C);for(let G=0;G<w.length;G+=1)w[G].l(C);C.forEach(f),this.h()},h(){re(e,"class","grid4cols svelte-1ofp4bt")},m(P,C){O(P,e,C),u&&u.m(e,null),l(e,o),l(e,r),l(r,n),l(e,s),l(e,i),l(i,a),l(e,c),l(e,p),l(p,g),l(e,h),l(e,E),l(E,F),l(e,$);for(let m=0;m<w.length;m+=1)w[m].m(e,null);S=!0},p(P,C){if(P[0].length===0?u||(u=wt(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),C&1){M=P[0];let m;for(m=0;m<M.length;m+=1){const B=kt(P,M,m);w[m]?(w[m].p(B,C),Y(w[m],1)):(w[m]=Pt(B),w[m].c(),Y(w[m],1),w[m].m(e,null))}for(je(),m=M.length;m<w.length;m+=1)W(m);Qe()}},i(P){if(!S){for(let C=0;C<M.length;C+=1)Y(w[C]);S=!0}},o(P){w=w.filter(Boolean);for(let C=0;C<w.length;C+=1)K(w[C]);S=!1},d(P){P&&f(e),u&&u.d(),Ht(w,P)}}}function wt(t){let e,o;return{c(){e=d("p"),o=y("No move yet.")},l(r){e=_(r,"P",{});var n=v(e);o=k(n,"No move yet."),n.forEach(f)},m(r,n){O(r,e,n),l(e,o)},d(r){r&&f(e)}}}function po(t){let e;return{c(){e=d("span"),this.h()},l(o){e=_(o,"SPAN",{class:!0}),v(e).forEach(f),this.h()},h(){re(e,"class","item svelte-1ofp4bt")},m(o,r){O(o,e,r)},p:me,d(o){o&&f(e)}}}function _o(t){let e,o=t[2].aiChoice.score+"",r,n,s=t[2].aiChoice.reason+"",i;return{c(){e=d("span"),r=y(o),n=y(" - "),i=y(s),this.h()},l(a){e=_(a,"SPAN",{class:!0});var c=v(e);r=k(c,o),n=k(c," - "),i=k(c,s),c.forEach(f),this.h()},h(){re(e,"class","item svelte-1ofp4bt")},m(a,c){O(a,e,c),l(e,r),l(e,n),l(e,i)},p(a,c){c&1&&o!==(o=a[2].aiChoice.score+"")&&L(r,o),c&1&&s!==(s=a[2].aiChoice.reason+"")&&L(i,s)},d(a){a&&f(e)}}}function Pt(t){let e,o,r,n,s=t[2].method+"",i,a,c,p,g,h,E;o=new At({props:{board:t[2].board,dimensionPx:{width:100,height:100},highlightCell:ht(t[2].moveAsIndex),noLoop:!0}});function F(u,M){return u[2].aiChoice?_o:po}let $=F(t),S=$(t);return g=new ho({props:{historyItem:t[2]}}),{c(){e=d("div"),Fe(o.$$.fragment),r=A(),n=d("span"),i=y(s),a=A(),S.c(),c=A(),p=d("div"),Fe(g.$$.fragment),h=A(),this.h()},l(u){e=_(u,"DIV",{class:!0});var M=v(e);Ve(o.$$.fragment,M),M.forEach(f),r=I(u),n=_(u,"SPAN",{class:!0});var w=v(n);i=k(w,s),w.forEach(f),a=I(u),S.l(u),c=I(u),p=_(u,"DIV",{class:!0});var W=v(p);Ve(g.$$.fragment,W),h=I(W),W.forEach(f),this.h()},h(){re(e,"class","item svelte-1ofp4bt"),re(n,"class","item svelte-1ofp4bt"),re(p,"class","item svelte-1ofp4bt")},m(u,M){O(u,e,M),Ge(o,e,null),O(u,r,M),O(u,n,M),l(n,i),O(u,a,M),S.m(u,M),O(u,c,M),O(u,p,M),Ge(g,p,null),l(p,h),E=!0},p(u,M){const w={};M&1&&(w.board=u[2].board),M&1&&(w.highlightCell=ht(u[2].moveAsIndex)),o.$set(w),(!E||M&1)&&s!==(s=u[2].method+"")&&L(i,s),$===($=F(u))&&S?S.p(u,M):(S.d(1),S=$(u),S&&(S.c(),S.m(c.parentNode,c)));const W={};M&1&&(W.historyItem=u[2]),g.$set(W)},i(u){E||(Y(o.$$.fragment,u),Y(g.$$.fragment,u),E=!0)},o(u){K(o.$$.fragment,u),K(g.$$.fragment,u),E=!1},d(u){u&&f(e),Le(o),u&&f(r),u&&f(n),u&&f(a),S.d(u),u&&f(c),u&&f(p),Le(g)}}}function vo(t){let e,o,r=t[1]&&gt(t);return{c(){e=d("div"),r&&r.c()},l(n){e=_(n,"DIV",{});var s=v(e);r&&r.l(s),s.forEach(f)},m(n,s){O(n,e,s),r&&r.m(e,null),o=!0},p(n,[s]){n[1]?r?(r.p(n,s),s&2&&Y(r,1)):(r=gt(n),r.c(),Y(r,1),r.m(e,null)):r&&(je(),K(r,1,1,()=>{r=null}),Qe())},i(n){o||(Y(r),o=!0)},o(n){K(r),o=!1},d(n){n&&f(e),r&&r.d()}}}function mo(t,e,o){let{history:r}=e,{showMoveHistory:n}=e;return t.$$set=s=>{"history"in s&&o(0,r=s.history),"showMoveHistory"in s&&o(1,n=s.showMoveHistory)},[r,n]}class yo extends Re{constructor(e){super(),ze(this,e,mo,vo,Ye,{history:0,showMoveHistory:1})}}function ko(t){let e,o;return e=new At({props:{board:t[0].board,dimensionPx:{width:100,height:100},noLoop:!0}}),{c(){Fe(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,n){Ge(e,r,n),o=!0},p(r,n){const s={};n&1&&(s.board=r[0].board),e.$set(s)},i(r){o||(Y(e.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),o=!1},d(r){Le(e,r)}}}function go(t){let e,o;return e=new yo({props:{history:t[0].moveHistory,showMoveHistory:t[1]}}),{c(){Fe(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,n){Ge(e,r,n),o=!0},p(r,n){const s={};n&1&&(s.history=r[0].moveHistory),n&2&&(s.showMoveHistory=r[1]),e.$set(s)},i(r){o||(Y(e.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),o=!1},d(r){Le(e,r)}}}function wo(t){let e,o,r,n,s,i=t[2](t[0])+"",a,c,p,g=t[1]?"Hide":"Show",h,E,F,$,S,u,M,w;const W=[go,ko],P=[];function C(m,B){return m[1]?0:1}return $=C(t),S=P[$]=W[$](t),{c(){e=d("div"),o=d("h4"),r=y("Game info"),n=A(),s=d("span"),a=y(i),c=A(),p=d("button"),h=y(g),E=y(" move history"),F=A(),S.c()},l(m){e=_(m,"DIV",{});var B=v(e);o=_(B,"H4",{});var V=v(o);r=k(V,"Game info"),V.forEach(f),n=I(B),s=_(B,"SPAN",{});var z=v(s);a=k(z,i),z.forEach(f),c=I(B),p=_(B,"BUTTON",{});var G=v(p);h=k(G,g),E=k(G," move history"),G.forEach(f),F=I(B),S.l(B),B.forEach(f)},m(m,B){O(m,e,B),l(e,o),l(o,r),l(e,n),l(e,s),l(s,a),l(e,c),l(e,p),l(p,h),l(p,E),l(e,F),P[$].m(e,null),u=!0,M||(w=Bt(p,"click",t[3]),M=!0)},p(m,[B]){(!u||B&1)&&i!==(i=m[2](m[0])+"")&&L(a,i),(!u||B&2)&&g!==(g=m[1]?"Hide":"Show")&&L(h,g);let V=$;$=C(m),$===V?P[$].p(m,B):(je(),K(P[V],1,1,()=>{P[V]=null}),Qe(),S=P[$],S?S.p(m,B):(S=P[$]=W[$](m),S.c()),Y(S,1),S.m(e,null))},i(m){u||(Y(S),u=!0)},o(m){K(S),u=!1},d(m){m&&f(e),P[$].d(),M=!1,w()}}}function Po(t,e,o){let{game:r}=e,n=!1;const s=a=>!a||!a.state?"N/A":a.state==="not_over"?"Turn: "+(a.currentPlayer===D.player?"Player":"Computer"):a.state==="player_win"?"Player Win":a.state==="computer_win"?"Computer Win":a.state==="draw"?"Draw":a.state==="over"?"Game Over":"Invalid Game",i=()=>o(1,n=!n);return t.$$set=a=>{"game"in a&&o(0,r=a.game)},[r,n,s,i]}class Ao extends Re{constructor(e){super(),ze(this,e,Po,wo,Ye,{game:0})}}export{At as B,Ao as G,D as P,No as a,Mo as b,dt as c,Eo as d,_t as e,Ce as f,Vt as g,Co as m,vt as s,ut as x};
