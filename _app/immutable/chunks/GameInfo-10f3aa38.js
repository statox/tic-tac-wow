import{S as Ne,i as Ae,s as Ie,k as d,q as g,a as A,l as _,m as v,r as k,h as u,c as I,b as W,D as l,B as ne,n as U,u as X,a2 as It,T as Ht,o as Bt,g as Qe,t as K,d as Ze,f as J,U as Dt,w as Xe,x as Re,y as ze,z as Ye,e as at,K as Tt,J as Ot}from"./index-e565ab33.js";import{_ as Wt}from"./preload-helper-41c905a7.js";const Ft=[448,56,7,292,146,73,273,84],Vt=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],Gt=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],Lt=[{p:2,o:5},{p:2,o:144}],Pe=(t,e)=>(t&e)===e;var O=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(O||{});function ct(t){let e=t,o=0;for(;e;)o+=e&1,e>>=1;return o}function ft(t,e){return N(t,e)}function N(t,e){return!(t&1<<e)}function et(t,e){return t+2**e}const Je=t=>{for(const e of Ft)if(Pe(t,e))return!0;return!1},Xt={1:O.computer,2:O.player},je=t=>Xt[t];function Rt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function ve(t,e){return e===O.player?t.player:t.computer}function me(t,e){return e===O.player?t.computer:t.player}function Me(t,e){if(!e&&!bt(t))return"invalid_board";const o=Je(t.player),r=Je(t.computer);return o&&r?"draw":o?"player_win":r?"computer_win":St(t)?"not_over":"over"}function Ce(t,e,o){if(!zt(t,o))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${o} `);e===O.player?t.player=et(t.player,o):t.computer=et(t.computer,o)}function bt(t){if(t.player&t.computer)return!1;const e=ct(t.player),o=ct(t.computer);return!(Math.abs(e-o)>1)}function zt(t,e){return N(t.player,e)&&N(t.computer,e)}function St(t){return(t.player|t.computer)!==511}function He(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const o=[];let r=0;for(;r<9;)e&1||o.push(r),r++,e>>=1;return o}function ut(t){const{x:e,y:o}=t;if(e<0||e>2||o<0||o>2)throw new Error(`Invalid coords (${e},${o})`);return 8-(3*o+e)}function ht(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const Yt=[2,5,8,1,4,7,0,3,6];function pt(t){let e=0;return Yt.forEach((o,r)=>{N(t,r)||(e=et(e,o))}),e}function qe(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const o={...t};for(let r=0;r<e;r++)o.player=pt(o.player),o.computer=pt(o.computer);return o}function Et(t,e){return He(t).map(r=>{const n={...t};return Ce(n,e,r),{move:r,board:n}})}function Jt(t,e){if(He(t).length===0)throw new Error("No available moves");const n=tt({board:t,player:e,depth:1,moves:[]});return{score:n.score,reason:n.reason,move:n.moves[0]}}function jt(t){return t==="player_win"?{score:4,reason:t}:t==="draw"?{score:3,reason:t}:t==="over"?{score:2,reason:t}:t==="not_over"?{score:1,reason:t}:t==="computer_win"?{score:0,reason:t}:{score:-1,reason:t}}const qt=12;function tt(t){const e=Me(t.board);if(t.depth===qt||e!=="not_over")return{moves:t.moves,...jt(e)};const o=Et(t.board,t.player);if(t.player===O.player){let n;for(const s of o){const i={board:s.board,player:je(t.player),depth:t.depth+1,moves:[...t.moves,s.move]},a=tt(i);(!n||a.score>n.score)&&(n=a)}if(!n)throw new Error("Couldnt get any best child for maximizing player");return n}let r;for(const n of o){const s={board:n.board,player:je(t.player),depth:t.depth+1,moves:[...t.moves,n.move]},i=tt(s);(!r||i.score<r.score)&&(r=i)}if(!r)throw new Error("Couldnt get any best child for maximizing player");return r}function _e(t,e){const o=ve(t,e);return Je(o)}function nt(t){return t===4}function Ue(t,e,o){const r=ve(t,e),n=me(t,e);if(o===4){const s=N(n,5)&&!N(r,3)||!N(r,5)&&N(n,3)?1:0,i=N(n,7)&&!N(r,1)||!N(r,7)&&N(n,1)?1:0,a=N(n,8)&&!N(r,0)||!N(r,8)&&N(n,0)?1:0,c=N(n,6)&&!N(r,2)||!N(r,6)&&N(n,2)?1:0;return s+i+a+c>=2}if($e.has(o)){const s={0:0,2:3,6:1,8:2}[o]||0,i=qe(t,s),a=ve(i,e),c=me(i,e),p=N(c,2)&&!N(a,1)||!N(a,2)&&N(c,1),w=N(c,6)&&!N(a,3)||!N(a,6)&&N(c,3);return p&&w}if(st.has(o)){const s={1:0,3:1,5:3,7:2}[o]||0,i=qe(t,s),a=ve(i,e),c=me(i,e),p=N(c,2)&&!N(a,0)||!N(a,2)&&N(c,0),w=N(c,7)&&!N(a,4)||!N(a,7)&&N(c,4);return p&&w}return!1}function ot(t,e,o){const r=ve(t,e),s={player:me(t,e),computer:r};return Ue(s,e===O.player?O.computer:O.player,o)}function Ee(t,e,o){const r=ve(t,e),n=me(t,e);if(o===4){for(const{o:s,p:i}of Vt)if(Pe(r,i)&&Pe(n,s))return!0}if($e.has(o)){const s={0:0,2:3,6:1,8:2}[o]||0,i=qe(t,s),a=ve(i,e),c=me(i,e);for(const{o:p,p:w}of Gt)if(Pe(a,w)&&Pe(c,p))return!0}if(st.has(o)){const s={1:0,3:1,5:3,7:2}[o]||0,i=qe(t,s),a=ve(i,e),c=me(i,e);for(const{o:p,p:w}of Lt)if(Pe(a,w)&&Pe(c,p))return!0}return!1}const $e=new Set([0,2,6,8]),st=new Set([1,3,5,7]);function Ke(t,e,o){if(!$e.has(o))return!1;const r=8-o,n=me(t,e);return!N(n,r)}function lt(t){return $e.has(t)}function Mt(t){return st.has(t)}function Ut(t,e){const o=He(t);if(o.length===0)throw new Error("No available moves");let r;for(const n of o){const s={...t};Ce(s,e,n);const i=Kt(s,e,n);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Kt(t,e,o){return _e(t,e)?{score:8,reason:"win",move:o}:Ee(t,e,o)?{score:7,reason:"block_opponent",move:o}:Ue(t,e,o)?{score:6,reason:"create_fork",move:o}:ot(t,e,o)?{score:5,reason:"block_opponent_fork",move:o}:nt(o)?{score:4,reason:"take_center",move:o}:Ke(t,e,o)?{score:3,reason:"take_opposite_corner",move:o}:lt(o)?{score:2,reason:"take_corner",move:o}:Mt(o)?{score:1,reason:"take_edge",move:o}:{score:0,reason:"default_choice",move:o}}function Qt(t,e){const o=He(t);if(o.length===0)throw new Error("No available moves");let r;for(const n of o){const s={...t};Ce(s,e,n);const i=Zt(s,e,n);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Zt(t,e,o){return _e(t,O.player)?{score:8,reason:"win",move:o}:Ee(t,e,o)?{score:7,reason:"block_opponent",move:o}:nt(o)?{score:4,reason:"take_center",move:o}:Ke(t,e,o)?{score:3,reason:"take_opposite_corner",move:o}:lt(o)?{score:2,reason:"take_corner",move:o}:Mt(o)?{score:1,reason:"take_edge",move:o}:{score:0,reason:"default_choice",move:o}}function $t(t){const e=He(t);if(e.length===0)throw new Error("No available moves");const o=Math.floor(Math.random()*e.length);return{score:0,reason:"random",move:e[o]}}const dt={random:$t,hardcodedRules:Qt,hardcodedRulesComplete:Ut,minmax:Jt};function Ct(t,e){if(!e&&!bt(t))return"invalid_board";const o=Je(t.computer),r=Je(t.player);return o&&r?"draw":o?"player_win":r?"computer_win":St(t)?"not_over":"over"}function xt(t,e){if(He(t).length===0)throw new Error("No available moves");const n=rt({board:t,player:e,depth:1,moves:[]});return{score:n.score,reason:n.reason,move:n.moves[0]}}function eo(t){return t==="player_win"?{score:0,reason:t}:t==="draw"?{score:1,reason:t}:t==="over"?{score:2,reason:t}:t==="not_over"?{score:3,reason:t}:t==="computer_win"?{score:4,reason:t}:{score:-1,reason:t}}const to=12;function rt(t){const e=Me(t.board);if(t.depth===to||e!=="not_over")return{moves:t.moves,...eo(e)};const o=Et(t.board,t.player);if(t.player===O.player){let n;for(const s of o){const i={board:s.board,player:je(t.player),depth:t.depth+1,moves:[...t.moves,s.move]},a=rt(i);(!n||a.score>n.score)&&(n=a)}if(!n)throw new Error("Couldnt get any best child for maximizing player");return n}let r;for(const n of o){const s={board:n.board,player:je(t.player),depth:t.depth+1,moves:[...t.moves,n.move]},i=rt(s);(!r||i.score<r.score)&&(r=i)}if(!r)throw new Error("Couldnt get any best child for maximizing player");return r}const Bo=t=>({type:"tictactoe",board:Rt(),currentPlayer:t??O.player,state:"not_over",moveHistory:[]});function Nt(t){t.currentPlayer=t.currentPlayer===O.player?O.computer:O.player}const Do=(t,e,o)=>{t.state==="not_over"&&(Ce(t.board,e,o),t.type==="tictactoe"&&(t.state=Me(t.board)),t.type==="misere"&&(t.state=Ct(t.board)),t.moveHistory.push({board:{...t.board},moveAsIndex:o,player:e,method:"manual"}),Nt(t))},To=(t,e,o)=>{if(t.state!=="not_over")return;let r;if(t.type==="tictactoe"){const n=dt[o];r=n(t.board,e),Ce(t.board,e,r.move),t.state=Me(t.board)}if(t.type==="misere"){let n;o==="random"?n=dt.random:n=xt,r=n(t.board,e),Ce(t.board,e,r.move),t.state=Ct(t.board)}if(!r)throw new Error("Couldnt get move");t.moveHistory.push({board:{...t.board},moveAsIndex:r.move,player:e,method:o,aiChoice:r}),Nt(t)},oo="#FF0000",ro="#64ccfc";function _t(t,e,o){var w;const r=t.width/3,n=t.height/3,{height:s,width:i}=t,{drawSelection:a,selection:c,currentPlayer:p}=o||{};t.rectMode(t.CENTER),t.noFill(),t.stroke(255),t.strokeWeight(1),t.line(r,0,r,s),t.line(r*2,0,r*2,s),t.line(0,n,i,n),t.line(0,n*2,i,n*2),t.stroke(155),t.strokeWeight(3),t.rect(t.width/2,t.height/2,t.width,t.height),t.strokeWeight(4);for(let f=0;f<3;f++)for(let E=0;E<3;E++)((w=o==null?void 0:o.highlightCell)==null?void 0:w.x)===E&&(o==null?void 0:o.highlightCell.y)===f&&(t.noStroke(),t.fill(30,250,80,80),t.rect(E*r+r/2,f*n+n/2,r*.95,n*.95),t.noFill()),(!ft(e.player,ut({x:E,y:f}))||a&&p===O.player&&(c==null?void 0:c.x)===E&&(c==null?void 0:c.y)===f)&&(t.stroke(ro),t.circle(E*r+r/2,f*n+n/2,n/2)),(!ft(e.computer,ut({x:E,y:f}))||a&&p===O.computer&&(c==null?void 0:c.x)===E&&(c==null?void 0:c.y)===f)&&(t.stroke(oo),t.line(E*r+r*.3,f*n+n*.3,E*r+r*.7,f*n+n*.7),t.line(E*r+r*.7,f*n+n*.3,E*r+r*.3,f*n+n*.7))}function vt(t){const{mouseX:e,mouseY:o,width:r,height:n}=t,s=Math.floor(t.map(e,0,r,0,3)),i=Math.floor(t.map(o,0,n,0,3));return{x:s,y:i}}function mt(t){let e,o,r,n,s,i=Me(t[0])+"",a,c,p,w,f,E,V,H,m,h,M=t[0].player.toString(2).padStart(9,"0")+"",P,F,b,C=t[0].player+"",y,D,G,Y,L,x=_e(t[0],O.player)?"✅":"❌",pe,se,R,le,ie,Z,de,ye,Q,ge,ae=t[0].computer.toString(2).padStart(9,"0")+"",ee,ce,te,fe=t[0].computer+"",oe,ke,ue,he,$,re=_e(t[0],O.computer)?"✅":"❌",we;return{c(){e=d("div"),o=d("span"),r=g("State:"),n=A(),s=d("span"),a=g(i),c=A(),p=d("div"),w=d("span"),f=g("Player 1"),E=d("span"),V=g("Player, O"),H=A(),m=d("span"),h=g("0b"),P=g(M),F=A(),b=d("span"),y=g(C),D=A(),G=d("span"),Y=g("Wins"),L=d("span"),pe=g(x),se=A(),R=d("div"),le=d("span"),ie=g("Player 2"),Z=d("span"),de=g("Computer, X"),ye=A(),Q=d("span"),ge=g("0b"),ee=g(ae),ce=A(),te=d("span"),oe=g(fe),ke=A(),ue=d("span"),he=g("Wins"),$=d("span"),we=g(re),this.h()},l(z){e=_(z,"DIV",{class:!0});var T=v(e);o=_(T,"SPAN",{});var B=v(o);r=k(B,"State:"),B.forEach(u),n=I(T),s=_(T,"SPAN",{});var S=v(s);a=k(S,i),S.forEach(u),c=I(T),p=_(T,"DIV",{class:!0});var j=v(p);w=_(j,"SPAN",{});var Be=v(w);f=k(Be,"Player 1"),Be.forEach(u),E=_(j,"SPAN",{});var De=v(E);V=k(De,"Player, O"),De.forEach(u),H=I(j),m=_(j,"SPAN",{});var be=v(m);h=k(be,"0b"),P=k(be,M),be.forEach(u),F=I(j),b=_(j,"SPAN",{});var Te=v(b);y=k(Te,C),Te.forEach(u),D=I(j),G=_(j,"SPAN",{});var Oe=v(G);Y=k(Oe,"Wins"),Oe.forEach(u),L=_(j,"SPAN",{});var We=v(L);pe=k(We,x),We.forEach(u),j.forEach(u),se=I(T),R=_(T,"DIV",{class:!0});var q=v(R);le=_(q,"SPAN",{});var Fe=v(le);ie=k(Fe,"Player 2"),Fe.forEach(u),Z=_(q,"SPAN",{});var Ve=v(Z);de=k(Ve,"Computer, X"),Ve.forEach(u),ye=I(q),Q=_(q,"SPAN",{});var Se=v(Q);ge=k(Se,"0b"),ee=k(Se,ae),Se.forEach(u),ce=I(q),te=_(q,"SPAN",{});var Ge=v(te);oe=k(Ge,fe),Ge.forEach(u),ke=I(q),ue=_(q,"SPAN",{});var Le=v(ue);he=k(Le,"Wins"),Le.forEach(u),$=_(q,"SPAN",{});var it=v($);we=k(it,re),it.forEach(u),q.forEach(u),T.forEach(u),this.h()},h(){U(p,"class","grid2cols svelte-1lw5ne4"),U(R,"class","grid2cols svelte-1lw5ne4"),U(e,"class","grid2cols svelte-1lw5ne4")},m(z,T){W(z,e,T),l(e,o),l(o,r),l(e,n),l(e,s),l(s,a),l(e,c),l(e,p),l(p,w),l(w,f),l(p,E),l(E,V),l(p,H),l(p,m),l(m,h),l(m,P),l(p,F),l(p,b),l(b,y),l(p,D),l(p,G),l(G,Y),l(p,L),l(L,pe),l(e,se),l(e,R),l(R,le),l(le,ie),l(R,Z),l(Z,de),l(R,ye),l(R,Q),l(Q,ge),l(Q,ee),l(R,ce),l(R,te),l(te,oe),l(R,ke),l(R,ue),l(ue,he),l(R,$),l($,we)},p(z,T){T&1&&i!==(i=Me(z[0])+"")&&X(a,i),T&1&&M!==(M=z[0].player.toString(2).padStart(9,"0")+"")&&X(P,M),T&1&&C!==(C=z[0].player+"")&&X(y,C),T&1&&x!==(x=_e(z[0],O.player)?"✅":"❌")&&X(pe,x),T&1&&ae!==(ae=z[0].computer.toString(2).padStart(9,"0")+"")&&X(ee,ae),T&1&&fe!==(fe=z[0].computer+"")&&X(oe,fe),T&1&&re!==(re=_e(z[0],O.computer)?"✅":"❌")&&X(we,re)},d(z){z&&u(e)}}}function no(t){let e,o,r,n,s=t[0]&&mt(t);return{c(){e=d("div"),o=d("h4"),r=g("Board info"),n=A(),s&&s.c()},l(i){e=_(i,"DIV",{});var a=v(e);o=_(a,"H4",{});var c=v(o);r=k(c,"Board info"),c.forEach(u),n=I(a),s&&s.l(a),a.forEach(u)},m(i,a){W(i,e,a),l(e,o),l(o,r),l(e,n),s&&s.m(e,null)},p(i,[a]){i[0]?s?s.p(i,a):(s=mt(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:ne,o:ne,d(i){i&&u(e),s&&s.d()}}}function so(t,e,o){let{board:r}=e;return t.$$set=n=>{"board"in n&&o(0,r=n.board)},[r]}class Oo extends Ne{constructor(e){super(),Ae(this,e,so,no,Ie,{board:0})}}function lo(t){let e,o,r;return{c(){e=d("div"),this.h()},l(n){e=_(n,"DIV",{style:!0,class:!0}),v(e).forEach(u),this.h()},h(){U(e,"style",t[0]),U(e,"class","m-0")},m(n,s){W(n,e,s),o||(r=It(t[1].call(null,e)),o=!0)},p(n,[s]){s&1&&U(e,"style",n[0])},i:ne,o:ne,d(n){n&&u(e),o=!1,r()}}}function io(t,e){return e.forEach(([o,r])=>t[o]=r),t}function ao(t,e,o){let{target:r=void 0}=e,{sketch:n=void 0}=e,{parentDivStyle:s="display: block;"}=e,{debug:i=!1}=e,a;const c=Ht(),p={ref(){c("ref",r)},instance(){c("instance",a)}};function w(f){return o(2,r=f),{destroy(){o(2,r=void 0)}}}return Bt(async()=>{const f=await Wt(()=>import("./p5.min-7dea8225.js").then(m=>m.p),[],import.meta.url),{default:E}=f,H=Object.entries(f).filter(([m,h])=>h instanceof Function&&m[0]!=="_"&&m!=="default");i&&console.log("available p5 native classes",H),a=new E(m=>(m=io(m,H),i&&console.log("p5 instance",m),window._p5Instance=m,n(m)),r),p.ref(),p.instance()}),t.$$set=f=>{"target"in f&&o(2,r=f.target),"sketch"in f&&o(3,n=f.sketch),"parentDivStyle"in f&&o(0,s=f.parentDivStyle),"debug"in f&&o(4,i=f.debug)},[s,w,r,n,i]}class co extends Ne{constructor(e){super(),Ae(this,e,ao,lo,Ie,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function fo(t){let e,o,r=JSON.stringify(t[0])+"",n;return{c(){e=d("p"),o=g("Board is undefined "),n=g(r)},l(s){e=_(s,"P",{});var i=v(e);o=k(i,"Board is undefined "),n=k(i,r),i.forEach(u)},m(s,i){W(s,e,i),l(e,o),l(e,n)},p(s,i){i&1&&r!==(r=JSON.stringify(s[0])+"")&&X(n,r)},i:ne,o:ne,d(s){s&&u(e)}}}function uo(t){let e,o;return e=new co({props:{sketch:t[1]}}),{c(){Xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,n){ze(e,r,n),o=!0},p:ne,i(r){o||(J(e.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),o=!1},d(r){Ye(e,r)}}}function ho(t){let e,o,r,n;const s=[uo,fo],i=[];function a(c,p){return c[0]?0:1}return o=a(t),r=i[o]=s[o](t),{c(){e=d("div"),r.c()},l(c){e=_(c,"DIV",{});var p=v(e);r.l(p),p.forEach(u)},m(c,p){W(c,e,p),i[o].m(e,null),n=!0},p(c,[p]){let w=o;o=a(c),o===w?i[o].p(c,p):(Qe(),K(i[w],1,1,()=>{i[w]=null}),Ze(),r=i[o],r?r.p(c,p):(r=i[o]=s[o](c),r.c()),J(r,1),r.m(e,null))},i(c){n||(J(r),n=!0)},o(c){K(r),n=!1},d(c){c&&u(e),i[o].d()}}}function po(t,e,o){let{dimensionPx:r}=e,{board:n}=e,{highlightCell:s=void 0}=e,{highlightMouse:i=!1}=e,{noLoop:a=!1}=e,{onClick:c=()=>{}}=e,p;const w=f=>{f.setup=()=>{p=f,f.createCanvas(r.width,r.height)},f.draw=()=>{f.background(0),i?_t(f,n,{highlightCell:vt(f)}):_t(f,n,{highlightCell:s}),a&&f.noLoop()},a||(f.mousePressed=()=>{f.mouseX<0||f.mouseX>f.width||f.mouseY<0||f.mouseY>f.height||c("manual",vt(f))})};return Dt(()=>{p==null||p.remove()}),t.$$set=f=>{"dimensionPx"in f&&o(2,r=f.dimensionPx),"board"in f&&o(0,n=f.board),"highlightCell"in f&&o(3,s=f.highlightCell),"highlightMouse"in f&&o(4,i=f.highlightMouse),"noLoop"in f&&o(5,a=f.noLoop),"onClick"in f&&o(6,c=f.onClick)},[n,w,r,s,i,a,c]}class At extends Ne{constructor(e){super(),Ae(this,e,po,ho,Ie,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,noLoop:5,onClick:6})}}function xe(t){const e=t.slice(),o=e[0];return e[1]=o.moveAsIndex,e[2]=o.player,e[3]=o.board,e}function yt(t){let e,o,r,n,s,i,a,c,p,w,f,E=_e(t[3],t[2])?"✅":"❌",V,H,m,h,M,P,F=Ee(t[3],t[2],t[1])?"✅":"❌",b,C,y,D,G,Y,L=Ue(t[3],t[2],t[1])?"✅":"❌",x,pe,se,R,le,ie,Z=ot(t[3],t[2],t[1])?"✅":"❌",de,ye,Q,ge,ae,ee,ce=Ke(t[3],t[2],t[1])?"✅":"❌",te,fe,oe,ke,ue,he,$=Ee(t[3],t[2],t[1])?"✅":"❌",re;function we(B,S){return S&1&&(s=null),S&1&&(i=null),s==null&&(s=!!nt(B[1])),s?mo:(i==null&&(i=!!lt(B[1])),i?vo:_o)}let z=we(t,-1),T=z(t);return{c(){e=d("div"),o=d("span"),r=g("Position"),n=A(),T.c(),a=A(),c=d("span"),p=g("Player win"),w=A(),f=d("span"),V=g(E),H=A(),m=d("span"),h=g("Move blocks opponent"),M=A(),P=d("span"),b=g(F),C=A(),y=d("span"),D=g("Move creates fork"),G=A(),Y=d("span"),x=g(L),pe=A(),se=d("span"),R=g("Move blocks opponent's fork"),le=A(),ie=d("span"),de=g(Z),ye=A(),Q=d("span"),ge=g("Took opposite corner"),ae=A(),ee=d("span"),te=g(ce),fe=A(),oe=d("span"),ke=g("Last move blocks opponent"),ue=A(),he=d("span"),re=g($),this.h()},l(B){e=_(B,"DIV",{class:!0});var S=v(e);o=_(S,"SPAN",{});var j=v(o);r=k(j,"Position"),j.forEach(u),n=I(S),T.l(S),a=I(S),c=_(S,"SPAN",{});var Be=v(c);p=k(Be,"Player win"),Be.forEach(u),w=I(S),f=_(S,"SPAN",{});var De=v(f);V=k(De,E),De.forEach(u),H=I(S),m=_(S,"SPAN",{});var be=v(m);h=k(be,"Move blocks opponent"),be.forEach(u),M=I(S),P=_(S,"SPAN",{});var Te=v(P);b=k(Te,F),Te.forEach(u),C=I(S),y=_(S,"SPAN",{});var Oe=v(y);D=k(Oe,"Move creates fork"),Oe.forEach(u),G=I(S),Y=_(S,"SPAN",{});var We=v(Y);x=k(We,L),We.forEach(u),pe=I(S),se=_(S,"SPAN",{});var q=v(se);R=k(q,"Move blocks opponent's fork"),q.forEach(u),le=I(S),ie=_(S,"SPAN",{});var Fe=v(ie);de=k(Fe,Z),Fe.forEach(u),ye=I(S),Q=_(S,"SPAN",{});var Ve=v(Q);ge=k(Ve,"Took opposite corner"),Ve.forEach(u),ae=I(S),ee=_(S,"SPAN",{});var Se=v(ee);te=k(Se,ce),Se.forEach(u),fe=I(S),oe=_(S,"SPAN",{});var Ge=v(oe);ke=k(Ge,"Last move blocks opponent"),Ge.forEach(u),ue=I(S),he=_(S,"SPAN",{});var Le=v(he);re=k(Le,$),Le.forEach(u),S.forEach(u),this.h()},h(){U(e,"class","grid2cols svelte-1lw5ne4")},m(B,S){W(B,e,S),l(e,o),l(o,r),l(e,n),T.m(e,null),l(e,a),l(e,c),l(c,p),l(e,w),l(e,f),l(f,V),l(e,H),l(e,m),l(m,h),l(e,M),l(e,P),l(P,b),l(e,C),l(e,y),l(y,D),l(e,G),l(e,Y),l(Y,x),l(e,pe),l(e,se),l(se,R),l(e,le),l(e,ie),l(ie,de),l(e,ye),l(e,Q),l(Q,ge),l(e,ae),l(e,ee),l(ee,te),l(e,fe),l(e,oe),l(oe,ke),l(e,ue),l(e,he),l(he,re)},p(B,S){z!==(z=we(B,S))&&(T.d(1),T=z(B),T&&(T.c(),T.m(e,a))),S&1&&E!==(E=_e(B[3],B[2])?"✅":"❌")&&X(V,E),S&1&&F!==(F=Ee(B[3],B[2],B[1])?"✅":"❌")&&X(b,F),S&1&&L!==(L=Ue(B[3],B[2],B[1])?"✅":"❌")&&X(x,L),S&1&&Z!==(Z=ot(B[3],B[2],B[1])?"✅":"❌")&&X(de,Z),S&1&&ce!==(ce=Ke(B[3],B[2],B[1])?"✅":"❌")&&X(te,ce),S&1&&$!==($=Ee(B[3],B[2],B[1])?"✅":"❌")&&X(re,$)},d(B){B&&u(e),T.d()}}}function _o(t){let e,o;return{c(){e=d("span"),o=g("Edge")},l(r){e=_(r,"SPAN",{});var n=v(e);o=k(n,"Edge"),n.forEach(u)},m(r,n){W(r,e,n),l(e,o)},d(r){r&&u(e)}}}function vo(t){let e,o;return{c(){e=d("span"),o=g("Corner")},l(r){e=_(r,"SPAN",{});var n=v(e);o=k(n,"Corner"),n.forEach(u)},m(r,n){W(r,e,n),l(e,o)},d(r){r&&u(e)}}}function mo(t){let e,o;return{c(){e=d("span"),o=g("Center")},l(r){e=_(r,"SPAN",{});var n=v(e);o=k(n,"Center"),n.forEach(u)},m(r,n){W(r,e,n),l(e,o)},d(r){r&&u(e)}}}function yo(t){let e,o=t[0]&&yt(xe(t));return{c(){o&&o.c(),e=at()},l(r){o&&o.l(r),e=at()},m(r,n){o&&o.m(r,n),W(r,e,n)},p(r,[n]){r[0]?o?o.p(xe(r),n):(o=yt(xe(r)),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:ne,o:ne,d(r){o&&o.d(r),r&&u(e)}}}function go(t,e,o){let{historyItem:r}=e;return t.$$set=n=>{"historyItem"in n&&o(0,r=n.historyItem)},[r]}class ko extends Ne{constructor(e){super(),Ae(this,e,go,yo,Ie,{historyItem:0})}}function gt(t,e,o){const r=t.slice();return r[2]=e[o],r}function kt(t){let e,o,r,n,s,i,a,c,p,w,f,E,V,H,m,h=t[0].length===0&&wt(),M=[...t[0]].reverse(),P=[];for(let b=0;b<M.length;b+=1)P[b]=Pt(gt(t,M,b));const F=b=>K(P[b],1,1,()=>{P[b]=null});return{c(){e=d("div"),h&&h.c(),o=A(),r=d("h4"),n=g("Move"),s=A(),i=d("h4"),a=g("Selection"),c=A(),p=d("h4"),w=g("AI"),f=A(),E=d("h4"),V=g("Stats"),H=A();for(let b=0;b<P.length;b+=1)P[b].c();this.h()},l(b){e=_(b,"DIV",{class:!0});var C=v(e);h&&h.l(C),o=I(C),r=_(C,"H4",{});var y=v(r);n=k(y,"Move"),y.forEach(u),s=I(C),i=_(C,"H4",{});var D=v(i);a=k(D,"Selection"),D.forEach(u),c=I(C),p=_(C,"H4",{});var G=v(p);w=k(G,"AI"),G.forEach(u),f=I(C),E=_(C,"H4",{});var Y=v(E);V=k(Y,"Stats"),Y.forEach(u),H=I(C);for(let L=0;L<P.length;L+=1)P[L].l(C);C.forEach(u),this.h()},h(){U(e,"class","grid4cols svelte-1ofp4bt")},m(b,C){W(b,e,C),h&&h.m(e,null),l(e,o),l(e,r),l(r,n),l(e,s),l(e,i),l(i,a),l(e,c),l(e,p),l(p,w),l(e,f),l(e,E),l(E,V),l(e,H);for(let y=0;y<P.length;y+=1)P[y].m(e,null);m=!0},p(b,C){if(b[0].length===0?h||(h=wt(),h.c(),h.m(e,o)):h&&(h.d(1),h=null),C&1){M=[...b[0]].reverse();let y;for(y=0;y<M.length;y+=1){const D=gt(b,M,y);P[y]?(P[y].p(D,C),J(P[y],1)):(P[y]=Pt(D),P[y].c(),J(P[y],1),P[y].m(e,null))}for(Qe(),y=M.length;y<P.length;y+=1)F(y);Ze()}},i(b){if(!m){for(let C=0;C<M.length;C+=1)J(P[C]);m=!0}},o(b){P=P.filter(Boolean);for(let C=0;C<P.length;C+=1)K(P[C]);m=!1},d(b){b&&u(e),h&&h.d(),Tt(P,b)}}}function wt(t){let e,o;return{c(){e=d("p"),o=g("No move yet.")},l(r){e=_(r,"P",{});var n=v(e);o=k(n,"No move yet."),n.forEach(u)},m(r,n){W(r,e,n),l(e,o)},d(r){r&&u(e)}}}function wo(t){let e;return{c(){e=d("span"),this.h()},l(o){e=_(o,"SPAN",{class:!0}),v(e).forEach(u),this.h()},h(){U(e,"class","item svelte-1ofp4bt")},m(o,r){W(o,e,r)},p:ne,d(o){o&&u(e)}}}function Po(t){let e,o=t[2].aiChoice.score+"",r,n,s=t[2].aiChoice.reason+"",i;return{c(){e=d("span"),r=g(o),n=g(" - "),i=g(s),this.h()},l(a){e=_(a,"SPAN",{class:!0});var c=v(e);r=k(c,o),n=k(c," - "),i=k(c,s),c.forEach(u),this.h()},h(){U(e,"class","item svelte-1ofp4bt")},m(a,c){W(a,e,c),l(e,r),l(e,n),l(e,i)},p(a,c){c&1&&o!==(o=a[2].aiChoice.score+"")&&X(r,o),c&1&&s!==(s=a[2].aiChoice.reason+"")&&X(i,s)},d(a){a&&u(e)}}}function Pt(t){let e,o,r,n,s=t[2].method+"",i,a,c,p,w,f,E;o=new At({props:{board:t[2].board,dimensionPx:{width:100,height:100},highlightCell:ht(t[2].moveAsIndex),noLoop:!0}});function V(h,M){return h[2].aiChoice?Po:wo}let H=V(t),m=H(t);return w=new ko({props:{historyItem:t[2]}}),{c(){e=d("div"),Xe(o.$$.fragment),r=A(),n=d("span"),i=g(s),a=A(),m.c(),c=A(),p=d("div"),Xe(w.$$.fragment),f=A(),this.h()},l(h){e=_(h,"DIV",{class:!0});var M=v(e);Re(o.$$.fragment,M),M.forEach(u),r=I(h),n=_(h,"SPAN",{class:!0});var P=v(n);i=k(P,s),P.forEach(u),a=I(h),m.l(h),c=I(h),p=_(h,"DIV",{class:!0});var F=v(p);Re(w.$$.fragment,F),f=I(F),F.forEach(u),this.h()},h(){U(e,"class","item svelte-1ofp4bt"),U(n,"class","item svelte-1ofp4bt"),U(p,"class","item svelte-1ofp4bt")},m(h,M){W(h,e,M),ze(o,e,null),W(h,r,M),W(h,n,M),l(n,i),W(h,a,M),m.m(h,M),W(h,c,M),W(h,p,M),ze(w,p,null),l(p,f),E=!0},p(h,M){const P={};M&1&&(P.board=h[2].board),M&1&&(P.highlightCell=ht(h[2].moveAsIndex)),o.$set(P),(!E||M&1)&&s!==(s=h[2].method+"")&&X(i,s),H===(H=V(h))&&m?m.p(h,M):(m.d(1),m=H(h),m&&(m.c(),m.m(c.parentNode,c)));const F={};M&1&&(F.historyItem=h[2]),w.$set(F)},i(h){E||(J(o.$$.fragment,h),J(w.$$.fragment,h),E=!0)},o(h){K(o.$$.fragment,h),K(w.$$.fragment,h),E=!1},d(h){h&&u(e),Ye(o),h&&u(r),h&&u(n),h&&u(a),m.d(h),h&&u(c),h&&u(p),Ye(w)}}}function bo(t){let e,o,r=t[1]&&kt(t);return{c(){e=d("div"),r&&r.c()},l(n){e=_(n,"DIV",{});var s=v(e);r&&r.l(s),s.forEach(u)},m(n,s){W(n,e,s),r&&r.m(e,null),o=!0},p(n,[s]){n[1]?r?(r.p(n,s),s&2&&J(r,1)):(r=kt(n),r.c(),J(r,1),r.m(e,null)):r&&(Qe(),K(r,1,1,()=>{r=null}),Ze())},i(n){o||(J(r),o=!0)},o(n){K(r),o=!1},d(n){n&&u(e),r&&r.d()}}}function So(t,e,o){let{history:r}=e,{showMoveHistory:n}=e;return t.$$set=s=>{"history"in s&&o(0,r=s.history),"showMoveHistory"in s&&o(1,n=s.showMoveHistory)},[r,n]}class Eo extends Ne{constructor(e){super(),Ae(this,e,So,bo,Ie,{history:0,showMoveHistory:1})}}function Mo(t){let e,o;return e=new At({props:{board:t[0].board,dimensionPx:{width:100,height:100},noLoop:!0}}),{c(){Xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,n){ze(e,r,n),o=!0},p(r,n){const s={};n&1&&(s.board=r[0].board),e.$set(s)},i(r){o||(J(e.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),o=!1},d(r){Ye(e,r)}}}function Co(t){let e,o;return e=new Eo({props:{history:t[0].moveHistory,showMoveHistory:t[1]}}),{c(){Xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,n){ze(e,r,n),o=!0},p(r,n){const s={};n&1&&(s.history=r[0].moveHistory),n&2&&(s.showMoveHistory=r[1]),e.$set(s)},i(r){o||(J(e.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),o=!1},d(r){Ye(e,r)}}}function No(t){let e,o,r,n,s,i=t[2](t[0])+"",a,c,p,w=t[1]?"Hide":"Show",f,E,V,H,m,h,M,P;const F=[Co,Mo],b=[];function C(y,D){return y[1]?0:1}return H=C(t),m=b[H]=F[H](t),{c(){e=d("div"),o=d("h4"),r=g("Game info"),n=A(),s=d("span"),a=g(i),c=A(),p=d("button"),f=g(w),E=g(" move history"),V=A(),m.c()},l(y){e=_(y,"DIV",{});var D=v(e);o=_(D,"H4",{});var G=v(o);r=k(G,"Game info"),G.forEach(u),n=I(D),s=_(D,"SPAN",{});var Y=v(s);a=k(Y,i),Y.forEach(u),c=I(D),p=_(D,"BUTTON",{});var L=v(p);f=k(L,w),E=k(L," move history"),L.forEach(u),V=I(D),m.l(D),D.forEach(u)},m(y,D){W(y,e,D),l(e,o),l(o,r),l(e,n),l(e,s),l(s,a),l(e,c),l(e,p),l(p,f),l(p,E),l(e,V),b[H].m(e,null),h=!0,M||(P=Ot(p,"click",t[3]),M=!0)},p(y,[D]){(!h||D&1)&&i!==(i=y[2](y[0])+"")&&X(a,i),(!h||D&2)&&w!==(w=y[1]?"Hide":"Show")&&X(f,w);let G=H;H=C(y),H===G?b[H].p(y,D):(Qe(),K(b[G],1,1,()=>{b[G]=null}),Ze(),m=b[H],m?m.p(y,D):(m=b[H]=F[H](y),m.c()),J(m,1),m.m(e,null))},i(y){h||(J(m),h=!0)},o(y){K(m),h=!1},d(y){y&&u(e),b[H].d(),M=!1,P()}}}function Ao(t,e,o){let{game:r}=e,n=!1;const s=a=>!a||!a.state?"N/A":a.state==="not_over"?"Turn: "+(a.currentPlayer===O.player?"Player":"Computer"):a.state==="player_win"?"Player Win":a.state==="computer_win"?"Computer Win":a.state==="draw"?"Draw":a.state==="over"?"Game Over":"Invalid Game",i=()=>o(1,n=!n);return t.$$set=a=>{"game"in a&&o(0,r=a.game)},[r,n,s,i]}class Wo extends Ne{constructor(e){super(),Ae(this,e,Ao,No,Ie,{game:0})}}export{At as B,Wo as G,O as P,Oo as a,Do as b,dt as c,Bo as d,co as e,_t as f,Rt as g,Ce as h,To as m,vt as s,ut as x};
