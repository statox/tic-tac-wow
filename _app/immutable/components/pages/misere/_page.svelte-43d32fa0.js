import{S as te,i as ae,s as re,k as p,a as I,q as P,l as d,m as g,c as T,r as w,h as c,n as j,M as ge,b as S,D as i,N as me,J as x,f as b,g as he,t as E,d as ve,K as be,O as ye,u as Ee,B as pe,w as B,x as C,y as L,z as M,Q as ke}from"../../../chunks/index-e565ab33.js";import{T as Ie,a as Te,b as Pe,c as we}from"../../../chunks/TabPanel-015edfb5.js";import{g as Be,P as G,B as Ce,a as Le,G as Me,m as ee,b as Ne,x as Re}from"../../../chunks/GameInfo-10f3aa38.js";const De=s=>({type:"misere",board:Be(),currentPlayer:s??G.player,state:"not_over",moveHistory:[]});function Ae(s,e,a){const t=s.slice();return t[11]=e[a],t}function $e(s){let e,a,t,n;return{c(){e=p("p"),a=P("Restarting in "),t=P(s[1]),n=P(" seconds")},l(r){e=d(r,"P",{});var o=g(e);a=w(o,"Restarting in "),t=w(o,s[1]),n=w(o," seconds"),o.forEach(c)},m(r,o){S(r,e,o),i(e,a),i(e,t),i(e,n)},p(r,o){o&2&&Ee(t,r[1])},d(r){r&&c(e)}}}function Ge(s){let e,a,t;return{c(){e=p("option"),a=P(s[11]),t=I(),this.h()},l(n){e=d(n,"OPTION",{});var r=g(e);a=w(r,s[11]),t=T(r),r.forEach(c),this.h()},h(){e.__value=s[11],e.value=e.__value},m(n,r){S(n,e,r),i(e,a),i(e,t)},p:pe,d(n){n&&c(e)}}}function _e(s){let e,a,t,n,r,o,$;return a=new Ce({props:{board:s[0].board,dimensionPx:{width:400,height:400},onClick:s[3],highlightMouse:!0}}),n=new Le({props:{board:s[0].board}}),o=new Me({props:{game:s[0]}}),{c(){e=p("div"),B(a.$$.fragment),t=I(),B(n.$$.fragment),r=I(),B(o.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var u=g(e);C(a.$$.fragment,u),t=T(u),C(n.$$.fragment,u),u.forEach(c),r=T(l),C(o.$$.fragment,l),this.h()},h(){j(e,"class","grid2colsResponsive svelte-1epiyf5")},m(l,u){S(l,e,u),L(a,e,null),i(e,t),L(n,e,null),S(l,r,u),L(o,l,u),$=!0},p(l,u){const h={};u&1&&(h.board=l[0].board),a.$set(h);const N={};u&1&&(N.board=l[0].board),n.$set(N);const R={};u&1&&(R.game=l[0]),o.$set(R)},i(l){$||(b(a.$$.fragment,l),b(n.$$.fragment,l),b(o.$$.fragment,l),$=!0)},o(l){E(a.$$.fragment,l),E(n.$$.fragment,l),E(o.$$.fragment,l),$=!1},d(l){l&&c(e),M(a),M(n),l&&c(r),M(o,l)}}}function Oe(s){let e,a,t,n,r,o,$,l,u,h,N,R,O,y,D,q,V,U,F,W,k,X,H,Y,ne,_=s[1]>0&&$e(s),de=["random","minmax"],z=[];for(let f=0;f<2;f+=1)z[f]=Ge(Ae(s,de,f));let m=s[0].board&&_e(s);return{c(){e=p("div"),_&&_.c(),a=I(),t=p("div"),n=p("div"),r=p("span"),o=P("Player automatic move"),$=I(),l=p("ul"),u=p("li"),h=p("button"),N=P("Random move"),R=I(),O=p("li"),y=p("button"),D=P("minmax"),q=I(),V=p("div"),U=p("label"),F=P("AI type"),W=I(),k=p("select");for(let f=0;f<2;f+=1)z[f].c();X=I(),m&&m.c(),this.h()},l(f){e=d(f,"DIV",{});var v=g(e);_&&_.l(v),a=T(v),t=d(v,"DIV",{class:!0});var A=g(t);n=d(A,"DIV",{});var J=g(n);r=d(J,"SPAN",{});var se=g(r);o=w(se,"Player automatic move"),se.forEach(c),$=T(J),l=d(J,"UL",{});var K=g(l);u=d(K,"LI",{});var le=g(u);h=d(le,"BUTTON",{});var oe=g(h);N=w(oe,"Random move"),oe.forEach(c),le.forEach(c),R=T(K),O=d(K,"LI",{});var ie=g(O);y=d(ie,"BUTTON",{});var fe=g(y);D=w(fe,"minmax"),fe.forEach(c),ie.forEach(c),K.forEach(c),J.forEach(c),q=T(A),V=d(A,"DIV",{});var Q=g(V);U=d(Q,"LABEL",{for:!0});var ce=g(U);F=w(ce,"AI type"),ce.forEach(c),W=T(Q),k=d(Q,"SELECT",{id:!0});var ue=g(k);for(let Z=0;Z<2;Z+=1)z[Z].l(ue);ue.forEach(c),Q.forEach(c),A.forEach(c),X=T(v),m&&m.l(v),v.forEach(c),this.h()},h(){j(U,"for","aiType"),j(k,"id","aiType"),s[2]===void 0&&ge(()=>s[6].call(k)),j(t,"class","grid2colsResponsive svelte-1epiyf5")},m(f,v){S(f,e,v),_&&_.m(e,null),i(e,a),i(e,t),i(t,n),i(n,r),i(r,o),i(n,$),i(n,l),i(l,u),i(u,h),i(h,N),i(l,R),i(l,O),i(O,y),i(y,D),i(t,q),i(t,V),i(V,U),i(U,F),i(V,W),i(V,k);for(let A=0;A<2;A+=1)z[A].m(k,null);me(k,s[2]),i(e,X),m&&m.m(e,null),H=!0,Y||(ne=[x(h,"click",s[4]),x(y,"click",s[5]),x(k,"change",s[6])],Y=!0)},p(f,[v]){f[1]>0?_?_.p(f,v):(_=$e(f),_.c(),_.m(e,a)):_&&(_.d(1),_=null),v&4&&me(k,f[2]),f[0].board?m?(m.p(f,v),v&1&&b(m,1)):(m=_e(f),m.c(),b(m,1),m.m(e,null)):m&&(he(),E(m,1,1,()=>{m=null}),ve())},i(f){H||(b(m),H=!0)},o(f){E(m),H=!1},d(f){f&&c(e),_&&_.d(),be(z,f),m&&m.d(),Y=!1,ye(ne)}}}function Ve(s,e,a){let t,n,r,o="minmax",$=!1;l();function l(){a(0,t=De($?G.computer:G.player)),$&&ee(t,G.computer,o),n=t.currentPlayer,$=!$}const u=(y,D)=>{if(n===G.player){if(y==="manual"){if(!D)return;Ne(t,G.player,Re(D))}else ee(t,G.player,y);a(0,t),n=t.currentPlayer,setTimeout(()=>{if(ee(t,G.computer,o),a(0,t),n=t.currentPlayer,t.state!=="not_over"){a(1,r=4);const q=setInterval(()=>{a(1,r--,r),r===0&&(l(),clearInterval(q))},1e3)}},500)}},h=(y,D)=>{u(y,D)},N=()=>h("random"),R=()=>h("minmax");function O(){o=ke(this),a(2,o)}return[t,r,o,h,N,R,O]}class Se extends te{constructor(e){super(),ae(this,e,Ve,Oe,re,{})}}function Ue(s){let e;return{c(){e=P("Misere")},l(a){e=w(a,"Misere")},m(a,t){S(a,e,t)},d(a){a&&c(e)}}}function qe(s){let e,a;return e=new we({props:{$$slots:{default:[Ue]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){L(e,t,n),a=!0},p(t,n){const r={};n&1&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function ze(s){let e,a;return e=new Se({}),{c(){B(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){L(e,t,n),a=!0},i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function He(s){let e,a,t,n;return e=new Te({props:{$$slots:{default:[qe]},$$scope:{ctx:s}}}),t=new Pe({props:{$$slots:{default:[ze]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),a=I(),B(t.$$.fragment)},l(r){C(e.$$.fragment,r),a=T(r),C(t.$$.fragment,r)},m(r,o){L(e,r,o),S(r,a,o),L(t,r,o),n=!0},p(r,o){const $={};o&1&&($.$$scope={dirty:o,ctx:r}),e.$set($);const l={};o&1&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(r){n||(b(e.$$.fragment,r),b(t.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),E(t.$$.fragment,r),n=!1},d(r){M(e,r),r&&c(a),M(t,r)}}}function Je(s){let e,a;return e=new Ie({props:{$$slots:{default:[He]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){L(e,t,n),a=!0},p(t,[n]){const r={};n&1&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}class Ke extends te{constructor(e){super(),ae(this,e,null,Je,re,{})}}function Qe(s){let e,a;return e=new Ke({}),{c(){B(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){L(e,t,n),a=!0},p:pe,i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}class Xe extends te{constructor(e){super(),ae(this,e,null,Qe,re,{})}}export{Xe as default};
