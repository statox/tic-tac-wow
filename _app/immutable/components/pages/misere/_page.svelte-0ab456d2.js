import{S as te,i as ae,s as re,k as d,q as w,a as E,l as g,m as h,r as B,h as u,c as T,n as ee,M as ge,b as C,D as i,N as me,J as Z,f as y,g as he,t as I,d as ve,K as be,O as ye,u as ke,B as pe,w as L,x as N,y as R,z as A,Q as Ee}from"../../../chunks/index-e565ab33.js";import{T as Te,a as Ie,b as Pe,c as we}from"../../../chunks/TabPanel-015edfb5.js";import{g as Be,P as O,B as Ge,a as Ce,G as Le,m as x,b as Ne,x as Re}from"../../../chunks/GameInfo-10f3aa38.js";const Ae=l=>({type:"misere",board:Be(),currentPlayer:l??O.player,state:"not_over",moveHistory:[]});function Me(l,e,a){const t=l.slice();return t[11]=e[a],t}function $e(l){let e,a,t,r;return{c(){e=d("p"),a=w("Restarting in "),t=w(l[1]),r=w(" seconds")},l(n){e=g(n,"P",{});var s=h(e);a=B(s,"Restarting in "),t=B(s,l[1]),r=B(s," seconds"),s.forEach(u)},m(n,s){C(n,e,s),i(e,a),i(e,t),i(e,r)},p(n,s){s&2&&ke(t,n[1])},d(n){n&&u(e)}}}function Oe(l){let e,a,t;return{c(){e=d("option"),a=w(l[11]),t=E(),this.h()},l(r){e=g(r,"OPTION",{});var n=h(e);a=B(n,l[11]),t=T(n),n.forEach(u),this.h()},h(){e.__value=l[11],e.value=e.__value},m(r,n){C(r,e,n),i(e,a),i(e,t)},p:pe,d(r){r&&u(e)}}}function _e(l){let e,a,t,r,n,s,$;return a=new Ge({props:{board:l[0].board,dimensionPx:{width:400,height:400},onClick:l[3],highlightMouse:!0}}),r=new Ce({props:{board:l[0].board}}),s=new Le({props:{game:l[0]}}),{c(){e=d("div"),L(a.$$.fragment),t=E(),L(r.$$.fragment),n=E(),L(s.$$.fragment),this.h()},l(o){e=g(o,"DIV",{class:!0});var c=h(e);N(a.$$.fragment,c),t=T(c),N(r.$$.fragment,c),c.forEach(u),n=T(o),N(s.$$.fragment,o),this.h()},h(){ee(e,"class","grid2colsResponsive svelte-1epiyf5")},m(o,c){C(o,e,c),R(a,e,null),i(e,t),R(r,e,null),C(o,n,c),R(s,o,c),$=!0},p(o,c){const P={};c&1&&(P.board=o[0].board),a.$set(P);const v={};c&1&&(v.board=o[0].board),r.$set(v);const G={};c&1&&(G.game=o[0]),s.$set(G)},i(o){$||(y(a.$$.fragment,o),y(r.$$.fragment,o),y(s.$$.fragment,o),$=!0)},o(o){I(a.$$.fragment,o),I(r.$$.fragment,o),I(s.$$.fragment,o),$=!1},d(o){o&&u(e),A(a),A(r),o&&u(n),A(s,o)}}}function De(l){let e,a,t,r,n,s,$,o,c,P,v,G,H,M,b,D,S,Q,j,V,U,F,W,z,X,ne,_=l[1]>0&&$e(l),de=["random","minmax"],q=[];for(let f=0;f<2;f+=1)q[f]=Oe(Me(l,de,f));let m=l[0].board&&_e(l);return{c(){e=d("h2"),a=w("Game"),t=E(),r=d("div"),_&&_.c(),n=E(),s=d("label"),$=w("AI type"),o=E(),c=d("select");for(let f=0;f<2;f+=1)q[f].c();P=E(),v=d("div"),G=d("span"),H=w("Player automatic move"),M=E(),b=d("ul"),D=d("li"),S=d("button"),Q=w("Random move"),j=E(),V=d("li"),U=d("button"),F=w("minmax"),W=E(),m&&m.c(),this.h()},l(f){e=g(f,"H2",{});var k=h(e);a=B(k,"Game"),k.forEach(u),t=T(f),r=g(f,"DIV",{});var p=h(r);_&&_.l(p),n=T(p),s=g(p,"LABEL",{for:!0});var le=h(s);$=B(le,"AI type"),le.forEach(u),o=T(p),c=g(p,"SELECT",{id:!0});var se=h(c);for(let Y=0;Y<2;Y+=1)q[Y].l(se);se.forEach(u),P=T(p),v=g(p,"DIV",{});var J=h(v);G=g(J,"SPAN",{});var oe=h(G);H=B(oe,"Player automatic move"),oe.forEach(u),M=T(J),b=g(J,"UL",{});var K=h(b);D=g(K,"LI",{});var fe=h(D);S=g(fe,"BUTTON",{});var ie=h(S);Q=B(ie,"Random move"),ie.forEach(u),fe.forEach(u),j=T(K),V=g(K,"LI",{});var ce=h(V);U=g(ce,"BUTTON",{});var ue=h(U);F=B(ue,"minmax"),ue.forEach(u),ce.forEach(u),K.forEach(u),J.forEach(u),W=T(p),m&&m.l(p),p.forEach(u),this.h()},h(){ee(s,"for","aiType"),ee(c,"id","aiType"),l[2]===void 0&&ge(()=>l[4].call(c))},m(f,k){C(f,e,k),i(e,a),C(f,t,k),C(f,r,k),_&&_.m(r,null),i(r,n),i(r,s),i(s,$),i(r,o),i(r,c);for(let p=0;p<2;p+=1)q[p].m(c,null);me(c,l[2]),i(r,P),i(r,v),i(v,G),i(G,H),i(v,M),i(v,b),i(b,D),i(D,S),i(S,Q),i(b,j),i(b,V),i(V,U),i(U,F),i(r,W),m&&m.m(r,null),z=!0,X||(ne=[Z(c,"change",l[4]),Z(S,"click",l[5]),Z(U,"click",l[6])],X=!0)},p(f,[k]){f[1]>0?_?_.p(f,k):(_=$e(f),_.c(),_.m(r,n)):_&&(_.d(1),_=null),k&4&&me(c,f[2]),f[0].board?m?(m.p(f,k),k&1&&y(m,1)):(m=_e(f),m.c(),y(m,1),m.m(r,null)):m&&(he(),I(m,1,1,()=>{m=null}),ve())},i(f){z||(y(m),z=!0)},o(f){I(m),z=!1},d(f){f&&u(e),f&&u(t),f&&u(r),_&&_.d(),be(q,f),m&&m.d(),X=!1,ye(ne)}}}function Se(l,e,a){let t,r,n,s="minmax",$=!1;o();function o(){a(0,t=Ae($?O.computer:O.player)),$&&x(t,O.computer,s),r=t.currentPlayer,$=!$}const c=(M,b)=>{if(r===O.player){if(M==="manual"){if(!b)return;Ne(t,O.player,Re(b))}else x(t,O.player,M);a(0,t),r=t.currentPlayer,setTimeout(()=>{if(x(t,O.computer,s),a(0,t),r=t.currentPlayer,t.state!=="not_over"){a(1,n=4);const D=setInterval(()=>{a(1,n--,n),n===0&&(o(),clearInterval(D))},1e3)}},500)}},P=(M,b)=>{c(M,b)};function v(){s=Ee(this),a(2,s)}return[t,n,s,P,v,()=>P("random"),()=>P("minmax")]}class Ue extends te{constructor(e){super(),ae(this,e,Se,De,re,{})}}function Ve(l){let e;return{c(){e=w("Game")},l(a){e=B(a,"Game")},m(a,t){C(a,e,t)},d(a){a&&u(e)}}}function qe(l){let e,a;return e=new we({props:{$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){R(e,t,r),a=!0},p(t,r){const n={};r&1&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(y(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){A(e,t)}}}function He(l){let e,a;return e=new Ue({}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){R(e,t,r),a=!0},i(t){a||(y(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){A(e,t)}}}function ze(l){let e,a,t,r;return e=new Ie({props:{$$slots:{default:[qe]},$$scope:{ctx:l}}}),t=new Pe({props:{$$slots:{default:[He]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment),a=E(),L(t.$$.fragment)},l(n){N(e.$$.fragment,n),a=T(n),N(t.$$.fragment,n)},m(n,s){R(e,n,s),C(n,a,s),R(t,n,s),r=!0},p(n,s){const $={};s&1&&($.$$scope={dirty:s,ctx:n}),e.$set($);const o={};s&1&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){r||(y(e.$$.fragment,n),y(t.$$.fragment,n),r=!0)},o(n){I(e.$$.fragment,n),I(t.$$.fragment,n),r=!1},d(n){A(e,n),n&&u(a),A(t,n)}}}function Je(l){let e,a;return e=new Te({props:{$$slots:{default:[ze]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){R(e,t,r),a=!0},p(t,[r]){const n={};r&1&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(y(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){A(e,t)}}}class Ke extends te{constructor(e){super(),ae(this,e,null,Je,re,{})}}function Qe(l){let e,a;return e=new Ke({}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){R(e,t,r),a=!0},p:pe,i(t){a||(y(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){A(e,t)}}}class Xe extends te{constructor(e){super(),ae(this,e,null,Qe,re,{})}}export{Xe as default};
