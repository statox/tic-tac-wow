import{S as Ce,i as Me,s as Ie,k as p,q as y,a as w,l as d,m,r as E,h as u,c as S,b as H,D as s,B as Pe,n as ae,u as _e,a2 as on,T as ln,o as sn,g as ze,t as Y,d as Ye,f as R,U as qt,w as pe,x as de,y as me,z as ve,e as qe,K as Ue,J as Se,M as tt,N as Ve,O as vt,Q as nt,a0 as Pt,a1 as Kt}from"../../../chunks/index-e565ab33.js";import{t as an,T as cn,a as fn,b as ct,c as ft}from"../../../chunks/async-39953546.js";import{_ as un}from"../../../chunks/preload-helper-41c905a7.js";const hn=[448,56,7,292,146,73,273,84],_n=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],pn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],dn=[{p:2,o:5},{p:2,o:144}],Xe=(n,e)=>(n&e)===e;var W=(n=>(n[n.player=1]="player",n[n.computer=2]="computer",n))(W||{});function wt(n){let e=n,r=0;for(;e;)r+=e&1,e>>=1;return r}function St(n,e){return z(n,e)}function z(n,e){return!(n&1<<e)}function ht(n,e){return n+2**e}const _t=n=>{for(const e of hn)if(Xe(n,e))return!0;return!1},mn={1:W.computer,2:W.player},Nt=n=>mn[n];function Qt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Fe(n,e){return e===W.player?n.player:n.computer}function We(n,e){return e===W.player?n.computer:n.player}function xe(n,e){if(!e&&!vn(n))return"invalid_board";const r=_t(n.player),t=_t(n.computer);return r&&t?"draw":r?"player_win":t?"computer_win":bn(n)?"not_over":"over"}function Ke(n,e,r){if(!gn(n,r))throw new Error(`Impossible move. player: ${n==null?void 0:n.player}, computer: ${n==null?void 0:n.computer}, index ${r} `);e===W.player?n.player=ht(n.player,r):n.computer=ht(n.computer,r)}function vn(n){if(n.player&n.computer)return!1;const e=wt(n.player),r=wt(n.computer);return!(Math.abs(e-r)>1)}function gn(n,e){return z(n.player,e)&&z(n.computer,e)}function bn(n){return(n.player|n.computer)!==511}function et(n){let e=n.player|n.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let t=0;for(;t<9;)e&1||r.push(t),t++,e>>=1;return r}function rt(n){const{x:e,y:r}=n;if(e<0||e>2||r<0||r>2)throw new Error(`Invalid coords (${e},${r})`);return 8-(3*r+e)}function Ct(n){if(n<0||n>8)throw new Error("Invalid index ${i}");return{x:2-n%3,y:2-Math.floor(n/3)}}const $n=[2,5,8,1,4,7,0,3,6];function Mt(n){let e=0;return $n.forEach((r,t)=>{z(n,t)||(e=ht(e,r))}),e}function ot(n,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...n};e=e%4;const r={...n};for(let t=0;t<e;t++)r.player=Mt(r.player),r.computer=Mt(r.computer);return r}function kn(n,e){return et(n).map(t=>{const o={...n};return Ke(o,e,t),{move:t,board:o}})}function yn(n,e){if(et(n).length===0)throw new Error("No available moves");const o=pt({board:n,player:e,depth:1,moves:[]});return{score:o.score,reason:o.reason,move:o.moves[0]}}function En(n){return n==="player_win"?{score:4,reason:n}:n==="draw"?{score:3,reason:n}:n==="over"?{score:2,reason:n}:n==="not_over"?{score:1,reason:n}:n==="computer_win"?{score:0,reason:n}:{score:-1,reason:n}}const Pn=12;function pt(n){const e=xe(n.board);if(n.depth===Pn||e!=="not_over")return{moves:n.moves,...En(e)};const r=kn(n.board,n.player);if(n.player===W.player){let o;for(const l of r){const a={board:l.board,player:Nt(n.player),depth:n.depth+1,moves:[...n.moves,l.move]},c=pt(a);(!o||c.score>o.score)&&(o=c)}if(!o)throw new Error("Couldnt get any best child for maximizing player");return o}let t;for(const o of r){const l={board:o.board,player:Nt(n.player),depth:n.depth+1,moves:[...n.moves,o.move]},a=pt(l);(!t||a.score<t.score)&&(t=a)}if(!t)throw new Error("Couldnt get any best child for maximizing player");return t}function Re(n,e){const r=Fe(n,e);return _t(r)}function gt(n){return n===4}function lt(n,e,r){const t=Fe(n,e),o=We(n,e);if(r===4){const l=z(o,5)&&!z(t,3)||!z(t,5)&&z(o,3)?1:0,a=z(o,7)&&!z(t,1)||!z(t,7)&&z(o,1)?1:0,c=z(o,8)&&!z(t,0)||!z(t,8)&&z(o,0)?1:0,f=z(o,6)&&!z(t,2)||!z(t,6)&&z(o,2)?1:0;return l+a+c+f>=2}if(it.has(r)){const l={0:0,2:3,6:1,8:2}[r]||0,a=ot(n,l),c=Fe(a,e),f=We(a,e),i=z(f,2)&&!z(c,1)||!z(c,2)&&z(f,1),g=z(f,6)&&!z(c,3)||!z(c,6)&&z(f,3);return i&&g}if(bt.has(r)){const l={1:0,3:1,5:3,7:2}[r]||0,a=ot(n,l),c=Fe(a,e),f=We(a,e),i=z(f,2)&&!z(c,0)||!z(c,2)&&z(f,0),g=z(f,7)&&!z(c,4)||!z(c,7)&&z(f,4);return i&&g}return!1}function dt(n,e,r){const t=Fe(n,e),l={player:We(n,e),computer:t};return lt(l,e===W.player?W.computer:W.player,r)}function Je(n,e,r){const t=Fe(n,e),o=We(n,e);if(r===4){for(const{o:l,p:a}of _n)if(Xe(t,a)&&Xe(o,l))return!0}if(it.has(r)){const l={0:0,2:3,6:1,8:2}[r]||0,a=ot(n,l),c=Fe(a,e),f=We(a,e);for(const{o:i,p:g}of pn)if(Xe(c,g)&&Xe(f,i))return!0}if(bt.has(r)){const l={1:0,3:1,5:3,7:2}[r]||0,a=ot(n,l),c=Fe(a,e),f=We(a,e);for(const{o:i,p:g}of dn)if(Xe(c,g)&&Xe(f,i))return!0}return!1}const it=new Set([0,2,6,8]),bt=new Set([1,3,5,7]);function st(n,e,r){if(!it.has(r))return!1;const t=8-r,o=We(n,e);return!z(o,t)}function $t(n){return it.has(n)}function Zt(n){return bt.has(n)}function wn(n,e){const r=et(n);if(r.length===0)throw new Error("No available moves");let t;for(const o of r){const l={...n};Ke(l,e,o);const a=Sn(l,e,o);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Sn(n,e,r){return Re(n,e)?{score:8,reason:"win",move:r}:Je(n,e,r)?{score:7,reason:"block_opponent",move:r}:lt(n,e,r)?{score:6,reason:"create_fork",move:r}:dt(n,e,r)?{score:5,reason:"block_opponent_fork",move:r}:gt(r)?{score:4,reason:"take_center",move:r}:st(n,e,r)?{score:3,reason:"take_opposite_corner",move:r}:$t(r)?{score:2,reason:"take_corner",move:r}:Zt(r)?{score:1,reason:"take_edge",move:r}:{score:0,reason:"default_choice",move:r}}function Nn(n,e){const r=et(n);if(r.length===0)throw new Error("No available moves");let t;for(const o of r){const l={...n};Ke(l,e,o);const a=Cn(l,e,o);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Cn(n,e,r){return Re(n,W.player)?{score:8,reason:"win",move:r}:Je(n,e,r)?{score:7,reason:"block_opponent",move:r}:gt(r)?{score:4,reason:"take_center",move:r}:st(n,e,r)?{score:3,reason:"take_opposite_corner",move:r}:$t(r)?{score:2,reason:"take_corner",move:r}:Zt(r)?{score:1,reason:"take_edge",move:r}:{score:0,reason:"default_choice",move:r}}function Mn(n){const e=et(n);if(e.length===0)throw new Error("No available moves");const r=Math.floor(Math.random()*e.length);return{score:0,reason:"random",move:e[r]}}const je={random:Mn,hardcodedRules:Nn,hardcodedRulesComplete:wn,minmax:yn},xt=n=>({board:Qt(),currentPlayer:n??W.player,state:"not_over",moveHistory:[]});function en(n){n.currentPlayer=n.currentPlayer===W.player?W.computer:W.player}const In=(n,e,r)=>{n.state==="not_over"&&(Ke(n.board,e,r),n.state=xe(n.board),n.moveHistory.push({board:{...n.board},moveAsIndex:r,player:e,method:"manual"}),en(n))},Ze=(n,e,r)=>{if(n.state!=="not_over")return;const t=je[r],o=t(n.board,e);Ke(n.board,e,o.move),n.state=xe(n.board),n.moveHistory.push({board:{...n.board},moveAsIndex:o.move,player:e,method:r,aiChoice:o}),en(n)},Tn="#FF0000",An="#64ccfc";function mt(n,e,r){var g;const t=n.width/3,o=n.height/3,{height:l,width:a}=n,{drawSelection:c,selection:f,currentPlayer:i}=r||{};n.rectMode(n.CENTER),n.noFill(),n.stroke(255),n.strokeWeight(1),n.line(t,0,t,l),n.line(t*2,0,t*2,l),n.line(0,o,a,o),n.line(0,o*2,a,o*2),n.stroke(155),n.strokeWeight(3),n.rect(n.width/2,n.height/2,n.width,n.height),n.strokeWeight(4);for(let h=0;h<3;h++)for(let P=0;P<3;P++)((g=r==null?void 0:r.highlightCell)==null?void 0:g.x)===P&&(r==null?void 0:r.highlightCell.y)===h&&(n.noStroke(),n.fill(30,250,80,80),n.rect(P*t+t/2,h*o+o/2,t*.95,o*.95),n.noFill()),(!St(e.player,rt({x:P,y:h}))||c&&i===W.player&&(f==null?void 0:f.x)===P&&(f==null?void 0:f.y)===h)&&(n.stroke(An),n.circle(P*t+t/2,h*o+o/2,o/2)),(!St(e.computer,rt({x:P,y:h}))||c&&i===W.computer&&(f==null?void 0:f.x)===P&&(f==null?void 0:f.y)===h)&&(n.stroke(Tn),n.line(P*t+t*.3,h*o+o*.3,P*t+t*.7,h*o+o*.7),n.line(P*t+t*.7,h*o+o*.3,P*t+t*.3,h*o+o*.7))}function at(n){const{mouseX:e,mouseY:r,width:t,height:o}=n,l=Math.floor(n.map(e,0,t,0,3)),a=Math.floor(n.map(r,0,o,0,3));return{x:l,y:a}}function It(n){let e,r,t,o,l,a=xe(n[0])+"",c,f,i,g,h,P,N,$,b,v,C=n[0].player.toString(2).padStart(9,"0")+"",I,L,T,O=n[0].player+"",M,V,U,K,J,ie=Re(n[0],W.player)?"✅":"❌",ce,he,A,Z,le,te,be,x,fe,X,j=n[0].computer.toString(2).padStart(9,"0")+"",D,se,F,ge=n[0].computer+"",ne,$e,re,ue,ee,we=Re(n[0],W.computer)?"✅":"❌",ye;return{c(){e=p("div"),r=p("span"),t=y("State:"),o=w(),l=p("span"),c=y(a),f=w(),i=p("div"),g=p("span"),h=y("Player 1"),P=p("span"),N=y("Player, O"),$=w(),b=p("span"),v=y("0b"),I=y(C),L=w(),T=p("span"),M=y(O),V=w(),U=p("span"),K=y("Wins"),J=p("span"),ce=y(ie),he=w(),A=p("div"),Z=p("span"),le=y("Player 2"),te=p("span"),be=y("Computer, X"),x=w(),fe=p("span"),X=y("0b"),D=y(j),se=w(),F=p("span"),ne=y(ge),$e=w(),re=p("span"),ue=y("Wins"),ee=p("span"),ye=y(we),this.h()},l(oe){e=d(oe,"DIV",{class:!0});var B=m(e);r=d(B,"SPAN",{});var q=m(r);t=E(q,"State:"),q.forEach(u),o=S(B),l=d(B,"SPAN",{});var _=m(l);c=E(_,a),_.forEach(u),f=S(B),i=d(B,"DIV",{class:!0});var G=m(i);g=d(G,"SPAN",{});var k=m(g);h=E(k,"Player 1"),k.forEach(u),P=d(G,"SPAN",{});var Q=m(P);N=E(Q,"Player, O"),Q.forEach(u),$=S(G),b=d(G,"SPAN",{});var Ae=m(b);v=E(Ae,"0b"),I=E(Ae,C),Ae.forEach(u),L=S(G),T=d(G,"SPAN",{});var Be=m(T);M=E(Be,O),Be.forEach(u),V=S(G),U=d(G,"SPAN",{});var He=m(U);K=E(He,"Wins"),He.forEach(u),J=d(G,"SPAN",{});var De=m(J);ce=E(De,ie),De.forEach(u),G.forEach(u),he=S(B),A=d(B,"DIV",{class:!0});var Ee=m(A);Z=d(Ee,"SPAN",{});var Ge=m(Z);le=E(Ge,"Player 2"),Ge.forEach(u),te=d(Ee,"SPAN",{});var Te=m(te);be=E(Te,"Computer, X"),Te.forEach(u),x=S(Ee),fe=d(Ee,"SPAN",{});var Oe=m(fe);X=E(Oe,"0b"),D=E(Oe,j),Oe.forEach(u),se=S(Ee),F=d(Ee,"SPAN",{});var Le=m(F);ne=E(Le,ge),Le.forEach(u),$e=S(Ee),re=d(Ee,"SPAN",{});var Ne=m(re);ue=E(Ne,"Wins"),Ne.forEach(u),ee=d(Ee,"SPAN",{});var Qe=m(ee);ye=E(Qe,we),Qe.forEach(u),Ee.forEach(u),B.forEach(u),this.h()},h(){ae(i,"class","grid2cols svelte-1lw5ne4"),ae(A,"class","grid2cols svelte-1lw5ne4"),ae(e,"class","grid2cols svelte-1lw5ne4")},m(oe,B){H(oe,e,B),s(e,r),s(r,t),s(e,o),s(e,l),s(l,c),s(e,f),s(e,i),s(i,g),s(g,h),s(i,P),s(P,N),s(i,$),s(i,b),s(b,v),s(b,I),s(i,L),s(i,T),s(T,M),s(i,V),s(i,U),s(U,K),s(i,J),s(J,ce),s(e,he),s(e,A),s(A,Z),s(Z,le),s(A,te),s(te,be),s(A,x),s(A,fe),s(fe,X),s(fe,D),s(A,se),s(A,F),s(F,ne),s(A,$e),s(A,re),s(re,ue),s(A,ee),s(ee,ye)},p(oe,B){B&1&&a!==(a=xe(oe[0])+"")&&_e(c,a),B&1&&C!==(C=oe[0].player.toString(2).padStart(9,"0")+"")&&_e(I,C),B&1&&O!==(O=oe[0].player+"")&&_e(M,O),B&1&&ie!==(ie=Re(oe[0],W.player)?"✅":"❌")&&_e(ce,ie),B&1&&j!==(j=oe[0].computer.toString(2).padStart(9,"0")+"")&&_e(D,j),B&1&&ge!==(ge=oe[0].computer+"")&&_e(ne,ge),B&1&&we!==(we=Re(oe[0],W.computer)?"✅":"❌")&&_e(ye,we)},d(oe){oe&&u(e)}}}function On(n){let e,r,t,o,l=n[0]&&It(n);return{c(){e=p("div"),r=p("h4"),t=y("Board info"),o=w(),l&&l.c()},l(a){e=d(a,"DIV",{});var c=m(e);r=d(c,"H4",{});var f=m(r);t=E(f,"Board info"),f.forEach(u),o=S(c),l&&l.l(c),c.forEach(u)},m(a,c){H(a,e,c),s(e,r),s(r,t),s(e,o),l&&l.m(e,null)},p(a,[c]){a[0]?l?l.p(a,c):(l=It(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Pe,o:Pe,d(a){a&&u(e),l&&l.d()}}}function Bn(n,e,r){let{board:t}=e;return n.$$set=o=>{"board"in o&&r(0,t=o.board)},[t]}class tn extends Ce{constructor(e){super(),Me(this,e,Bn,On,Ie,{board:0})}}function Hn(n){let e,r,t;return{c(){e=p("div"),this.h()},l(o){e=d(o,"DIV",{style:!0,class:!0}),m(e).forEach(u),this.h()},h(){ae(e,"style",n[0]),ae(e,"class","m-0")},m(o,l){H(o,e,l),r||(t=on(n[1].call(null,e)),r=!0)},p(o,[l]){l&1&&ae(e,"style",o[0])},i:Pe,o:Pe,d(o){o&&u(e),r=!1,t()}}}function Dn(n,e){return e.forEach(([r,t])=>n[r]=t),n}function Gn(n,e,r){let{target:t=void 0}=e,{sketch:o=void 0}=e,{parentDivStyle:l="display: block;"}=e,{debug:a=!1}=e,c;const f=ln(),i={ref(){f("ref",t)},instance(){f("instance",c)}};function g(h){return r(2,t=h),{destroy(){r(2,t=void 0)}}}return sn(async()=>{const h=await un(()=>import("../../../chunks/p5.min-7dea8225.js").then(b=>b.p),[],import.meta.url),{default:P}=h,$=Object.entries(h).filter(([b,v])=>v instanceof Function&&b[0]!=="_"&&b!=="default");a&&console.log("available p5 native classes",$),c=new P(b=>(b=Dn(b,$),a&&console.log("p5 instance",b),window._p5Instance=b,o(b)),t),i.ref(),i.instance()}),n.$$set=h=>{"target"in h&&r(2,t=h.target),"sketch"in h&&r(3,o=h.sketch),"parentDivStyle"in h&&r(0,l=h.parentDivStyle),"debug"in h&&r(4,a=h.debug)},[l,g,t,o,a]}class nn extends Ce{constructor(e){super(),Me(this,e,Gn,Hn,Ie,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Ln(n){let e,r,t=JSON.stringify(n[0])+"",o;return{c(){e=p("p"),r=y("Board is undefined "),o=y(t)},l(l){e=d(l,"P",{});var a=m(e);r=E(a,"Board is undefined "),o=E(a,t),a.forEach(u)},m(l,a){H(l,e,a),s(e,r),s(e,o)},p(l,a){a&1&&t!==(t=JSON.stringify(l[0])+"")&&_e(o,t)},i:Pe,o:Pe,d(l){l&&u(e)}}}function Vn(n){let e,r;return e=new nn({props:{sketch:n[1]}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},p:Pe,i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function Rn(n){let e,r,t,o;const l=[Vn,Ln],a=[];function c(f,i){return f[0]?0:1}return r=c(n),t=a[r]=l[r](n),{c(){e=p("div"),t.c()},l(f){e=d(f,"DIV",{});var i=m(e);t.l(i),i.forEach(u)},m(f,i){H(f,e,i),a[r].m(e,null),o=!0},p(f,[i]){let g=r;r=c(f),r===g?a[r].p(f,i):(ze(),Y(a[g],1,1,()=>{a[g]=null}),Ye(),t=a[r],t?t.p(f,i):(t=a[r]=l[r](f),t.c()),R(t,1),t.m(e,null))},i(f){o||(R(t),o=!0)},o(f){Y(t),o=!1},d(f){f&&u(e),a[r].d()}}}function Fn(n,e,r){let{dimensionPx:t}=e,{board:o}=e,{highlightCell:l=void 0}=e,{highlightMouse:a=!1}=e,{noLoop:c=!1}=e,{onClick:f=()=>{}}=e,i;const g=h=>{h.setup=()=>{i=h,h.createCanvas(t.width,t.height)},h.draw=()=>{h.background(0),a?mt(h,o,{highlightCell:at(h)}):mt(h,o,{highlightCell:l}),c&&h.noLoop()},c||(h.mousePressed=()=>{h.mouseX<0||h.mouseX>h.width||h.mouseY<0||h.mouseY>h.height||f("manual",at(h))})};return qt(()=>{i==null||i.remove()}),n.$$set=h=>{"dimensionPx"in h&&r(2,t=h.dimensionPx),"board"in h&&r(0,o=h.board),"highlightCell"in h&&r(3,l=h.highlightCell),"highlightMouse"in h&&r(4,a=h.highlightMouse),"noLoop"in h&&r(5,c=h.noLoop),"onClick"in h&&r(6,f=h.onClick)},[o,g,t,l,a,c,f]}class kt extends Ce{constructor(e){super(),Me(this,e,Fn,Rn,Ie,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,noLoop:5,onClick:6})}}function ut(n){const e=n.slice(),r=e[0];return e[1]=r.moveAsIndex,e[2]=r.player,e[3]=r.board,e}function Tt(n){let e,r,t,o,l,a,c,f,i,g,h,P=Re(n[3],n[2])?"✅":"❌",N,$,b,v,C,I,L=Je(n[3],n[2],n[1])?"✅":"❌",T,O,M,V,U,K,J=lt(n[3],n[2],n[1])?"✅":"❌",ie,ce,he,A,Z,le,te=dt(n[3],n[2],n[1])?"✅":"❌",be,x,fe,X,j,D,se=st(n[3],n[2],n[1])?"✅":"❌",F,ge,ne,$e,re,ue,ee=Je(n[3],n[2],n[1])?"✅":"❌",we;function ye(q,_){return _&1&&(l=null),_&1&&(a=null),l==null&&(l=!!gt(q[1])),l?Un:(a==null&&(a=!!$t(q[1])),a?Xn:Wn)}let oe=ye(n,-1),B=oe(n);return{c(){e=p("div"),r=p("span"),t=y("Position"),o=w(),B.c(),c=w(),f=p("span"),i=y("Player win"),g=w(),h=p("span"),N=y(P),$=w(),b=p("span"),v=y("Move blocks opponent"),C=w(),I=p("span"),T=y(L),O=w(),M=p("span"),V=y("Move creates fork"),U=w(),K=p("span"),ie=y(J),ce=w(),he=p("span"),A=y("Move blocks opponent's fork"),Z=w(),le=p("span"),be=y(te),x=w(),fe=p("span"),X=y("Took opposite corner"),j=w(),D=p("span"),F=y(se),ge=w(),ne=p("span"),$e=y("Last move blocks opponent"),re=w(),ue=p("span"),we=y(ee),this.h()},l(q){e=d(q,"DIV",{class:!0});var _=m(e);r=d(_,"SPAN",{});var G=m(r);t=E(G,"Position"),G.forEach(u),o=S(_),B.l(_),c=S(_),f=d(_,"SPAN",{});var k=m(f);i=E(k,"Player win"),k.forEach(u),g=S(_),h=d(_,"SPAN",{});var Q=m(h);N=E(Q,P),Q.forEach(u),$=S(_),b=d(_,"SPAN",{});var Ae=m(b);v=E(Ae,"Move blocks opponent"),Ae.forEach(u),C=S(_),I=d(_,"SPAN",{});var Be=m(I);T=E(Be,L),Be.forEach(u),O=S(_),M=d(_,"SPAN",{});var He=m(M);V=E(He,"Move creates fork"),He.forEach(u),U=S(_),K=d(_,"SPAN",{});var De=m(K);ie=E(De,J),De.forEach(u),ce=S(_),he=d(_,"SPAN",{});var Ee=m(he);A=E(Ee,"Move blocks opponent's fork"),Ee.forEach(u),Z=S(_),le=d(_,"SPAN",{});var Ge=m(le);be=E(Ge,te),Ge.forEach(u),x=S(_),fe=d(_,"SPAN",{});var Te=m(fe);X=E(Te,"Took opposite corner"),Te.forEach(u),j=S(_),D=d(_,"SPAN",{});var Oe=m(D);F=E(Oe,se),Oe.forEach(u),ge=S(_),ne=d(_,"SPAN",{});var Le=m(ne);$e=E(Le,"Last move blocks opponent"),Le.forEach(u),re=S(_),ue=d(_,"SPAN",{});var Ne=m(ue);we=E(Ne,ee),Ne.forEach(u),_.forEach(u),this.h()},h(){ae(e,"class","grid2cols svelte-1lw5ne4")},m(q,_){H(q,e,_),s(e,r),s(r,t),s(e,o),B.m(e,null),s(e,c),s(e,f),s(f,i),s(e,g),s(e,h),s(h,N),s(e,$),s(e,b),s(b,v),s(e,C),s(e,I),s(I,T),s(e,O),s(e,M),s(M,V),s(e,U),s(e,K),s(K,ie),s(e,ce),s(e,he),s(he,A),s(e,Z),s(e,le),s(le,be),s(e,x),s(e,fe),s(fe,X),s(e,j),s(e,D),s(D,F),s(e,ge),s(e,ne),s(ne,$e),s(e,re),s(e,ue),s(ue,we)},p(q,_){oe!==(oe=ye(q,_))&&(B.d(1),B=oe(q),B&&(B.c(),B.m(e,c))),_&1&&P!==(P=Re(q[3],q[2])?"✅":"❌")&&_e(N,P),_&1&&L!==(L=Je(q[3],q[2],q[1])?"✅":"❌")&&_e(T,L),_&1&&J!==(J=lt(q[3],q[2],q[1])?"✅":"❌")&&_e(ie,J),_&1&&te!==(te=dt(q[3],q[2],q[1])?"✅":"❌")&&_e(be,te),_&1&&se!==(se=st(q[3],q[2],q[1])?"✅":"❌")&&_e(F,se),_&1&&ee!==(ee=Je(q[3],q[2],q[1])?"✅":"❌")&&_e(we,ee)},d(q){q&&u(e),B.d()}}}function Wn(n){let e,r;return{c(){e=p("span"),r=y("Edge")},l(t){e=d(t,"SPAN",{});var o=m(e);r=E(o,"Edge"),o.forEach(u)},m(t,o){H(t,e,o),s(e,r)},d(t){t&&u(e)}}}function Xn(n){let e,r;return{c(){e=p("span"),r=y("Corner")},l(t){e=d(t,"SPAN",{});var o=m(e);r=E(o,"Corner"),o.forEach(u)},m(t,o){H(t,e,o),s(e,r)},d(t){t&&u(e)}}}function Un(n){let e,r;return{c(){e=p("span"),r=y("Center")},l(t){e=d(t,"SPAN",{});var o=m(e);r=E(o,"Center"),o.forEach(u)},m(t,o){H(t,e,o),s(e,r)},d(t){t&&u(e)}}}function jn(n){let e,r=n[0]&&Tt(ut(n));return{c(){r&&r.c(),e=qe()},l(t){r&&r.l(t),e=qe()},m(t,o){r&&r.m(t,o),H(t,e,o)},p(t,[o]){t[0]?r?r.p(ut(t),o):(r=Tt(ut(t)),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Pe,o:Pe,d(t){r&&r.d(t),t&&u(e)}}}function zn(n,e,r){let{historyItem:t}=e;return n.$$set=o=>{"historyItem"in o&&r(0,t=o.historyItem)},[t]}class Yn extends Ce{constructor(e){super(),Me(this,e,zn,jn,Ie,{historyItem:0})}}function At(n,e,r){const t=n.slice();return t[2]=e[r],t}function Ot(n){let e,r,t,o,l,a,c,f,i,g,h,P,N,$,b,v=n[0].length===0&&Bt(),C=[...n[0]].reverse(),I=[];for(let T=0;T<C.length;T+=1)I[T]=Ht(At(n,C,T));const L=T=>Y(I[T],1,1,()=>{I[T]=null});return{c(){e=p("div"),v&&v.c(),r=w(),t=p("h4"),o=y("Move"),l=w(),a=p("h4"),c=y("Selection"),f=w(),i=p("h4"),g=y("AI"),h=w(),P=p("h4"),N=y("Stats"),$=w();for(let T=0;T<I.length;T+=1)I[T].c();this.h()},l(T){e=d(T,"DIV",{class:!0});var O=m(e);v&&v.l(O),r=S(O),t=d(O,"H4",{});var M=m(t);o=E(M,"Move"),M.forEach(u),l=S(O),a=d(O,"H4",{});var V=m(a);c=E(V,"Selection"),V.forEach(u),f=S(O),i=d(O,"H4",{});var U=m(i);g=E(U,"AI"),U.forEach(u),h=S(O),P=d(O,"H4",{});var K=m(P);N=E(K,"Stats"),K.forEach(u),$=S(O);for(let J=0;J<I.length;J+=1)I[J].l(O);O.forEach(u),this.h()},h(){ae(e,"class","grid4cols svelte-1ofp4bt")},m(T,O){H(T,e,O),v&&v.m(e,null),s(e,r),s(e,t),s(t,o),s(e,l),s(e,a),s(a,c),s(e,f),s(e,i),s(i,g),s(e,h),s(e,P),s(P,N),s(e,$);for(let M=0;M<I.length;M+=1)I[M].m(e,null);b=!0},p(T,O){if(T[0].length===0?v||(v=Bt(),v.c(),v.m(e,r)):v&&(v.d(1),v=null),O&1){C=[...T[0]].reverse();let M;for(M=0;M<C.length;M+=1){const V=At(T,C,M);I[M]?(I[M].p(V,O),R(I[M],1)):(I[M]=Ht(V),I[M].c(),R(I[M],1),I[M].m(e,null))}for(ze(),M=C.length;M<I.length;M+=1)L(M);Ye()}},i(T){if(!b){for(let O=0;O<C.length;O+=1)R(I[O]);b=!0}},o(T){I=I.filter(Boolean);for(let O=0;O<I.length;O+=1)Y(I[O]);b=!1},d(T){T&&u(e),v&&v.d(),Ue(I,T)}}}function Bt(n){let e,r;return{c(){e=p("p"),r=y("No move yet.")},l(t){e=d(t,"P",{});var o=m(e);r=E(o,"No move yet."),o.forEach(u)},m(t,o){H(t,e,o),s(e,r)},d(t){t&&u(e)}}}function Jn(n){let e;return{c(){e=p("span"),this.h()},l(r){e=d(r,"SPAN",{class:!0}),m(e).forEach(u),this.h()},h(){ae(e,"class","item svelte-1ofp4bt")},m(r,t){H(r,e,t)},p:Pe,d(r){r&&u(e)}}}function qn(n){let e,r=n[2].aiChoice.score+"",t,o,l=n[2].aiChoice.reason+"",a;return{c(){e=p("span"),t=y(r),o=y(" - "),a=y(l),this.h()},l(c){e=d(c,"SPAN",{class:!0});var f=m(e);t=E(f,r),o=E(f," - "),a=E(f,l),f.forEach(u),this.h()},h(){ae(e,"class","item svelte-1ofp4bt")},m(c,f){H(c,e,f),s(e,t),s(e,o),s(e,a)},p(c,f){f&1&&r!==(r=c[2].aiChoice.score+"")&&_e(t,r),f&1&&l!==(l=c[2].aiChoice.reason+"")&&_e(a,l)},d(c){c&&u(e)}}}function Ht(n){let e,r,t,o,l=n[2].method+"",a,c,f,i,g,h,P;r=new kt({props:{board:n[2].board,dimensionPx:{width:100,height:100},highlightCell:Ct(n[2].moveAsIndex),noLoop:!0}});function N(v,C){return v[2].aiChoice?qn:Jn}let $=N(n),b=$(n);return g=new Yn({props:{historyItem:n[2]}}),{c(){e=p("div"),pe(r.$$.fragment),t=w(),o=p("span"),a=y(l),c=w(),b.c(),f=w(),i=p("div"),pe(g.$$.fragment),h=w(),this.h()},l(v){e=d(v,"DIV",{class:!0});var C=m(e);de(r.$$.fragment,C),C.forEach(u),t=S(v),o=d(v,"SPAN",{class:!0});var I=m(o);a=E(I,l),I.forEach(u),c=S(v),b.l(v),f=S(v),i=d(v,"DIV",{class:!0});var L=m(i);de(g.$$.fragment,L),h=S(L),L.forEach(u),this.h()},h(){ae(e,"class","item svelte-1ofp4bt"),ae(o,"class","item svelte-1ofp4bt"),ae(i,"class","item svelte-1ofp4bt")},m(v,C){H(v,e,C),me(r,e,null),H(v,t,C),H(v,o,C),s(o,a),H(v,c,C),b.m(v,C),H(v,f,C),H(v,i,C),me(g,i,null),s(i,h),P=!0},p(v,C){const I={};C&1&&(I.board=v[2].board),C&1&&(I.highlightCell=Ct(v[2].moveAsIndex)),r.$set(I),(!P||C&1)&&l!==(l=v[2].method+"")&&_e(a,l),$===($=N(v))&&b?b.p(v,C):(b.d(1),b=$(v),b&&(b.c(),b.m(f.parentNode,f)));const L={};C&1&&(L.historyItem=v[2]),g.$set(L)},i(v){P||(R(r.$$.fragment,v),R(g.$$.fragment,v),P=!0)},o(v){Y(r.$$.fragment,v),Y(g.$$.fragment,v),P=!1},d(v){v&&u(e),ve(r),v&&u(t),v&&u(o),v&&u(c),b.d(v),v&&u(f),v&&u(i),ve(g)}}}function Kn(n){let e,r,t=n[1]&&Ot(n);return{c(){e=p("div"),t&&t.c()},l(o){e=d(o,"DIV",{});var l=m(e);t&&t.l(l),l.forEach(u)},m(o,l){H(o,e,l),t&&t.m(e,null),r=!0},p(o,[l]){o[1]?t?(t.p(o,l),l&2&&R(t,1)):(t=Ot(o),t.c(),R(t,1),t.m(e,null)):t&&(ze(),Y(t,1,1,()=>{t=null}),Ye())},i(o){r||(R(t),r=!0)},o(o){Y(t),r=!1},d(o){o&&u(e),t&&t.d()}}}function Qn(n,e,r){let{history:t}=e,{showMoveHistory:o}=e;return n.$$set=l=>{"history"in l&&r(0,t=l.history),"showMoveHistory"in l&&r(1,o=l.showMoveHistory)},[t,o]}class Zn extends Ce{constructor(e){super(),Me(this,e,Qn,Kn,Ie,{history:0,showMoveHistory:1})}}function xn(n){let e,r;return e=new kt({props:{board:n[0].board,dimensionPx:{width:100,height:100},noLoop:!0}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},p(t,o){const l={};o&1&&(l.board=t[0].board),e.$set(l)},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function er(n){let e,r;return e=new Zn({props:{history:n[0].moveHistory,showMoveHistory:n[1]}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},p(t,o){const l={};o&1&&(l.history=t[0].moveHistory),o&2&&(l.showMoveHistory=t[1]),e.$set(l)},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function tr(n){let e,r,t,o,l,a=n[2](n[0])+"",c,f,i,g=n[1]?"Hide":"Show",h,P,N,$,b,v,C,I;const L=[er,xn],T=[];function O(M,V){return M[1]?0:1}return $=O(n),b=T[$]=L[$](n),{c(){e=p("div"),r=p("h4"),t=y("Game info"),o=w(),l=p("span"),c=y(a),f=w(),i=p("button"),h=y(g),P=y(" move history"),N=w(),b.c()},l(M){e=d(M,"DIV",{});var V=m(e);r=d(V,"H4",{});var U=m(r);t=E(U,"Game info"),U.forEach(u),o=S(V),l=d(V,"SPAN",{});var K=m(l);c=E(K,a),K.forEach(u),f=S(V),i=d(V,"BUTTON",{});var J=m(i);h=E(J,g),P=E(J," move history"),J.forEach(u),N=S(V),b.l(V),V.forEach(u)},m(M,V){H(M,e,V),s(e,r),s(r,t),s(e,o),s(e,l),s(l,c),s(e,f),s(e,i),s(i,h),s(i,P),s(e,N),T[$].m(e,null),v=!0,C||(I=Se(i,"click",n[3]),C=!0)},p(M,[V]){(!v||V&1)&&a!==(a=M[2](M[0])+"")&&_e(c,a),(!v||V&2)&&g!==(g=M[1]?"Hide":"Show")&&_e(h,g);let U=$;$=O(M),$===U?T[$].p(M,V):(ze(),Y(T[U],1,1,()=>{T[U]=null}),Ye(),b=T[$],b?b.p(M,V):(b=T[$]=L[$](M),b.c()),R(b,1),b.m(e,null))},i(M){v||(R(b),v=!0)},o(M){Y(b),v=!1},d(M){M&&u(e),T[$].d(),C=!1,I()}}}function nr(n,e,r){let{game:t}=e,o=!1;const l=c=>!c||!c.state?"N/A":c.state==="not_over"?"Turn: "+(c.currentPlayer===W.player?"Player":"Computer"):c.state==="player_win"?"Player Win":c.state==="computer_win"?"Computer Win":c.state==="draw"?"Draw":c.state==="over"?"Game Over":"Invalid Game",a=()=>r(1,o=!o);return n.$$set=c=>{"game"in c&&r(0,t=c.game)},[t,o,l,a]}class rn extends Ce{constructor(e){super(),Me(this,e,nr,tr,Ie,{game:0})}}function Dt(n,e,r){const t=n.slice();return t[13]=e[r],t}function Gt(n){let e,r,t,o;return{c(){e=p("p"),r=y("Restarting in "),t=y(n[1]),o=y(" seconds")},l(l){e=d(l,"P",{});var a=m(e);r=E(a,"Restarting in "),t=E(a,n[1]),o=E(a," seconds"),a.forEach(u)},m(l,a){H(l,e,a),s(e,r),s(e,t),s(e,o)},p(l,a){a&2&&_e(t,l[1])},d(l){l&&u(e)}}}function Lt(n){let e,r=n[13]+"",t,o;return{c(){e=p("option"),t=y(r),o=w(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,r),o=S(a),a.forEach(u),this.h()},h(){e.__value=n[13],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,o)},p:Pe,d(l){l&&u(e)}}}function Vt(n){let e,r,t,o,l,a,c;return r=new kt({props:{board:n[0].board,dimensionPx:{width:400,height:400},onClick:n[3],highlightMouse:!0}}),o=new tn({props:{board:n[0].board}}),a=new rn({props:{game:n[0]}}),{c(){e=p("div"),pe(r.$$.fragment),t=w(),pe(o.$$.fragment),l=w(),pe(a.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0});var i=m(e);de(r.$$.fragment,i),t=S(i),de(o.$$.fragment,i),i.forEach(u),l=S(f),de(a.$$.fragment,f),this.h()},h(){ae(e,"class","grid2colsResponsive svelte-1epiyf5")},m(f,i){H(f,e,i),me(r,e,null),s(e,t),me(o,e,null),H(f,l,i),me(a,f,i),c=!0},p(f,i){const g={};i&1&&(g.board=f[0].board),r.$set(g);const h={};i&1&&(h.board=f[0].board),o.$set(h);const P={};i&1&&(P.game=f[0]),a.$set(P)},i(f){c||(R(r.$$.fragment,f),R(o.$$.fragment,f),R(a.$$.fragment,f),c=!0)},o(f){Y(r.$$.fragment,f),Y(o.$$.fragment,f),Y(a.$$.fragment,f),c=!1},d(f){f&&u(e),ve(r),ve(o),f&&u(l),ve(a,f)}}}function rr(n){let e,r,t,o,l,a,c,f,i,g,h,P,N,$,b,v,C,I,L,T,O,M,V,U,K,J,ie,ce,he,A,Z,le,te,be,x=n[1]>0&&Gt(n),fe=Object.keys(je),X=[];for(let D=0;D<fe.length;D+=1)X[D]=Lt(Dt(n,fe,D));let j=n[0].board&&Vt(n);return{c(){e=p("h2"),r=y("Game"),t=w(),o=p("div"),x&&x.c(),l=w(),a=p("label"),c=y("AI type"),f=w(),i=p("select");for(let D=0;D<X.length;D+=1)X[D].c();g=w(),h=p("div"),P=p("span"),N=y("Player automatic move"),$=w(),b=p("ul"),v=p("li"),C=p("button"),I=y("Random move"),L=w(),T=p("li"),O=p("button"),M=y("Hardcoded rules"),V=w(),U=p("li"),K=p("button"),J=y("Complete hardcoded rules"),ie=w(),ce=p("li"),he=p("button"),A=y("minmax"),Z=w(),j&&j.c(),this.h()},l(D){e=d(D,"H2",{});var se=m(e);r=E(se,"Game"),se.forEach(u),t=S(D),o=d(D,"DIV",{});var F=m(o);x&&x.l(F),l=S(F),a=d(F,"LABEL",{for:!0});var ge=m(a);c=E(ge,"AI type"),ge.forEach(u),f=S(F),i=d(F,"SELECT",{id:!0});var ne=m(i);for(let k=0;k<X.length;k+=1)X[k].l(ne);ne.forEach(u),g=S(F),h=d(F,"DIV",{});var $e=m(h);P=d($e,"SPAN",{});var re=m(P);N=E(re,"Player automatic move"),re.forEach(u),$=S($e),b=d($e,"UL",{});var ue=m(b);v=d(ue,"LI",{});var ee=m(v);C=d(ee,"BUTTON",{});var we=m(C);I=E(we,"Random move"),we.forEach(u),ee.forEach(u),L=S(ue),T=d(ue,"LI",{});var ye=m(T);O=d(ye,"BUTTON",{});var oe=m(O);M=E(oe,"Hardcoded rules"),oe.forEach(u),ye.forEach(u),V=S(ue),U=d(ue,"LI",{});var B=m(U);K=d(B,"BUTTON",{});var q=m(K);J=E(q,"Complete hardcoded rules"),q.forEach(u),B.forEach(u),ie=S(ue),ce=d(ue,"LI",{});var _=m(ce);he=d(_,"BUTTON",{});var G=m(he);A=E(G,"minmax"),G.forEach(u),_.forEach(u),ue.forEach(u),$e.forEach(u),Z=S(F),j&&j.l(F),F.forEach(u),this.h()},h(){ae(a,"for","aiType"),ae(i,"id","aiType"),n[2]===void 0&&tt(()=>n[4].call(i))},m(D,se){H(D,e,se),s(e,r),H(D,t,se),H(D,o,se),x&&x.m(o,null),s(o,l),s(o,a),s(a,c),s(o,f),s(o,i);for(let F=0;F<X.length;F+=1)X[F].m(i,null);Ve(i,n[2]),s(o,g),s(o,h),s(h,P),s(P,N),s(h,$),s(h,b),s(b,v),s(v,C),s(C,I),s(b,L),s(b,T),s(T,O),s(O,M),s(b,V),s(b,U),s(U,K),s(K,J),s(b,ie),s(b,ce),s(ce,he),s(he,A),s(o,Z),j&&j.m(o,null),le=!0,te||(be=[Se(i,"change",n[4]),Se(C,"click",n[5]),Se(O,"click",n[6]),Se(K,"click",n[7]),Se(he,"click",n[8])],te=!0)},p(D,[se]){if(D[1]>0?x?x.p(D,se):(x=Gt(D),x.c(),x.m(o,l)):x&&(x.d(1),x=null),se&0){fe=Object.keys(je);let F;for(F=0;F<fe.length;F+=1){const ge=Dt(D,fe,F);X[F]?X[F].p(ge,se):(X[F]=Lt(ge),X[F].c(),X[F].m(i,null))}for(;F<X.length;F+=1)X[F].d(1);X.length=fe.length}se&4&&Ve(i,D[2]),D[0].board?j?(j.p(D,se),se&1&&R(j,1)):(j=Vt(D),j.c(),R(j,1),j.m(o,null)):j&&(ze(),Y(j,1,1,()=>{j=null}),Ye())},i(D){le||(R(j),le=!0)},o(D){Y(j),le=!1},d(D){D&&u(e),D&&u(t),D&&u(o),x&&x.d(),Ue(X,D),j&&j.d(),te=!1,vt(be)}}}function or(n,e,r){let t,o,l,a="minmax",c=!1;f();function f(){r(0,t=xt(c?W.computer:W.player)),c&&Ze(t,W.computer,a),o=t.currentPlayer,c=!c}const i=(v,C)=>{if(o===W.player){if(v==="manual"){if(!C)return;In(t,W.player,rt(C))}else Ze(t,W.player,v);r(0,t),o=t.currentPlayer,setTimeout(()=>{if(Ze(t,W.computer,a),r(0,t),o=t.currentPlayer,t.state!=="not_over"){r(1,l=4);const I=setInterval(()=>{r(1,l--,l),l===0&&(f(),clearInterval(I))},1e3)}},500)}},g=(v,C)=>{i(v,C)};function h(){a=nt(this),r(2,a)}return[t,l,a,g,h,()=>g("random"),()=>g("hardcodedRules"),()=>g("hardcodedRulesComplete"),()=>g("minmax")]}class lr extends Ce{constructor(e){super(),Me(this,e,or,rr,Ie,{})}}function Rt(n,e,r){const t=n.slice();return t[12]=e[r],t}function sr(n,e,r){const t=n.slice();return t[15]=e[r],t}function Ft(n,e,r){const t=n.slice();return t[18]=e[r],t}function Wt(n,e,r){const t=n.slice();return t[21]=e[r],t}function Xt(n,e,r){const t=n.slice();return t[21]=e[r],t}function Ut(n){let e,r=n[21]+"",t,o;return{c(){e=p("option"),t=y(r),o=w(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,r),o=S(a),a.forEach(u),this.h()},h(){e.__value=n[21],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,o)},p:Pe,d(l){l&&u(e)}}}function jt(n){let e,r=n[21]+"",t,o;return{c(){e=p("option"),t=y(r),o=w(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,r),o=S(a),a.forEach(u),this.h()},h(){e.__value=n[21],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,o)},p:Pe,d(l){l&&u(e)}}}function ar(n){let e,r;return{c(){e=p("span"),r=y("-")},l(t){e=d(t,"SPAN",{});var o=m(e);r=E(o,"-"),o.forEach(u)},m(t,o){H(t,e,o),s(e,r)},p:Pe,d(t){t&&u(e)}}}function ir(n){let e,r=100*n[5][n[18]]/n[5].total+"",t,o;return{c(){e=p("span"),t=y(r),o=y(" %")},l(l){e=d(l,"SPAN",{});var a=m(e);t=E(a,r),o=E(a," %"),a.forEach(u)},m(l,a){H(l,e,a),s(e,t),s(e,o)},p(l,a){a&32&&r!==(r=100*l[5][l[18]]/l[5].total+"")&&_e(t,r)},d(l){l&&u(e)}}}function zt(n){let e,r=n[18]+"",t,o,l,a=n[5][n[18]]+"",c,f,i;function g(N,$){return N[18]!=="total"?ir:ar}let h=g(n),P=h(n);return{c(){e=p("span"),t=y(r),o=w(),l=p("span"),c=y(a),f=w(),P.c(),i=qe()},l(N){e=d(N,"SPAN",{});var $=m(e);t=E($,r),$.forEach(u),o=S(N),l=d(N,"SPAN",{});var b=m(l);c=E(b,a),b.forEach(u),f=S(N),P.l(N),i=qe()},m(N,$){H(N,e,$),s(e,t),H(N,o,$),H(N,l,$),s(l,c),H(N,f,$),P.m(N,$),H(N,i,$)},p(N,$){$&32&&r!==(r=N[18]+"")&&_e(t,r),$&32&&a!==(a=N[5][N[18]]+"")&&_e(c,a),h===(h=g(N))&&P?P.p(N,$):(P.d(1),P=h(N),P&&(P.c(),P.m(i.parentNode,i)))},d(N){N&&u(e),N&&u(o),N&&u(l),N&&u(f),P.d(N),N&&u(i)}}}function cr(n){let e,r,t;return{c(){e=p("option"),r=y(n[15]),t=w(),this.h()},l(o){e=d(o,"OPTION",{});var l=m(e);r=E(l,n[15]),t=S(l),l.forEach(u),this.h()},h(){e.__value=n[15],e.value=e.__value},m(o,l){H(o,e,l),s(e,r),s(e,t)},p:Pe,d(o){o&&u(e)}}}function Yt(n){let e,r;return e=new rn({props:{game:n[12]}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},p(t,o){const l={};o&1&&(l.game=t[12]),e.$set(l)},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function Jt(n){let e,r,t=(n[3]==="all"||n[3]===n[12].state)&&Yt(n);return{c(){t&&t.c(),e=qe()},l(o){t&&t.l(o),e=qe()},m(o,l){t&&t.m(o,l),H(o,e,l),r=!0},p(o,l){o[3]==="all"||o[3]===o[12].state?t?(t.p(o,l),l&9&&R(t,1)):(t=Yt(o),t.c(),R(t,1),t.m(e.parentNode,e)):t&&(ze(),Y(t,1,1,()=>{t=null}),Ye())},i(o){r||(R(t),r=!0)},o(o){Y(t),r=!1},d(o){t&&t.d(o),o&&u(e)}}}function fr(n){let e,r,t,o,l,a,c,f,i,g,h,P,N,$,b,v,C,I,L,T,O,M,V,U,K,J,ie,ce,he,A,Z,le,te,be,x,fe,X,j,D,se,F,ge=Object.keys(je),ne=[];for(let _=0;_<ge.length;_+=1)ne[_]=Ut(Xt(n,ge,_));let $e=Object.keys(je),re=[];for(let _=0;_<$e.length;_+=1)re[_]=jt(Wt(n,$e,_));let ue=Object.keys(n[5]).sort(),ee=[];for(let _=0;_<ue.length;_+=1)ee[_]=zt(Ft(n,ue,_));let we=["none","all","player_win","computer_win","draw","over"],ye=[];for(let _=0;_<6;_+=1)ye[_]=cr(sr(n,we,_));let oe=n[0],B=[];for(let _=0;_<oe.length;_+=1)B[_]=Jt(Rt(n,oe,_));const q=_=>Y(B[_],1,1,()=>{B[_]=null});return{c(){e=p("div"),r=p("h2"),t=y("Generator"),o=w(),l=p("div"),a=p("label"),c=y("Games to generate"),f=w(),i=p("input"),g=w(),h=p("label"),P=y("Player AI type"),N=w(),$=p("select");for(let _=0;_<ne.length;_+=1)ne[_].c();b=w(),v=p("label"),C=y("Computer AI type"),I=w(),L=p("select");for(let _=0;_<re.length;_+=1)re[_].c();T=w(),O=p("button"),M=y("Create games"),V=w(),U=p("div"),K=p("h3"),J=y("Stats"),ie=w(),ce=p("div");for(let _=0;_<ee.length;_+=1)ee[_].c();he=w(),A=p("div"),Z=p("h3"),le=y("Games"),te=w(),be=p("label"),x=y("Filter state"),fe=w(),X=p("select");for(let _=0;_<6;_+=1)ye[_].c();j=w();for(let _=0;_<B.length;_+=1)B[_].c();this.h()},l(_){e=d(_,"DIV",{});var G=m(e);r=d(G,"H2",{});var k=m(r);t=E(k,"Generator"),k.forEach(u),o=S(G),l=d(G,"DIV",{class:!0});var Q=m(l);a=d(Q,"LABEL",{for:!0});var Ae=m(a);c=E(Ae,"Games to generate"),Ae.forEach(u),f=S(Q),i=d(Q,"INPUT",{id:!0,type:!0}),g=S(Q),h=d(Q,"LABEL",{for:!0});var Be=m(h);P=E(Be,"Player AI type"),Be.forEach(u),N=S(Q),$=d(Q,"SELECT",{id:!0});var He=m($);for(let ke=0;ke<ne.length;ke+=1)ne[ke].l(He);He.forEach(u),b=S(Q),v=d(Q,"LABEL",{for:!0});var De=m(v);C=E(De,"Computer AI type"),De.forEach(u),I=S(Q),L=d(Q,"SELECT",{id:!0});var Ee=m(L);for(let ke=0;ke<re.length;ke+=1)re[ke].l(Ee);Ee.forEach(u),T=S(Q),O=d(Q,"BUTTON",{});var Ge=m(O);M=E(Ge,"Create games"),Ge.forEach(u),Q.forEach(u),V=S(G),U=d(G,"DIV",{});var Te=m(U);K=d(Te,"H3",{});var Oe=m(K);J=E(Oe,"Stats"),Oe.forEach(u),ie=S(Te),ce=d(Te,"DIV",{class:!0});var Le=m(ce);for(let ke=0;ke<ee.length;ke+=1)ee[ke].l(Le);Le.forEach(u),Te.forEach(u),he=S(G),A=d(G,"DIV",{});var Ne=m(A);Z=d(Ne,"H3",{});var Qe=m(Z);le=E(Qe,"Games"),Qe.forEach(u),te=S(Ne),be=d(Ne,"LABEL",{for:!0});var yt=m(be);x=E(yt,"Filter state"),yt.forEach(u),fe=S(Ne),X=d(Ne,"SELECT",{id:!0});var Et=m(X);for(let ke=0;ke<6;ke+=1)ye[ke].l(Et);Et.forEach(u),j=S(Ne);for(let ke=0;ke<B.length;ke+=1)B[ke].l(Ne);Ne.forEach(u),G.forEach(u),this.h()},h(){ae(a,"for","nbGames"),ae(i,"id","nbGames"),ae(i,"type","number"),ae(h,"for","playerAiType"),ae($,"id","playerAiType"),n[1]===void 0&&tt(()=>n[8].call($)),ae(v,"for","computerAiType"),ae(L,"id","computerAiType"),n[2]===void 0&&tt(()=>n[9].call(L)),ae(l,"class","grid2cols svelte-1g8tfkd"),ae(ce,"class","grid3cols svelte-1g8tfkd"),ae(be,"for","stateFilter"),ae(X,"id","stateFilter"),n[3]===void 0&&tt(()=>n[10].call(X))},m(_,G){H(_,e,G),s(e,r),s(r,t),s(e,o),s(e,l),s(l,a),s(a,c),s(l,f),s(l,i),Pt(i,n[4]),s(l,g),s(l,h),s(h,P),s(l,N),s(l,$);for(let k=0;k<ne.length;k+=1)ne[k].m($,null);Ve($,n[1]),s(l,b),s(l,v),s(v,C),s(l,I),s(l,L);for(let k=0;k<re.length;k+=1)re[k].m(L,null);Ve(L,n[2]),s(l,T),s(l,O),s(O,M),s(e,V),s(e,U),s(U,K),s(K,J),s(U,ie),s(U,ce);for(let k=0;k<ee.length;k+=1)ee[k].m(ce,null);s(e,he),s(e,A),s(A,Z),s(Z,le),s(A,te),s(A,be),s(be,x),s(A,fe),s(A,X);for(let k=0;k<6;k+=1)ye[k].m(X,null);Ve(X,n[3]),s(A,j);for(let k=0;k<B.length;k+=1)B[k].m(A,null);D=!0,se||(F=[Se(i,"input",n[7]),Se($,"change",n[8]),Se(L,"change",n[9]),Se(O,"click",n[6]),Se(X,"change",n[10])],se=!0)},p(_,[G]){if(G&16&&Kt(i.value)!==_[4]&&Pt(i,_[4]),G&0){ge=Object.keys(je);let k;for(k=0;k<ge.length;k+=1){const Q=Xt(_,ge,k);ne[k]?ne[k].p(Q,G):(ne[k]=Ut(Q),ne[k].c(),ne[k].m($,null))}for(;k<ne.length;k+=1)ne[k].d(1);ne.length=ge.length}if(G&2&&Ve($,_[1]),G&0){$e=Object.keys(je);let k;for(k=0;k<$e.length;k+=1){const Q=Wt(_,$e,k);re[k]?re[k].p(Q,G):(re[k]=jt(Q),re[k].c(),re[k].m(L,null))}for(;k<re.length;k+=1)re[k].d(1);re.length=$e.length}if(G&4&&Ve(L,_[2]),G&32){ue=Object.keys(_[5]).sort();let k;for(k=0;k<ue.length;k+=1){const Q=Ft(_,ue,k);ee[k]?ee[k].p(Q,G):(ee[k]=zt(Q),ee[k].c(),ee[k].m(ce,null))}for(;k<ee.length;k+=1)ee[k].d(1);ee.length=ue.length}if(G&8&&Ve(X,_[3]),G&9){oe=_[0];let k;for(k=0;k<oe.length;k+=1){const Q=Rt(_,oe,k);B[k]?(B[k].p(Q,G),R(B[k],1)):(B[k]=Jt(Q),B[k].c(),R(B[k],1),B[k].m(A,null))}for(ze(),k=oe.length;k<B.length;k+=1)q(k);Ye()}},i(_){if(!D){for(let G=0;G<oe.length;G+=1)R(B[G]);D=!0}},o(_){B=B.filter(Boolean);for(let G=0;G<B.length;G+=1)Y(B[G]);D=!1},d(_){_&&u(e),Ue(ne,_),Ue(re,_),Ue(ee,_),Ue(ye,_),Ue(B,_),se=!1,vt(F)}}}function ur(n,e,r){let t=[],o="random",l="hardcodedRulesComplete",a="none",c=10;const f=()=>{const b=xt();for(;b.state==="not_over";)Ze(b,W.player,o),Ze(b,W.computer,l);return b};let i={total:0};const g=()=>{r(0,t=[]),r(5,i={total:0}),an(c,(b,v)=>{setTimeout(()=>{const C=f();return r(0,t=[C,...t]),i[C.state]||r(5,i[C.state]=0,i),r(5,i[C.state]+=1,i),r(5,i.total+=1,i),v()},0)})};function h(){c=Kt(this.value),r(4,c)}function P(){o=nt(this),r(1,o)}function N(){l=nt(this),r(2,l)}function $(){a=nt(this),r(3,a)}return[t,o,l,a,c,i,g,h,P,N,$]}class hr extends Ce{constructor(e){super(),Me(this,e,ur,fr,Ie,{})}}function _r(n){let e,r,t,o,l,a,c,f,i,g,h,P,N,$,b,v,C,I,L,T,O,M,V,U,K,J,ie,ce,he;return l=new nn({props:{sketch:n[5]}}),J=new tn({props:{board:n[1]}}),{c(){e=p("h2"),r=y("Analyzer"),t=w(),o=p("div"),pe(l.$$.fragment),a=w(),c=p("div"),f=p("h4"),i=y("Controls"),g=w(),h=p("button"),P=y("Play O"),$=w(),b=p("button"),v=y("Play X"),I=w(),L=p("button"),T=y("Previous"),M=w(),V=p("button"),U=y("Reset"),K=w(),pe(J.$$.fragment),this.h()},l(A){e=d(A,"H2",{});var Z=m(e);r=E(Z,"Analyzer"),Z.forEach(u),t=S(A),o=d(A,"DIV",{});var le=m(o);de(l.$$.fragment,le),a=S(le),c=d(le,"DIV",{});var te=m(c);f=d(te,"H4",{});var be=m(f);i=E(be,"Controls"),be.forEach(u),g=S(te),h=d(te,"BUTTON",{});var x=m(h);P=E(x,"Play O"),x.forEach(u),$=S(te),b=d(te,"BUTTON",{});var fe=m(b);v=E(fe,"Play X"),fe.forEach(u),I=S(te),L=d(te,"BUTTON",{});var X=m(L);T=E(X,"Previous"),X.forEach(u),M=S(te),V=d(te,"BUTTON",{});var j=m(V);U=E(j,"Reset"),j.forEach(u),te.forEach(u),K=S(le),de(J.$$.fragment,le),le.forEach(u),this.h()},h(){h.disabled=N=n[2]===W.player,b.disabled=C=n[2]===W.computer,L.disabled=O=(n[0]||[]).length<2},m(A,Z){H(A,e,Z),s(e,r),H(A,t,Z),H(A,o,Z),me(l,o,null),s(o,a),s(o,c),s(c,f),s(f,i),s(c,g),s(c,h),s(h,P),s(c,$),s(c,b),s(b,v),s(c,I),s(c,L),s(L,T),s(c,M),s(c,V),s(V,U),s(o,K),me(J,o,null),ie=!0,ce||(he=[Se(h,"click",n[6]),Se(b,"click",n[7]),Se(L,"click",n[4]),Se(V,"click",n[3])],ce=!0)},p(A,[Z]){(!ie||Z&4&&N!==(N=A[2]===W.player))&&(h.disabled=N),(!ie||Z&4&&C!==(C=A[2]===W.computer))&&(b.disabled=C),(!ie||Z&1&&O!==(O=(A[0]||[]).length<2))&&(L.disabled=O);const le={};Z&2&&(le.board=A[1]),J.$set(le)},i(A){ie||(R(l.$$.fragment,A),R(J.$$.fragment,A),ie=!0)},o(A){Y(l.$$.fragment,A),Y(J.$$.fragment,A),ie=!1},d(A){A&&u(e),A&&u(t),A&&u(o),ve(l),ve(J),ce=!1,vt(he)}}}function pr(n,e,r){let t,o,l,a=W.player;function c($,b){Ke(l,$,rt(b)),r(1,l),o.push({...l}),r(0,o),f()}function f(){r(2,a=a===W.player?W.computer:W.player)}function i(){r(1,l=Qt()),r(0,o=[{...l}])}function g(){o.length<=1||(o.pop(),r(0,o),r(1,l={...o[o.length-1]}))}const h=$=>{$.setup=()=>{t=$,$.createCanvas(400,400),i()},$.draw=()=>{$.background(0),mt($,l,{drawSelection:!0,selection:at($),currentPlayer:a})},$.mousePressed=()=>{if($.mouseX<0||$.mouseX>$.width||$.mouseY<0||$.mouseY>$.height)return;const b=at($);c(a,b)}};return qt(()=>{t==null||t.remove()}),[o,l,a,i,g,h,()=>r(2,a=W.player),()=>r(2,a=W.computer)]}class dr extends Ce{constructor(e){super(),Me(this,e,pr,_r,Ie,{})}}function mr(n){let e;return{c(){e=y("Game")},l(r){e=E(r,"Game")},m(r,t){H(r,e,t)},d(r){r&&u(e)}}}function vr(n){let e;return{c(){e=y("Generator")},l(r){e=E(r,"Generator")},m(r,t){H(r,e,t)},d(r){r&&u(e)}}}function gr(n){let e;return{c(){e=y("Analyzer")},l(r){e=E(r,"Analyzer")},m(r,t){H(r,e,t)},d(r){r&&u(e)}}}function br(n){let e,r,t,o,l,a;return e=new ft({props:{$$slots:{default:[mr]},$$scope:{ctx:n}}}),t=new ft({props:{$$slots:{default:[vr]},$$scope:{ctx:n}}}),l=new ft({props:{$$slots:{default:[gr]},$$scope:{ctx:n}}}),{c(){pe(e.$$.fragment),r=w(),pe(t.$$.fragment),o=w(),pe(l.$$.fragment)},l(c){de(e.$$.fragment,c),r=S(c),de(t.$$.fragment,c),o=S(c),de(l.$$.fragment,c)},m(c,f){me(e,c,f),H(c,r,f),me(t,c,f),H(c,o,f),me(l,c,f),a=!0},p(c,f){const i={};f&1&&(i.$$scope={dirty:f,ctx:c}),e.$set(i);const g={};f&1&&(g.$$scope={dirty:f,ctx:c}),t.$set(g);const h={};f&1&&(h.$$scope={dirty:f,ctx:c}),l.$set(h)},i(c){a||(R(e.$$.fragment,c),R(t.$$.fragment,c),R(l.$$.fragment,c),a=!0)},o(c){Y(e.$$.fragment,c),Y(t.$$.fragment,c),Y(l.$$.fragment,c),a=!1},d(c){ve(e,c),c&&u(r),ve(t,c),c&&u(o),ve(l,c)}}}function $r(n){let e,r;return e=new lr({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function kr(n){let e,r;return e=new hr({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function yr(n){let e,r;return e=new dr({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function Er(n){let e,r,t,o,l,a,c,f;return e=new fn({props:{$$slots:{default:[br]},$$scope:{ctx:n}}}),t=new ct({props:{$$slots:{default:[$r]},$$scope:{ctx:n}}}),l=new ct({props:{$$slots:{default:[kr]},$$scope:{ctx:n}}}),c=new ct({props:{$$slots:{default:[yr]},$$scope:{ctx:n}}}),{c(){pe(e.$$.fragment),r=w(),pe(t.$$.fragment),o=w(),pe(l.$$.fragment),a=w(),pe(c.$$.fragment)},l(i){de(e.$$.fragment,i),r=S(i),de(t.$$.fragment,i),o=S(i),de(l.$$.fragment,i),a=S(i),de(c.$$.fragment,i)},m(i,g){me(e,i,g),H(i,r,g),me(t,i,g),H(i,o,g),me(l,i,g),H(i,a,g),me(c,i,g),f=!0},p(i,g){const h={};g&1&&(h.$$scope={dirty:g,ctx:i}),e.$set(h);const P={};g&1&&(P.$$scope={dirty:g,ctx:i}),t.$set(P);const N={};g&1&&(N.$$scope={dirty:g,ctx:i}),l.$set(N);const $={};g&1&&($.$$scope={dirty:g,ctx:i}),c.$set($)},i(i){f||(R(e.$$.fragment,i),R(t.$$.fragment,i),R(l.$$.fragment,i),R(c.$$.fragment,i),f=!0)},o(i){Y(e.$$.fragment,i),Y(t.$$.fragment,i),Y(l.$$.fragment,i),Y(c.$$.fragment,i),f=!1},d(i){ve(e,i),i&&u(r),ve(t,i),i&&u(o),ve(l,i),i&&u(a),ve(c,i)}}}function Pr(n){let e,r;return e=new cn({props:{$$slots:{default:[Er]},$$scope:{ctx:n}}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},p(t,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}class wr extends Ce{constructor(e){super(),Me(this,e,null,Pr,Ie,{})}}function Sr(n){let e,r;return e=new wr({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),r=!0},p:Pe,i(t){r||(R(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}class Ir extends Ce{constructor(e){super(),Me(this,e,null,Sr,Ie,{})}}export{Ir as default};
