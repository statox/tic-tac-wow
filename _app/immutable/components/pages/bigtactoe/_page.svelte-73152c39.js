import{S as Me,i as Te,s as Ie,k as p,q as k,a as P,l as d,m,r as E,h as u,c as w,b as H,D as s,B as Ne,n as ce,u as ue,g as Ye,t as j,d as Je,f as F,I as qt,w as he,x as _e,y as pe,z as de,e as Ke,J as ze,K as we,L as tt,M as Ve,N as vt,O as rt,P as Pt,Q as Kt}from"../../../chunks/index-0ce3b86f.js";import{T as lr,a as sr,b as ct,c as ft}from"../../../chunks/TabPanel-6a393c50.js";import{g as Qt,a as ar,P as Zt}from"../../../chunks/P5-522f2e95.js";import{t as ir}from"../../../chunks/async-8fd893d5.js";const cr=[448,56,7,292,146,73,273,84],fr=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],ur=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],hr=[{p:2,o:5},{p:2,o:144}],Ue=(r,e)=>(r&e)===e;var W=(r=>(r[r.player=1]="player",r[r.computer=2]="computer",r))(W||{});function wt(r){let e=r,o=0;for(;e;)o+=e&1,e>>=1;return o}function St(r,e){return z(r,e)}function z(r,e){return!(r&1<<e)}function ht(r,e){return r+2**e}const _t=r=>{for(const e of cr)if(Ue(r,e))return!0;return!1},_r={1:W.computer,2:W.player},Nt=r=>_r[r];function xt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function We(r,e){return e===W.player?r.player:r.computer}function Xe(r,e){return e===W.player?r.computer:r.player}function xe(r,e){if(!e&&!pr(r))return"invalid_board";const o=_t(r.player),t=_t(r.computer);return o&&t?"draw":o?"player_win":t?"computer_win":mr(r)?"not_over":"over"}function je(r,e,o){if(!dr(r,o))throw new Error(`Impossible move. player: ${r==null?void 0:r.player}, computer: ${r==null?void 0:r.computer}, index ${o} `);e===W.player?r.player=ht(r.player,o):r.computer=ht(r.computer,o)}function pr(r){if(r.player&r.computer)return!1;const e=wt(r.player),o=wt(r.computer);return!(Math.abs(e-o)>1)}function dr(r,e){return z(r.player,e)&&z(r.computer,e)}function mr(r){return(r.player|r.computer)!==511}function et(r){let e=r.player|r.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const o=[];let t=0;for(;t<9;)e&1||o.push(t),t++,e>>=1;return o}function ot(r){const{x:e,y:o}=r;if(e<0||e>2||o<0||o>2)throw new Error(`Invalid coords (${e},${o})`);return 8-(3*o+e)}function Ct(r){if(r<0||r>8)throw new Error("Invalid index ${i}");return{x:2-r%3,y:2-Math.floor(r/3)}}const vr=[2,5,8,1,4,7,0,3,6];function Mt(r){let e=0;return vr.forEach((o,t)=>{z(r,t)||(e=ht(e,o))}),e}function nt(r,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...r};e=e%4;const o={...r};for(let t=0;t<e;t++)o.player=Mt(o.player),o.computer=Mt(o.computer);return o}function gr(r,e){return et(r).map(t=>{const n={...r};return je(n,e,t),{move:t,board:n}})}function br(r,e){if(et(r).length===0)throw new Error("No available moves");const n=pt({board:r,player:e,depth:1,moves:[]});return{score:n.score,reason:n.reason,move:n.moves[0]}}function $r(r){return r==="player_win"?{score:4,reason:r}:r==="draw"?{score:3,reason:r}:r==="over"?{score:2,reason:r}:r==="not_over"?{score:1,reason:r}:r==="computer_win"?{score:0,reason:r}:{score:-1,reason:r}}const kr=12;function pt(r){const e=xe(r.board);if(r.depth===kr||e!=="not_over")return{moves:r.moves,...$r(e)};const o=gr(r.board,r.player);if(r.player===W.player){let n;for(const l of o){const a={board:l.board,player:Nt(r.player),depth:r.depth+1,moves:[...r.moves,l.move]},i=pt(a);(!n||i.score>n.score)&&(n=i)}if(!n)throw new Error("Couldnt get any best child for maximizing player");return n}let t;for(const n of o){const l={board:n.board,player:Nt(r.player),depth:r.depth+1,moves:[...r.moves,n.move]},a=pt(l);(!t||a.score<t.score)&&(t=a)}if(!t)throw new Error("Couldnt get any best child for maximizing player");return t}function Re(r,e){const o=We(r,e);return _t(o)}function gt(r){return r===4}function lt(r,e,o){const t=We(r,e),n=Xe(r,e);if(o===4){const l=z(n,5)&&!z(t,3)||!z(t,5)&&z(n,3)?1:0,a=z(n,7)&&!z(t,1)||!z(t,7)&&z(n,1)?1:0,i=z(n,8)&&!z(t,0)||!z(t,8)&&z(n,0)?1:0,f=z(n,6)&&!z(t,2)||!z(t,6)&&z(n,2)?1:0;return l+a+i+f>=2}if(it.has(o)){const l={0:0,2:3,6:1,8:2}[o]||0,a=nt(r,l),i=We(a,e),f=Xe(a,e),c=z(f,2)&&!z(i,1)||!z(i,2)&&z(f,1),v=z(f,6)&&!z(i,3)||!z(i,6)&&z(f,3);return c&&v}if(bt.has(o)){const l={1:0,3:1,5:3,7:2}[o]||0,a=nt(r,l),i=We(a,e),f=Xe(a,e),c=z(f,2)&&!z(i,0)||!z(i,2)&&z(f,0),v=z(f,7)&&!z(i,4)||!z(i,7)&&z(f,4);return c&&v}return!1}function dt(r,e,o){const t=We(r,e),l={player:Xe(r,e),computer:t};return lt(l,e===W.player?W.computer:W.player,o)}function qe(r,e,o){const t=We(r,e),n=Xe(r,e);if(o===4){for(const{o:l,p:a}of fr)if(Ue(t,a)&&Ue(n,l))return!0}if(it.has(o)){const l={0:0,2:3,6:1,8:2}[o]||0,a=nt(r,l),i=We(a,e),f=Xe(a,e);for(const{o:c,p:v}of ur)if(Ue(i,v)&&Ue(f,c))return!0}if(bt.has(o)){const l={1:0,3:1,5:3,7:2}[o]||0,a=nt(r,l),i=We(a,e),f=Xe(a,e);for(const{o:c,p:v}of hr)if(Ue(i,v)&&Ue(f,c))return!0}return!1}const it=new Set([0,2,6,8]),bt=new Set([1,3,5,7]);function st(r,e,o){if(!it.has(o))return!1;const t=8-o,n=Xe(r,e);return!z(n,t)}function $t(r){return it.has(r)}function er(r){return bt.has(r)}function Er(r,e){const o=et(r);if(o.length===0)throw new Error("No available moves");let t;for(const n of o){const l={...r};je(l,e,n);const a=yr(l,e,n);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function yr(r,e,o){return Re(r,e)?{score:8,reason:"win",move:o}:qe(r,e,o)?{score:7,reason:"block_opponent",move:o}:lt(r,e,o)?{score:6,reason:"create_fork",move:o}:dt(r,e,o)?{score:5,reason:"block_opponent_fork",move:o}:gt(o)?{score:4,reason:"take_center",move:o}:st(r,e,o)?{score:3,reason:"take_opposite_corner",move:o}:$t(o)?{score:2,reason:"take_corner",move:o}:er(o)?{score:1,reason:"take_edge",move:o}:{score:0,reason:"default_choice",move:o}}function Pr(r,e){const o=et(r);if(o.length===0)throw new Error("No available moves");let t;for(const n of o){const l={...r};je(l,e,n);const a=wr(l,e,n);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function wr(r,e,o){return Re(r,W.player)?{score:8,reason:"win",move:o}:qe(r,e,o)?{score:7,reason:"block_opponent",move:o}:gt(o)?{score:4,reason:"take_center",move:o}:st(r,e,o)?{score:3,reason:"take_opposite_corner",move:o}:$t(o)?{score:2,reason:"take_corner",move:o}:er(o)?{score:1,reason:"take_edge",move:o}:{score:0,reason:"default_choice",move:o}}function Sr(r){const e=et(r);if(e.length===0)throw new Error("No available moves");const o=Math.floor(Math.random()*e.length);return{score:0,reason:"random",move:e[o]}}const Fe={random:Sr,hardcodedRules:Pr,hardcodedRulesComplete:Er,minmax:br},tr=r=>({type:"tictactoe",board:xt(),currentPlayer:r??W.player,state:"not_over",moveHistory:[]});function rr(r){r.currentPlayer=r.currentPlayer===W.player?W.computer:W.player}const Nr=(r,e,o)=>{r.state==="not_over"&&(je(r.board,e,o),r.type==="tictactoe"&&(r.state=xe(r.board)),r.type==="misere"&&(r.state=Qt(r.board)),r.moveHistory.push({board:{...r.board},moveAsIndex:o,player:e,method:"manual"}),rr(r))},Ze=(r,e,o)=>{if(r.state!=="not_over")return;let t;if(r.type==="tictactoe"){const n=Fe[o];t=n(r.board,e),je(r.board,e,t.move),r.state=xe(r.board)}if(r.type==="misere"){let n;o==="random"?n=Fe.random:n=ar,t=n(r.board,e),je(r.board,e,t.move),r.state=Qt(r.board)}if(!t)throw new Error("Couldnt get move");r.moveHistory.push({board:{...r.board},moveAsIndex:t.move,player:e,method:o,aiChoice:t}),rr(r)},Cr="#FF0000",Mr="#64ccfc";function mt(r,e,o){var v;const t=r.width/3,n=r.height/3,{height:l,width:a}=r,{drawSelection:i,selection:f,currentPlayer:c}=o||{};r.rectMode(r.CENTER),r.noFill(),r.stroke(255),r.strokeWeight(1),r.line(t,0,t,l),r.line(t*2,0,t*2,l),r.line(0,n,a,n),r.line(0,n*2,a,n*2),r.stroke(155),r.strokeWeight(3),r.rect(r.width/2,r.height/2,r.width,r.height),r.strokeWeight(4);for(let _=0;_<3;_++)for(let y=0;y<3;y++)((v=o==null?void 0:o.highlightCell)==null?void 0:v.x)===y&&(o==null?void 0:o.highlightCell.y)===_&&(r.noStroke(),r.fill(30,250,80,80),r.rect(y*t+t/2,_*n+n/2,t*.95,n*.95),r.noFill()),(!St(e.player,ot({x:y,y:_}))||i&&c===W.player&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===_)&&(r.stroke(Mr),r.circle(y*t+t/2,_*n+n/2,n/2)),(!St(e.computer,ot({x:y,y:_}))||i&&c===W.computer&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===_)&&(r.stroke(Cr),r.line(y*t+t*.3,_*n+n*.3,y*t+t*.7,_*n+n*.7),r.line(y*t+t*.7,_*n+n*.3,y*t+t*.3,_*n+n*.7))}function at(r){const{mouseX:e,mouseY:o,width:t,height:n}=r,l=Math.floor(r.map(e,0,t,0,3)),a=Math.floor(r.map(o,0,n,0,3));return{x:l,y:a}}function Tt(r){let e,o,t,n,l,a=xe(r[0])+"",i,f,c,v,_,y,N,g,S,b,M=r[0].player.toString(2).padStart(9,"0")+"",T,D,A,B=r[0].player+"",C,G,q,Z,X,ie=Re(r[0],W.player)?"✅":"❌",fe,se,I,x,ae,oe,K,me,Y,R,V=r[0].computer.toString(2).padStart(9,"0")+"",te,Q,ve,ge=r[0].computer+"",J,ke,ne,be,re,Pe=Re(r[0],W.computer)?"✅":"❌",Ee;return{c(){e=p("div"),o=p("span"),t=k("State:"),n=P(),l=p("span"),i=k(a),f=P(),c=p("div"),v=p("span"),_=k("Player 1"),y=p("span"),N=k("Player, O"),g=P(),S=p("span"),b=k("0b"),T=k(M),D=P(),A=p("span"),C=k(B),G=P(),q=p("span"),Z=k("Wins"),X=p("span"),fe=k(ie),se=P(),I=p("div"),x=p("span"),ae=k("Player 2"),oe=p("span"),K=k("Computer, X"),me=P(),Y=p("span"),R=k("0b"),te=k(V),Q=P(),ve=p("span"),J=k(ge),ke=P(),ne=p("span"),be=k("Wins"),re=p("span"),Ee=k(Pe),this.h()},l(le){e=d(le,"DIV",{class:!0});var O=m(e);o=d(O,"SPAN",{});var U=m(o);t=E(U,"State:"),U.forEach(u),n=w(O),l=d(O,"SPAN",{});var h=m(l);i=E(h,a),h.forEach(u),f=w(O),c=d(O,"DIV",{class:!0});var L=m(c);v=d(L,"SPAN",{});var $=m(v);_=E($,"Player 1"),$.forEach(u),y=d(L,"SPAN",{});var ee=m(y);N=E(ee,"Player, O"),ee.forEach(u),g=w(L),S=d(L,"SPAN",{});var Ae=m(S);b=E(Ae,"0b"),T=E(Ae,M),Ae.forEach(u),D=w(L),A=d(L,"SPAN",{});var Oe=m(A);C=E(Oe,B),Oe.forEach(u),G=w(L),q=d(L,"SPAN",{});var He=m(q);Z=E(He,"Wins"),He.forEach(u),X=d(L,"SPAN",{});var Le=m(X);fe=E(Le,ie),Le.forEach(u),L.forEach(u),se=w(O),I=d(O,"DIV",{class:!0});var ye=m(I);x=d(ye,"SPAN",{});var De=m(x);ae=E(De,"Player 2"),De.forEach(u),oe=d(ye,"SPAN",{});var Ce=m(oe);K=E(Ce,"Computer, X"),Ce.forEach(u),me=w(ye),Y=d(ye,"SPAN",{});var Be=m(Y);R=E(Be,"0b"),te=E(Be,V),Be.forEach(u),Q=w(ye),ve=d(ye,"SPAN",{});var Ge=m(ve);J=E(Ge,ge),Ge.forEach(u),ke=w(ye),ne=d(ye,"SPAN",{});var Se=m(ne);be=E(Se,"Wins"),Se.forEach(u),re=d(ye,"SPAN",{});var Qe=m(re);Ee=E(Qe,Pe),Qe.forEach(u),ye.forEach(u),O.forEach(u),this.h()},h(){ce(c,"class","grid2cols svelte-1lw5ne4"),ce(I,"class","grid2cols svelte-1lw5ne4"),ce(e,"class","grid2cols svelte-1lw5ne4")},m(le,O){H(le,e,O),s(e,o),s(o,t),s(e,n),s(e,l),s(l,i),s(e,f),s(e,c),s(c,v),s(v,_),s(c,y),s(y,N),s(c,g),s(c,S),s(S,b),s(S,T),s(c,D),s(c,A),s(A,C),s(c,G),s(c,q),s(q,Z),s(c,X),s(X,fe),s(e,se),s(e,I),s(I,x),s(x,ae),s(I,oe),s(oe,K),s(I,me),s(I,Y),s(Y,R),s(Y,te),s(I,Q),s(I,ve),s(ve,J),s(I,ke),s(I,ne),s(ne,be),s(I,re),s(re,Ee)},p(le,O){O&1&&a!==(a=xe(le[0])+"")&&ue(i,a),O&1&&M!==(M=le[0].player.toString(2).padStart(9,"0")+"")&&ue(T,M),O&1&&B!==(B=le[0].player+"")&&ue(C,B),O&1&&ie!==(ie=Re(le[0],W.player)?"✅":"❌")&&ue(fe,ie),O&1&&V!==(V=le[0].computer.toString(2).padStart(9,"0")+"")&&ue(te,V),O&1&&ge!==(ge=le[0].computer+"")&&ue(J,ge),O&1&&Pe!==(Pe=Re(le[0],W.computer)?"✅":"❌")&&ue(Ee,Pe)},d(le){le&&u(e)}}}function Tr(r){let e,o,t,n,l=r[0]&&Tt(r);return{c(){e=p("div"),o=p("h4"),t=k("Board info"),n=P(),l&&l.c()},l(a){e=d(a,"DIV",{});var i=m(e);o=d(i,"H4",{});var f=m(o);t=E(f,"Board info"),f.forEach(u),n=w(i),l&&l.l(i),i.forEach(u)},m(a,i){H(a,e,i),s(e,o),s(o,t),s(e,n),l&&l.m(e,null)},p(a,[i]){a[0]?l?l.p(a,i):(l=Tt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Ne,o:Ne,d(a){a&&u(e),l&&l.d()}}}function Ir(r,e,o){let{board:t}=e;return r.$$set=n=>{"board"in n&&o(0,t=n.board)},[t]}class or extends Me{constructor(e){super(),Te(this,e,Ir,Tr,Ie,{board:0})}}function Ar(r){let e,o,t=JSON.stringify(r[0])+"",n;return{c(){e=p("p"),o=k("Board is undefined "),n=k(t)},l(l){e=d(l,"P",{});var a=m(e);o=E(a,"Board is undefined "),n=E(a,t),a.forEach(u)},m(l,a){H(l,e,a),s(e,o),s(e,n)},p(l,a){a&1&&t!==(t=JSON.stringify(l[0])+"")&&ue(n,t)},i:Ne,o:Ne,d(l){l&&u(e)}}}function Br(r){let e,o;return e=new Zt({props:{sketch:r[1]}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},p:Ne,i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function Or(r){let e,o,t,n;const l=[Br,Ar],a=[];function i(f,c){return f[0]?0:1}return o=i(r),t=a[o]=l[o](r),{c(){e=p("div"),t.c()},l(f){e=d(f,"DIV",{});var c=m(e);t.l(c),c.forEach(u)},m(f,c){H(f,e,c),a[o].m(e,null),n=!0},p(f,[c]){let v=o;o=i(f),o===v?a[o].p(f,c):(Ye(),j(a[v],1,1,()=>{a[v]=null}),Je(),t=a[o],t?t.p(f,c):(t=a[o]=l[o](f),t.c()),F(t,1),t.m(e,null))},i(f){n||(F(t),n=!0)},o(f){j(t),n=!1},d(f){f&&u(e),a[o].d()}}}function Hr(r,e,o){let{dimensionPx:t}=e,{board:n}=e,{highlightCell:l=void 0}=e,{highlightMouse:a=!1}=e,{noLoop:i=!1}=e,{onClick:f=()=>{}}=e,c;const v=_=>{_.setup=()=>{c=_,_.createCanvas(t.width,t.height)},_.draw=()=>{_.background(0),a?mt(_,n,{highlightCell:at(_)}):mt(_,n,{highlightCell:l}),i&&_.noLoop()},i||(_.mousePressed=()=>{_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height||f("manual",at(_))})};return qt(()=>{c==null||c.remove()}),r.$$set=_=>{"dimensionPx"in _&&o(2,t=_.dimensionPx),"board"in _&&o(0,n=_.board),"highlightCell"in _&&o(3,l=_.highlightCell),"highlightMouse"in _&&o(4,a=_.highlightMouse),"noLoop"in _&&o(5,i=_.noLoop),"onClick"in _&&o(6,f=_.onClick)},[n,v,t,l,a,i,f]}class kt extends Me{constructor(e){super(),Te(this,e,Hr,Or,Ie,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,noLoop:5,onClick:6})}}function ut(r){const e=r.slice(),o=e[0];return e[1]=o.moveAsIndex,e[2]=o.player,e[3]=o.board,e}function It(r){let e,o,t,n,l,a,i,f,c,v,_,y=Re(r[3],r[2])?"✅":"❌",N,g,S,b,M,T,D=qe(r[3],r[2],r[1])?"✅":"❌",A,B,C,G,q,Z,X=lt(r[3],r[2],r[1])?"✅":"❌",ie,fe,se,I,x,ae,oe=dt(r[3],r[2],r[1])?"✅":"❌",K,me,Y,R,V,te,Q=st(r[3],r[2],r[1])?"✅":"❌",ve,ge,J,ke,ne,be,re=qe(r[3],r[2],r[1])?"✅":"❌",Pe;function Ee(U,h){return h&1&&(l=null),h&1&&(a=null),l==null&&(l=!!gt(U[1])),l?Gr:(a==null&&(a=!!$t(U[1])),a?Dr:Lr)}let le=Ee(r,-1),O=le(r);return{c(){e=p("div"),o=p("span"),t=k("Position"),n=P(),O.c(),i=P(),f=p("span"),c=k("Player win"),v=P(),_=p("span"),N=k(y),g=P(),S=p("span"),b=k("Move blocks opponent"),M=P(),T=p("span"),A=k(D),B=P(),C=p("span"),G=k("Move creates fork"),q=P(),Z=p("span"),ie=k(X),fe=P(),se=p("span"),I=k("Move blocks opponent's fork"),x=P(),ae=p("span"),K=k(oe),me=P(),Y=p("span"),R=k("Took opposite corner"),V=P(),te=p("span"),ve=k(Q),ge=P(),J=p("span"),ke=k("Last move blocks opponent"),ne=P(),be=p("span"),Pe=k(re),this.h()},l(U){e=d(U,"DIV",{class:!0});var h=m(e);o=d(h,"SPAN",{});var L=m(o);t=E(L,"Position"),L.forEach(u),n=w(h),O.l(h),i=w(h),f=d(h,"SPAN",{});var $=m(f);c=E($,"Player win"),$.forEach(u),v=w(h),_=d(h,"SPAN",{});var ee=m(_);N=E(ee,y),ee.forEach(u),g=w(h),S=d(h,"SPAN",{});var Ae=m(S);b=E(Ae,"Move blocks opponent"),Ae.forEach(u),M=w(h),T=d(h,"SPAN",{});var Oe=m(T);A=E(Oe,D),Oe.forEach(u),B=w(h),C=d(h,"SPAN",{});var He=m(C);G=E(He,"Move creates fork"),He.forEach(u),q=w(h),Z=d(h,"SPAN",{});var Le=m(Z);ie=E(Le,X),Le.forEach(u),fe=w(h),se=d(h,"SPAN",{});var ye=m(se);I=E(ye,"Move blocks opponent's fork"),ye.forEach(u),x=w(h),ae=d(h,"SPAN",{});var De=m(ae);K=E(De,oe),De.forEach(u),me=w(h),Y=d(h,"SPAN",{});var Ce=m(Y);R=E(Ce,"Took opposite corner"),Ce.forEach(u),V=w(h),te=d(h,"SPAN",{});var Be=m(te);ve=E(Be,Q),Be.forEach(u),ge=w(h),J=d(h,"SPAN",{});var Ge=m(J);ke=E(Ge,"Last move blocks opponent"),Ge.forEach(u),ne=w(h),be=d(h,"SPAN",{});var Se=m(be);Pe=E(Se,re),Se.forEach(u),h.forEach(u),this.h()},h(){ce(e,"class","grid2cols svelte-1lw5ne4")},m(U,h){H(U,e,h),s(e,o),s(o,t),s(e,n),O.m(e,null),s(e,i),s(e,f),s(f,c),s(e,v),s(e,_),s(_,N),s(e,g),s(e,S),s(S,b),s(e,M),s(e,T),s(T,A),s(e,B),s(e,C),s(C,G),s(e,q),s(e,Z),s(Z,ie),s(e,fe),s(e,se),s(se,I),s(e,x),s(e,ae),s(ae,K),s(e,me),s(e,Y),s(Y,R),s(e,V),s(e,te),s(te,ve),s(e,ge),s(e,J),s(J,ke),s(e,ne),s(e,be),s(be,Pe)},p(U,h){le!==(le=Ee(U,h))&&(O.d(1),O=le(U),O&&(O.c(),O.m(e,i))),h&1&&y!==(y=Re(U[3],U[2])?"✅":"❌")&&ue(N,y),h&1&&D!==(D=qe(U[3],U[2],U[1])?"✅":"❌")&&ue(A,D),h&1&&X!==(X=lt(U[3],U[2],U[1])?"✅":"❌")&&ue(ie,X),h&1&&oe!==(oe=dt(U[3],U[2],U[1])?"✅":"❌")&&ue(K,oe),h&1&&Q!==(Q=st(U[3],U[2],U[1])?"✅":"❌")&&ue(ve,Q),h&1&&re!==(re=qe(U[3],U[2],U[1])?"✅":"❌")&&ue(Pe,re)},d(U){U&&u(e),O.d()}}}function Lr(r){let e,o;return{c(){e=p("span"),o=k("Edge")},l(t){e=d(t,"SPAN",{});var n=m(e);o=E(n,"Edge"),n.forEach(u)},m(t,n){H(t,e,n),s(e,o)},d(t){t&&u(e)}}}function Dr(r){let e,o;return{c(){e=p("span"),o=k("Corner")},l(t){e=d(t,"SPAN",{});var n=m(e);o=E(n,"Corner"),n.forEach(u)},m(t,n){H(t,e,n),s(e,o)},d(t){t&&u(e)}}}function Gr(r){let e,o;return{c(){e=p("span"),o=k("Center")},l(t){e=d(t,"SPAN",{});var n=m(e);o=E(n,"Center"),n.forEach(u)},m(t,n){H(t,e,n),s(e,o)},d(t){t&&u(e)}}}function Vr(r){let e,o=r[0]&&It(ut(r));return{c(){o&&o.c(),e=Ke()},l(t){o&&o.l(t),e=Ke()},m(t,n){o&&o.m(t,n),H(t,e,n)},p(t,[n]){t[0]?o?o.p(ut(t),n):(o=It(ut(t)),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:Ne,o:Ne,d(t){o&&o.d(t),t&&u(e)}}}function Rr(r,e,o){let{historyItem:t}=e;return r.$$set=n=>{"historyItem"in n&&o(0,t=n.historyItem)},[t]}class Fr extends Me{constructor(e){super(),Te(this,e,Rr,Vr,Ie,{historyItem:0})}}function At(r,e,o){const t=r.slice();return t[2]=e[o],t}function Bt(r){let e,o,t,n,l,a,i,f,c,v,_,y,N,g,S,b=r[0].length===0&&Ot(),M=[...r[0]].reverse(),T=[];for(let A=0;A<M.length;A+=1)T[A]=Ht(At(r,M,A));const D=A=>j(T[A],1,1,()=>{T[A]=null});return{c(){e=p("div"),b&&b.c(),o=P(),t=p("h4"),n=k("Move"),l=P(),a=p("h4"),i=k("Selection"),f=P(),c=p("h4"),v=k("AI"),_=P(),y=p("h4"),N=k("Stats"),g=P();for(let A=0;A<T.length;A+=1)T[A].c();this.h()},l(A){e=d(A,"DIV",{class:!0});var B=m(e);b&&b.l(B),o=w(B),t=d(B,"H4",{});var C=m(t);n=E(C,"Move"),C.forEach(u),l=w(B),a=d(B,"H4",{});var G=m(a);i=E(G,"Selection"),G.forEach(u),f=w(B),c=d(B,"H4",{});var q=m(c);v=E(q,"AI"),q.forEach(u),_=w(B),y=d(B,"H4",{});var Z=m(y);N=E(Z,"Stats"),Z.forEach(u),g=w(B);for(let X=0;X<T.length;X+=1)T[X].l(B);B.forEach(u),this.h()},h(){ce(e,"class","grid4cols svelte-1ofp4bt")},m(A,B){H(A,e,B),b&&b.m(e,null),s(e,o),s(e,t),s(t,n),s(e,l),s(e,a),s(a,i),s(e,f),s(e,c),s(c,v),s(e,_),s(e,y),s(y,N),s(e,g);for(let C=0;C<T.length;C+=1)T[C].m(e,null);S=!0},p(A,B){if(A[0].length===0?b||(b=Ot(),b.c(),b.m(e,o)):b&&(b.d(1),b=null),B&1){M=[...A[0]].reverse();let C;for(C=0;C<M.length;C+=1){const G=At(A,M,C);T[C]?(T[C].p(G,B),F(T[C],1)):(T[C]=Ht(G),T[C].c(),F(T[C],1),T[C].m(e,null))}for(Ye(),C=M.length;C<T.length;C+=1)D(C);Je()}},i(A){if(!S){for(let B=0;B<M.length;B+=1)F(T[B]);S=!0}},o(A){T=T.filter(Boolean);for(let B=0;B<T.length;B+=1)j(T[B]);S=!1},d(A){A&&u(e),b&&b.d(),ze(T,A)}}}function Ot(r){let e,o;return{c(){e=p("p"),o=k("No move yet.")},l(t){e=d(t,"P",{});var n=m(e);o=E(n,"No move yet."),n.forEach(u)},m(t,n){H(t,e,n),s(e,o)},d(t){t&&u(e)}}}function Wr(r){let e;return{c(){e=p("span"),this.h()},l(o){e=d(o,"SPAN",{class:!0}),m(e).forEach(u),this.h()},h(){ce(e,"class","item svelte-1ofp4bt")},m(o,t){H(o,e,t)},p:Ne,d(o){o&&u(e)}}}function Xr(r){let e,o=r[2].aiChoice.score+"",t,n,l=r[2].aiChoice.reason+"",a;return{c(){e=p("span"),t=k(o),n=k(" - "),a=k(l),this.h()},l(i){e=d(i,"SPAN",{class:!0});var f=m(e);t=E(f,o),n=E(f," - "),a=E(f,l),f.forEach(u),this.h()},h(){ce(e,"class","item svelte-1ofp4bt")},m(i,f){H(i,e,f),s(e,t),s(e,n),s(e,a)},p(i,f){f&1&&o!==(o=i[2].aiChoice.score+"")&&ue(t,o),f&1&&l!==(l=i[2].aiChoice.reason+"")&&ue(a,l)},d(i){i&&u(e)}}}function Ht(r){let e,o,t,n,l=r[2].method+"",a,i,f,c,v,_,y;o=new kt({props:{board:r[2].board,dimensionPx:{width:100,height:100},highlightCell:Ct(r[2].moveAsIndex),noLoop:!0}});function N(b,M){return b[2].aiChoice?Xr:Wr}let g=N(r),S=g(r);return v=new Fr({props:{historyItem:r[2]}}),{c(){e=p("div"),he(o.$$.fragment),t=P(),n=p("span"),a=k(l),i=P(),S.c(),f=P(),c=p("div"),he(v.$$.fragment),_=P(),this.h()},l(b){e=d(b,"DIV",{class:!0});var M=m(e);_e(o.$$.fragment,M),M.forEach(u),t=w(b),n=d(b,"SPAN",{class:!0});var T=m(n);a=E(T,l),T.forEach(u),i=w(b),S.l(b),f=w(b),c=d(b,"DIV",{class:!0});var D=m(c);_e(v.$$.fragment,D),_=w(D),D.forEach(u),this.h()},h(){ce(e,"class","item svelte-1ofp4bt"),ce(n,"class","item svelte-1ofp4bt"),ce(c,"class","item svelte-1ofp4bt")},m(b,M){H(b,e,M),pe(o,e,null),H(b,t,M),H(b,n,M),s(n,a),H(b,i,M),S.m(b,M),H(b,f,M),H(b,c,M),pe(v,c,null),s(c,_),y=!0},p(b,M){const T={};M&1&&(T.board=b[2].board),M&1&&(T.highlightCell=Ct(b[2].moveAsIndex)),o.$set(T),(!y||M&1)&&l!==(l=b[2].method+"")&&ue(a,l),g===(g=N(b))&&S?S.p(b,M):(S.d(1),S=g(b),S&&(S.c(),S.m(f.parentNode,f)));const D={};M&1&&(D.historyItem=b[2]),v.$set(D)},i(b){y||(F(o.$$.fragment,b),F(v.$$.fragment,b),y=!0)},o(b){j(o.$$.fragment,b),j(v.$$.fragment,b),y=!1},d(b){b&&u(e),de(o),b&&u(t),b&&u(n),b&&u(i),S.d(b),b&&u(f),b&&u(c),de(v)}}}function Ur(r){let e,o,t=r[1]&&Bt(r);return{c(){e=p("div"),t&&t.c()},l(n){e=d(n,"DIV",{});var l=m(e);t&&t.l(l),l.forEach(u)},m(n,l){H(n,e,l),t&&t.m(e,null),o=!0},p(n,[l]){n[1]?t?(t.p(n,l),l&2&&F(t,1)):(t=Bt(n),t.c(),F(t,1),t.m(e,null)):t&&(Ye(),j(t,1,1,()=>{t=null}),Je())},i(n){o||(F(t),o=!0)},o(n){j(t),o=!1},d(n){n&&u(e),t&&t.d()}}}function zr(r,e,o){let{history:t}=e,{showMoveHistory:n}=e;return r.$$set=l=>{"history"in l&&o(0,t=l.history),"showMoveHistory"in l&&o(1,n=l.showMoveHistory)},[t,n]}class jr extends Me{constructor(e){super(),Te(this,e,zr,Ur,Ie,{history:0,showMoveHistory:1})}}function Yr(r){let e,o;return e=new kt({props:{board:r[0].board,dimensionPx:{width:100,height:100},noLoop:!0}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},p(t,n){const l={};n&1&&(l.board=t[0].board),e.$set(l)},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function Jr(r){let e,o;return e=new jr({props:{history:r[0].moveHistory,showMoveHistory:r[1]}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},p(t,n){const l={};n&1&&(l.history=t[0].moveHistory),n&2&&(l.showMoveHistory=t[1]),e.$set(l)},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function qr(r){let e,o,t,n,l,a=r[2](r[0])+"",i,f,c,v=r[1]?"Hide":"Show",_,y,N,g,S,b,M,T;const D=[Jr,Yr],A=[];function B(C,G){return C[1]?0:1}return g=B(r),S=A[g]=D[g](r),{c(){e=p("div"),o=p("h4"),t=k("Game info"),n=P(),l=p("span"),i=k(a),f=P(),c=p("button"),_=k(v),y=k(" move history"),N=P(),S.c()},l(C){e=d(C,"DIV",{});var G=m(e);o=d(G,"H4",{});var q=m(o);t=E(q,"Game info"),q.forEach(u),n=w(G),l=d(G,"SPAN",{});var Z=m(l);i=E(Z,a),Z.forEach(u),f=w(G),c=d(G,"BUTTON",{});var X=m(c);_=E(X,v),y=E(X," move history"),X.forEach(u),N=w(G),S.l(G),G.forEach(u)},m(C,G){H(C,e,G),s(e,o),s(o,t),s(e,n),s(e,l),s(l,i),s(e,f),s(e,c),s(c,_),s(c,y),s(e,N),A[g].m(e,null),b=!0,M||(T=we(c,"click",r[3]),M=!0)},p(C,[G]){(!b||G&1)&&a!==(a=C[2](C[0])+"")&&ue(i,a),(!b||G&2)&&v!==(v=C[1]?"Hide":"Show")&&ue(_,v);let q=g;g=B(C),g===q?A[g].p(C,G):(Ye(),j(A[q],1,1,()=>{A[q]=null}),Je(),S=A[g],S?S.p(C,G):(S=A[g]=D[g](C),S.c()),F(S,1),S.m(e,null))},i(C){b||(F(S),b=!0)},o(C){j(S),b=!1},d(C){C&&u(e),A[g].d(),M=!1,T()}}}function Kr(r,e,o){let{game:t}=e,n=!1;const l=i=>!i||!i.state?"N/A":i.state==="not_over"?"Turn: "+(i.currentPlayer===W.player?"Player":"Computer"):i.state==="player_win"?"Player Win":i.state==="computer_win"?"Computer Win":i.state==="draw"?"Draw":i.state==="over"?"Game Over":"Invalid Game",a=()=>o(1,n=!n);return r.$$set=i=>{"game"in i&&o(0,t=i.game)},[t,n,l,a]}class nr extends Me{constructor(e){super(),Te(this,e,Kr,qr,Ie,{game:0})}}function Lt(r,e,o){const t=r.slice();return t[13]=e[o],t}function Dt(r){let e,o,t,n;return{c(){e=p("p"),o=k("Restarting in "),t=k(r[1]),n=k(" seconds")},l(l){e=d(l,"P",{});var a=m(e);o=E(a,"Restarting in "),t=E(a,r[1]),n=E(a," seconds"),a.forEach(u)},m(l,a){H(l,e,a),s(e,o),s(e,t),s(e,n)},p(l,a){a&2&&ue(t,l[1])},d(l){l&&u(e)}}}function Gt(r){let e,o=r[13]+"",t,n;return{c(){e=p("option"),t=k(o),n=P(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,o),n=w(a),a.forEach(u),this.h()},h(){e.__value=r[13],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,n)},p:Ne,d(l){l&&u(e)}}}function Vt(r){let e,o,t,n,l,a,i;return o=new kt({props:{board:r[0].board,dimensionPx:{width:400,height:400},onClick:r[3],highlightMouse:!0}}),n=new or({props:{board:r[0].board}}),a=new nr({props:{game:r[0]}}),{c(){e=p("div"),he(o.$$.fragment),t=P(),he(n.$$.fragment),l=P(),he(a.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0});var c=m(e);_e(o.$$.fragment,c),t=w(c),_e(n.$$.fragment,c),c.forEach(u),l=w(f),_e(a.$$.fragment,f),this.h()},h(){ce(e,"class","grid2colsResponsive svelte-1epiyf5")},m(f,c){H(f,e,c),pe(o,e,null),s(e,t),pe(n,e,null),H(f,l,c),pe(a,f,c),i=!0},p(f,c){const v={};c&1&&(v.board=f[0].board),o.$set(v);const _={};c&1&&(_.board=f[0].board),n.$set(_);const y={};c&1&&(y.game=f[0]),a.$set(y)},i(f){i||(F(o.$$.fragment,f),F(n.$$.fragment,f),F(a.$$.fragment,f),i=!0)},o(f){j(o.$$.fragment,f),j(n.$$.fragment,f),j(a.$$.fragment,f),i=!1},d(f){f&&u(e),de(o),de(n),f&&u(l),de(a,f)}}}function Qr(r){let e,o,t,n,l,a,i,f,c,v,_,y,N,g,S,b,M,T,D,A,B,C,G,q,Z,X,ie,fe,se,I,x,ae,oe,K=r[1]>0&&Dt(r),me=Object.keys(Fe),Y=[];for(let V=0;V<me.length;V+=1)Y[V]=Gt(Lt(r,me,V));let R=r[0].board&&Vt(r);return{c(){e=p("div"),K&&K.c(),o=P(),t=p("div"),n=p("div"),l=p("span"),a=k("Player automatic move"),i=P(),f=p("ul"),c=p("li"),v=p("button"),_=k("Random move"),y=P(),N=p("li"),g=p("button"),S=k("Hardcoded rules"),b=P(),M=p("li"),T=p("button"),D=k("Complete hardcoded rules"),A=P(),B=p("li"),C=p("button"),G=k("minmax"),q=P(),Z=p("div"),X=p("label"),ie=k("AI type"),fe=P(),se=p("select");for(let V=0;V<Y.length;V+=1)Y[V].c();I=P(),R&&R.c(),this.h()},l(V){e=d(V,"DIV",{});var te=m(e);K&&K.l(te),o=w(te),t=d(te,"DIV",{class:!0});var Q=m(t);n=d(Q,"DIV",{});var ve=m(n);l=d(ve,"SPAN",{});var ge=m(l);a=E(ge,"Player automatic move"),ge.forEach(u),i=w(ve),f=d(ve,"UL",{});var J=m(f);c=d(J,"LI",{});var ke=m(c);v=d(ke,"BUTTON",{});var ne=m(v);_=E(ne,"Random move"),ne.forEach(u),ke.forEach(u),y=w(J),N=d(J,"LI",{});var be=m(N);g=d(be,"BUTTON",{});var re=m(g);S=E(re,"Hardcoded rules"),re.forEach(u),be.forEach(u),b=w(J),M=d(J,"LI",{});var Pe=m(M);T=d(Pe,"BUTTON",{});var Ee=m(T);D=E(Ee,"Complete hardcoded rules"),Ee.forEach(u),Pe.forEach(u),A=w(J),B=d(J,"LI",{});var le=m(B);C=d(le,"BUTTON",{});var O=m(C);G=E(O,"minmax"),O.forEach(u),le.forEach(u),J.forEach(u),ve.forEach(u),q=w(Q),Z=d(Q,"DIV",{});var U=m(Z);X=d(U,"LABEL",{for:!0});var h=m(X);ie=E(h,"AI type"),h.forEach(u),fe=w(U),se=d(U,"SELECT",{id:!0});var L=m(se);for(let $=0;$<Y.length;$+=1)Y[$].l(L);L.forEach(u),U.forEach(u),Q.forEach(u),I=w(te),R&&R.l(te),te.forEach(u),this.h()},h(){ce(X,"for","aiType"),ce(se,"id","aiType"),r[2]===void 0&&tt(()=>r[8].call(se)),ce(t,"class","grid2colsResponsive svelte-1epiyf5")},m(V,te){H(V,e,te),K&&K.m(e,null),s(e,o),s(e,t),s(t,n),s(n,l),s(l,a),s(n,i),s(n,f),s(f,c),s(c,v),s(v,_),s(f,y),s(f,N),s(N,g),s(g,S),s(f,b),s(f,M),s(M,T),s(T,D),s(f,A),s(f,B),s(B,C),s(C,G),s(t,q),s(t,Z),s(Z,X),s(X,ie),s(Z,fe),s(Z,se);for(let Q=0;Q<Y.length;Q+=1)Y[Q].m(se,null);Ve(se,r[2]),s(e,I),R&&R.m(e,null),x=!0,ae||(oe=[we(v,"click",r[4]),we(g,"click",r[5]),we(T,"click",r[6]),we(C,"click",r[7]),we(se,"change",r[8])],ae=!0)},p(V,[te]){if(V[1]>0?K?K.p(V,te):(K=Dt(V),K.c(),K.m(e,o)):K&&(K.d(1),K=null),te&0){me=Object.keys(Fe);let Q;for(Q=0;Q<me.length;Q+=1){const ve=Lt(V,me,Q);Y[Q]?Y[Q].p(ve,te):(Y[Q]=Gt(ve),Y[Q].c(),Y[Q].m(se,null))}for(;Q<Y.length;Q+=1)Y[Q].d(1);Y.length=me.length}te&4&&Ve(se,V[2]),V[0].board?R?(R.p(V,te),te&1&&F(R,1)):(R=Vt(V),R.c(),F(R,1),R.m(e,null)):R&&(Ye(),j(R,1,1,()=>{R=null}),Je())},i(V){x||(F(R),x=!0)},o(V){j(R),x=!1},d(V){V&&u(e),K&&K.d(),ze(Y,V),R&&R.d(),ae=!1,vt(oe)}}}function Zr(r,e,o){let t,n,l,a="minmax",i=!1;f();function f(){o(0,t=tr(i?W.computer:W.player)),i&&Ze(t,W.computer,a),n=t.currentPlayer,i=!i}const c=(b,M)=>{if(n===W.player){if(b==="manual"){if(!M)return;Nr(t,W.player,ot(M))}else Ze(t,W.player,b);o(0,t),n=t.currentPlayer,setTimeout(()=>{if(Ze(t,W.computer,a),o(0,t),n=t.currentPlayer,t.state!=="not_over"){o(1,l=4);const T=setInterval(()=>{o(1,l--,l),l===0&&(f(),clearInterval(T))},1e3)}},500)}},v=(b,M)=>{c(b,M)},_=()=>v("random"),y=()=>v("hardcodedRules"),N=()=>v("hardcodedRulesComplete"),g=()=>v("minmax");function S(){a=rt(this),o(2,a)}return[t,l,a,v,_,y,N,g,S]}class xr extends Me{constructor(e){super(),Te(this,e,Zr,Qr,Ie,{})}}function Rt(r,e,o){const t=r.slice();return t[12]=e[o],t}function eo(r,e,o){const t=r.slice();return t[15]=e[o],t}function Ft(r,e,o){const t=r.slice();return t[18]=e[o],t}function Wt(r,e,o){const t=r.slice();return t[21]=e[o],t}function Xt(r,e,o){const t=r.slice();return t[21]=e[o],t}function Ut(r){let e,o=r[21]+"",t,n;return{c(){e=p("option"),t=k(o),n=P(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,o),n=w(a),a.forEach(u),this.h()},h(){e.__value=r[21],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,n)},p:Ne,d(l){l&&u(e)}}}function zt(r){let e,o=r[21]+"",t,n;return{c(){e=p("option"),t=k(o),n=P(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,o),n=w(a),a.forEach(u),this.h()},h(){e.__value=r[21],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,n)},p:Ne,d(l){l&&u(e)}}}function to(r){let e,o;return{c(){e=p("span"),o=k("-")},l(t){e=d(t,"SPAN",{});var n=m(e);o=E(n,"-"),n.forEach(u)},m(t,n){H(t,e,n),s(e,o)},p:Ne,d(t){t&&u(e)}}}function ro(r){let e,o=100*r[5][r[18]]/r[5].total+"",t,n;return{c(){e=p("span"),t=k(o),n=k(" %")},l(l){e=d(l,"SPAN",{});var a=m(e);t=E(a,o),n=E(a," %"),a.forEach(u)},m(l,a){H(l,e,a),s(e,t),s(e,n)},p(l,a){a&32&&o!==(o=100*l[5][l[18]]/l[5].total+"")&&ue(t,o)},d(l){l&&u(e)}}}function jt(r){let e,o=r[18]+"",t,n,l,a=r[5][r[18]]+"",i,f,c;function v(N,g){return N[18]!=="total"?ro:to}let _=v(r),y=_(r);return{c(){e=p("span"),t=k(o),n=P(),l=p("span"),i=k(a),f=P(),y.c(),c=Ke()},l(N){e=d(N,"SPAN",{});var g=m(e);t=E(g,o),g.forEach(u),n=w(N),l=d(N,"SPAN",{});var S=m(l);i=E(S,a),S.forEach(u),f=w(N),y.l(N),c=Ke()},m(N,g){H(N,e,g),s(e,t),H(N,n,g),H(N,l,g),s(l,i),H(N,f,g),y.m(N,g),H(N,c,g)},p(N,g){g&32&&o!==(o=N[18]+"")&&ue(t,o),g&32&&a!==(a=N[5][N[18]]+"")&&ue(i,a),_===(_=v(N))&&y?y.p(N,g):(y.d(1),y=_(N),y&&(y.c(),y.m(c.parentNode,c)))},d(N){N&&u(e),N&&u(n),N&&u(l),N&&u(f),y.d(N),N&&u(c)}}}function oo(r){let e,o,t;return{c(){e=p("option"),o=k(r[15]),t=P(),this.h()},l(n){e=d(n,"OPTION",{});var l=m(e);o=E(l,r[15]),t=w(l),l.forEach(u),this.h()},h(){e.__value=r[15],e.value=e.__value},m(n,l){H(n,e,l),s(e,o),s(e,t)},p:Ne,d(n){n&&u(e)}}}function Yt(r){let e,o;return e=new nr({props:{game:r[12]}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},p(t,n){const l={};n&1&&(l.game=t[12]),e.$set(l)},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function Jt(r){let e,o,t=(r[3]==="all"||r[3]===r[12].state)&&Yt(r);return{c(){t&&t.c(),e=Ke()},l(n){t&&t.l(n),e=Ke()},m(n,l){t&&t.m(n,l),H(n,e,l),o=!0},p(n,l){n[3]==="all"||n[3]===n[12].state?t?(t.p(n,l),l&9&&F(t,1)):(t=Yt(n),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(Ye(),j(t,1,1,()=>{t=null}),Je())},i(n){o||(F(t),o=!0)},o(n){j(t),o=!1},d(n){t&&t.d(n),n&&u(e)}}}function no(r){let e,o,t,n,l,a,i,f,c,v,_,y,N,g,S,b,M,T,D,A,B,C,G,q,Z,X,ie,fe,se,I,x,ae,oe,K,me,Y,R,V,te,Q,ve,ge=Object.keys(Fe),J=[];for(let h=0;h<ge.length;h+=1)J[h]=Ut(Xt(r,ge,h));let ke=Object.keys(Fe),ne=[];for(let h=0;h<ke.length;h+=1)ne[h]=zt(Wt(r,ke,h));let be=Object.keys(r[5]).sort(),re=[];for(let h=0;h<be.length;h+=1)re[h]=jt(Ft(r,be,h));let Pe=["none","all","player_win","computer_win","draw","over"],Ee=[];for(let h=0;h<6;h+=1)Ee[h]=oo(eo(r,Pe,h));let le=r[0],O=[];for(let h=0;h<le.length;h+=1)O[h]=Jt(Rt(r,le,h));const U=h=>j(O[h],1,1,()=>{O[h]=null});return{c(){e=p("div"),o=p("h2"),t=k("Generator"),n=P(),l=p("div"),a=p("label"),i=k("Games to generate"),f=P(),c=p("input"),v=P(),_=p("label"),y=k("Player AI type"),N=P(),g=p("select");for(let h=0;h<J.length;h+=1)J[h].c();S=P(),b=p("label"),M=k("Computer AI type"),T=P(),D=p("select");for(let h=0;h<ne.length;h+=1)ne[h].c();A=P(),B=p("button"),C=k("Create games"),G=P(),q=p("div"),Z=p("h3"),X=k("Stats"),ie=P(),fe=p("div");for(let h=0;h<re.length;h+=1)re[h].c();se=P(),I=p("div"),x=p("h3"),ae=k("Games"),oe=P(),K=p("label"),me=k("Filter state"),Y=P(),R=p("select");for(let h=0;h<6;h+=1)Ee[h].c();V=P();for(let h=0;h<O.length;h+=1)O[h].c();this.h()},l(h){e=d(h,"DIV",{});var L=m(e);o=d(L,"H2",{});var $=m(o);t=E($,"Generator"),$.forEach(u),n=w(L),l=d(L,"DIV",{class:!0});var ee=m(l);a=d(ee,"LABEL",{for:!0});var Ae=m(a);i=E(Ae,"Games to generate"),Ae.forEach(u),f=w(ee),c=d(ee,"INPUT",{id:!0,type:!0}),v=w(ee),_=d(ee,"LABEL",{for:!0});var Oe=m(_);y=E(Oe,"Player AI type"),Oe.forEach(u),N=w(ee),g=d(ee,"SELECT",{id:!0});var He=m(g);for(let $e=0;$e<J.length;$e+=1)J[$e].l(He);He.forEach(u),S=w(ee),b=d(ee,"LABEL",{for:!0});var Le=m(b);M=E(Le,"Computer AI type"),Le.forEach(u),T=w(ee),D=d(ee,"SELECT",{id:!0});var ye=m(D);for(let $e=0;$e<ne.length;$e+=1)ne[$e].l(ye);ye.forEach(u),A=w(ee),B=d(ee,"BUTTON",{});var De=m(B);C=E(De,"Create games"),De.forEach(u),ee.forEach(u),G=w(L),q=d(L,"DIV",{});var Ce=m(q);Z=d(Ce,"H3",{});var Be=m(Z);X=E(Be,"Stats"),Be.forEach(u),ie=w(Ce),fe=d(Ce,"DIV",{class:!0});var Ge=m(fe);for(let $e=0;$e<re.length;$e+=1)re[$e].l(Ge);Ge.forEach(u),Ce.forEach(u),se=w(L),I=d(L,"DIV",{});var Se=m(I);x=d(Se,"H3",{});var Qe=m(x);ae=E(Qe,"Games"),Qe.forEach(u),oe=w(Se),K=d(Se,"LABEL",{for:!0});var Et=m(K);me=E(Et,"Filter state"),Et.forEach(u),Y=w(Se),R=d(Se,"SELECT",{id:!0});var yt=m(R);for(let $e=0;$e<6;$e+=1)Ee[$e].l(yt);yt.forEach(u),V=w(Se);for(let $e=0;$e<O.length;$e+=1)O[$e].l(Se);Se.forEach(u),L.forEach(u),this.h()},h(){ce(a,"for","nbGames"),ce(c,"id","nbGames"),ce(c,"type","number"),ce(_,"for","playerAiType"),ce(g,"id","playerAiType"),r[1]===void 0&&tt(()=>r[8].call(g)),ce(b,"for","computerAiType"),ce(D,"id","computerAiType"),r[2]===void 0&&tt(()=>r[9].call(D)),ce(l,"class","grid2cols svelte-1g8tfkd"),ce(fe,"class","grid3cols svelte-1g8tfkd"),ce(K,"for","stateFilter"),ce(R,"id","stateFilter"),r[3]===void 0&&tt(()=>r[10].call(R))},m(h,L){H(h,e,L),s(e,o),s(o,t),s(e,n),s(e,l),s(l,a),s(a,i),s(l,f),s(l,c),Pt(c,r[4]),s(l,v),s(l,_),s(_,y),s(l,N),s(l,g);for(let $=0;$<J.length;$+=1)J[$].m(g,null);Ve(g,r[1]),s(l,S),s(l,b),s(b,M),s(l,T),s(l,D);for(let $=0;$<ne.length;$+=1)ne[$].m(D,null);Ve(D,r[2]),s(l,A),s(l,B),s(B,C),s(e,G),s(e,q),s(q,Z),s(Z,X),s(q,ie),s(q,fe);for(let $=0;$<re.length;$+=1)re[$].m(fe,null);s(e,se),s(e,I),s(I,x),s(x,ae),s(I,oe),s(I,K),s(K,me),s(I,Y),s(I,R);for(let $=0;$<6;$+=1)Ee[$].m(R,null);Ve(R,r[3]),s(I,V);for(let $=0;$<O.length;$+=1)O[$].m(I,null);te=!0,Q||(ve=[we(c,"input",r[7]),we(g,"change",r[8]),we(D,"change",r[9]),we(B,"click",r[6]),we(R,"change",r[10])],Q=!0)},p(h,[L]){if(L&16&&Kt(c.value)!==h[4]&&Pt(c,h[4]),L&0){ge=Object.keys(Fe);let $;for($=0;$<ge.length;$+=1){const ee=Xt(h,ge,$);J[$]?J[$].p(ee,L):(J[$]=Ut(ee),J[$].c(),J[$].m(g,null))}for(;$<J.length;$+=1)J[$].d(1);J.length=ge.length}if(L&2&&Ve(g,h[1]),L&0){ke=Object.keys(Fe);let $;for($=0;$<ke.length;$+=1){const ee=Wt(h,ke,$);ne[$]?ne[$].p(ee,L):(ne[$]=zt(ee),ne[$].c(),ne[$].m(D,null))}for(;$<ne.length;$+=1)ne[$].d(1);ne.length=ke.length}if(L&4&&Ve(D,h[2]),L&32){be=Object.keys(h[5]).sort();let $;for($=0;$<be.length;$+=1){const ee=Ft(h,be,$);re[$]?re[$].p(ee,L):(re[$]=jt(ee),re[$].c(),re[$].m(fe,null))}for(;$<re.length;$+=1)re[$].d(1);re.length=be.length}if(L&8&&Ve(R,h[3]),L&9){le=h[0];let $;for($=0;$<le.length;$+=1){const ee=Rt(h,le,$);O[$]?(O[$].p(ee,L),F(O[$],1)):(O[$]=Jt(ee),O[$].c(),F(O[$],1),O[$].m(I,null))}for(Ye(),$=le.length;$<O.length;$+=1)U($);Je()}},i(h){if(!te){for(let L=0;L<le.length;L+=1)F(O[L]);te=!0}},o(h){O=O.filter(Boolean);for(let L=0;L<O.length;L+=1)j(O[L]);te=!1},d(h){h&&u(e),ze(J,h),ze(ne,h),ze(re,h),ze(Ee,h),ze(O,h),Q=!1,vt(ve)}}}function lo(r,e,o){let t=[],n="random",l="hardcodedRulesComplete",a="none",i=10;const f=()=>{const S=tr();for(;S.state==="not_over";)Ze(S,W.player,n),Ze(S,W.computer,l);return S};let c={total:0};const v=()=>{o(0,t=[]),o(5,c={total:0}),ir(i,(S,b)=>{setTimeout(()=>{const M=f();return o(0,t=[M,...t]),c[M.state]||o(5,c[M.state]=0,c),o(5,c[M.state]+=1,c),o(5,c.total+=1,c),b()},0)})};function _(){i=Kt(this.value),o(4,i)}function y(){n=rt(this),o(1,n)}function N(){l=rt(this),o(2,l)}function g(){a=rt(this),o(3,a)}return[t,n,l,a,i,c,v,_,y,N,g]}class so extends Me{constructor(e){super(),Te(this,e,lo,no,Ie,{})}}function ao(r){let e,o,t,n,l,a,i,f,c,v,_,y,N,g,S,b,M,T,D,A,B,C,G,q,Z,X,ie,fe,se;return l=new Zt({props:{sketch:r[5]}}),X=new or({props:{board:r[1]}}),{c(){e=p("h2"),o=k("Analyzer"),t=P(),n=p("div"),he(l.$$.fragment),a=P(),i=p("div"),f=p("h4"),c=k("Controls"),v=P(),_=p("button"),y=k("Play O"),g=P(),S=p("button"),b=k("Play X"),T=P(),D=p("button"),A=k("Previous"),C=P(),G=p("button"),q=k("Reset"),Z=P(),he(X.$$.fragment),this.h()},l(I){e=d(I,"H2",{});var x=m(e);o=E(x,"Analyzer"),x.forEach(u),t=w(I),n=d(I,"DIV",{});var ae=m(n);_e(l.$$.fragment,ae),a=w(ae),i=d(ae,"DIV",{});var oe=m(i);f=d(oe,"H4",{});var K=m(f);c=E(K,"Controls"),K.forEach(u),v=w(oe),_=d(oe,"BUTTON",{});var me=m(_);y=E(me,"Play O"),me.forEach(u),g=w(oe),S=d(oe,"BUTTON",{});var Y=m(S);b=E(Y,"Play X"),Y.forEach(u),T=w(oe),D=d(oe,"BUTTON",{});var R=m(D);A=E(R,"Previous"),R.forEach(u),C=w(oe),G=d(oe,"BUTTON",{});var V=m(G);q=E(V,"Reset"),V.forEach(u),oe.forEach(u),Z=w(ae),_e(X.$$.fragment,ae),ae.forEach(u),this.h()},h(){_.disabled=N=r[2]===W.player,S.disabled=M=r[2]===W.computer,D.disabled=B=(r[0]||[]).length<2},m(I,x){H(I,e,x),s(e,o),H(I,t,x),H(I,n,x),pe(l,n,null),s(n,a),s(n,i),s(i,f),s(f,c),s(i,v),s(i,_),s(_,y),s(i,g),s(i,S),s(S,b),s(i,T),s(i,D),s(D,A),s(i,C),s(i,G),s(G,q),s(n,Z),pe(X,n,null),ie=!0,fe||(se=[we(_,"click",r[6]),we(S,"click",r[7]),we(D,"click",r[4]),we(G,"click",r[3])],fe=!0)},p(I,[x]){(!ie||x&4&&N!==(N=I[2]===W.player))&&(_.disabled=N),(!ie||x&4&&M!==(M=I[2]===W.computer))&&(S.disabled=M),(!ie||x&1&&B!==(B=(I[0]||[]).length<2))&&(D.disabled=B);const ae={};x&2&&(ae.board=I[1]),X.$set(ae)},i(I){ie||(F(l.$$.fragment,I),F(X.$$.fragment,I),ie=!0)},o(I){j(l.$$.fragment,I),j(X.$$.fragment,I),ie=!1},d(I){I&&u(e),I&&u(t),I&&u(n),de(l),de(X),fe=!1,vt(se)}}}function io(r,e,o){let t,n,l,a=W.player;function i(g,S){je(l,g,ot(S)),o(1,l),n.push({...l}),o(0,n),f()}function f(){o(2,a=a===W.player?W.computer:W.player)}function c(){o(1,l=xt()),o(0,n=[{...l}])}function v(){n.length<=1||(n.pop(),o(0,n),o(1,l={...n[n.length-1]}))}const _=g=>{g.setup=()=>{t=g,g.createCanvas(400,400),c()},g.draw=()=>{g.background(0),mt(g,l,{drawSelection:!0,selection:at(g),currentPlayer:a})},g.mousePressed=()=>{if(g.mouseX<0||g.mouseX>g.width||g.mouseY<0||g.mouseY>g.height)return;const S=at(g);i(a,S)}};return qt(()=>{t==null||t.remove()}),[n,l,a,c,v,_,()=>o(2,a=W.player),()=>o(2,a=W.computer)]}class co extends Me{constructor(e){super(),Te(this,e,io,ao,Ie,{})}}function fo(r){let e;return{c(){e=k("Tic Tac Toe")},l(o){e=E(o,"Tic Tac Toe")},m(o,t){H(o,e,t)},d(o){o&&u(e)}}}function uo(r){let e;return{c(){e=k("Generator")},l(o){e=E(o,"Generator")},m(o,t){H(o,e,t)},d(o){o&&u(e)}}}function ho(r){let e;return{c(){e=k("Analyzer")},l(o){e=E(o,"Analyzer")},m(o,t){H(o,e,t)},d(o){o&&u(e)}}}function _o(r){let e,o,t,n,l,a;return e=new ft({props:{$$slots:{default:[fo]},$$scope:{ctx:r}}}),t=new ft({props:{$$slots:{default:[uo]},$$scope:{ctx:r}}}),l=new ft({props:{$$slots:{default:[ho]},$$scope:{ctx:r}}}),{c(){he(e.$$.fragment),o=P(),he(t.$$.fragment),n=P(),he(l.$$.fragment)},l(i){_e(e.$$.fragment,i),o=w(i),_e(t.$$.fragment,i),n=w(i),_e(l.$$.fragment,i)},m(i,f){pe(e,i,f),H(i,o,f),pe(t,i,f),H(i,n,f),pe(l,i,f),a=!0},p(i,f){const c={};f&1&&(c.$$scope={dirty:f,ctx:i}),e.$set(c);const v={};f&1&&(v.$$scope={dirty:f,ctx:i}),t.$set(v);const _={};f&1&&(_.$$scope={dirty:f,ctx:i}),l.$set(_)},i(i){a||(F(e.$$.fragment,i),F(t.$$.fragment,i),F(l.$$.fragment,i),a=!0)},o(i){j(e.$$.fragment,i),j(t.$$.fragment,i),j(l.$$.fragment,i),a=!1},d(i){de(e,i),i&&u(o),de(t,i),i&&u(n),de(l,i)}}}function po(r){let e,o;return e=new xr({}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function mo(r){let e,o;return e=new so({}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function vo(r){let e,o;return e=new co({}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}function go(r){let e,o,t,n,l,a,i,f;return e=new sr({props:{$$slots:{default:[_o]},$$scope:{ctx:r}}}),t=new ct({props:{$$slots:{default:[po]},$$scope:{ctx:r}}}),l=new ct({props:{$$slots:{default:[mo]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[vo]},$$scope:{ctx:r}}}),{c(){he(e.$$.fragment),o=P(),he(t.$$.fragment),n=P(),he(l.$$.fragment),a=P(),he(i.$$.fragment)},l(c){_e(e.$$.fragment,c),o=w(c),_e(t.$$.fragment,c),n=w(c),_e(l.$$.fragment,c),a=w(c),_e(i.$$.fragment,c)},m(c,v){pe(e,c,v),H(c,o,v),pe(t,c,v),H(c,n,v),pe(l,c,v),H(c,a,v),pe(i,c,v),f=!0},p(c,v){const _={};v&1&&(_.$$scope={dirty:v,ctx:c}),e.$set(_);const y={};v&1&&(y.$$scope={dirty:v,ctx:c}),t.$set(y);const N={};v&1&&(N.$$scope={dirty:v,ctx:c}),l.$set(N);const g={};v&1&&(g.$$scope={dirty:v,ctx:c}),i.$set(g)},i(c){f||(F(e.$$.fragment,c),F(t.$$.fragment,c),F(l.$$.fragment,c),F(i.$$.fragment,c),f=!0)},o(c){j(e.$$.fragment,c),j(t.$$.fragment,c),j(l.$$.fragment,c),j(i.$$.fragment,c),f=!1},d(c){de(e,c),c&&u(o),de(t,c),c&&u(n),de(l,c),c&&u(a),de(i,c)}}}function bo(r){let e,o;return e=new lr({props:{$$slots:{default:[go]},$$scope:{ctx:r}}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},p(t,[n]){const l={};n&1&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}class $o extends Me{constructor(e){super(),Te(this,e,null,bo,Ie,{})}}function ko(r){let e,o;return e=new $o({}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){pe(e,t,n),o=!0},p:Ne,i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){de(e,t)}}}class So extends Me{constructor(e){super(),Te(this,e,null,ko,Ie,{})}}export{So as default};
