import{S as Y,i as z,s as F,C as ee,k as w,l as T,m as k,h as _,n as S,b as E,N as j,E as te,F as ne,G as le,f as I,t as A,H as J,a0 as Xe,o as Ae,j as Ue,W as ue,I as be,a1 as Be,A as Ge,$ as He,g as Le,d as Ye,q as C,a as D,w as R,r as N,c as M,x as V,D as g,y as X,z as U,u as Ce,P as ze,B as Fe}from"../../../chunks/index-1d785069.js";import{w as K}from"../../../chunks/index-c5a64178.js";import{P as Ne}from"../../../chunks/P5-76a6b36f.js";let We=1;function De(){return`svelte-tabs-${We++}`}function qe(n){let e,l,t,s;const r=n[4].default,o=ee(r,n,n[3],null);return{c(){e=w("div"),o&&o.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var i=k(e);o&&o.l(i),i.forEach(_),this.h()},h(){S(e,"class","svelte-tabs")},m(a,i){E(a,e,i),o&&o.m(e,null),l=!0,t||(s=j(e,"keydown",n[1]),t=!0)},p(a,[i]){o&&o.p&&(!l||i&8)&&te(o,r,a,a[3],l?le(r,a[3],i,null):ne(a[3]),null)},i(a){l||(I(o,a),l=!0)},o(a){A(o,a),l=!1},d(a){a&&_(e),o&&o.d(a),t=!1,s()}}}const fe={};function je(n,e,l){const t=n.indexOf(e);n.splice(t,1),l.update(s=>s===e?n[t]||n[n.length-1]:s)}function Je(n,e,l){let t,{$$slots:s={},$$scope:r}=e,{initialSelectedIndex:o=0}=e;const a=[],i=[],d=[],h=K({}),$=K({}),p=K(null);J(n,p,c=>l(5,t=c));const v=K(null);function f(c,b,B){c.push(b),B.update(G=>G||b),ue(()=>je(c,b,B))}function u(c){const b=i.indexOf(c);p.set(c),v.set(d[b])}Xe(fe,{registerTab(c){f(i,c,p)},registerTabElement(c){a.push(c)},registerPanel(c){f(d,c,v)},selectTab:u,selectedTab:p,selectedPanel:v,controls:h,labeledBy:$}),Ae(()=>{u(i[o])}),Ue(()=>{for(let c=0;c<i.length;c++)h.update(b=>({...b,[i[c].id]:d[c].id})),$.update(b=>({...b,[d[c].id]:i[c].id}))});async function m(c){if(c.target.classList.contains("svelte-tabs__tab")){let b=i.indexOf(t);switch(c.key){case"ArrowRight":b+=1,b>i.length-1&&(b=0),u(i[b]),a[b].focus();break;case"ArrowLeft":b-=1,b<0&&(b=i.length-1),u(i[b]),a[b].focus()}}}return n.$$set=c=>{"initialSelectedIndex"in c&&l(2,o=c.initialSelectedIndex),"$$scope"in c&&l(3,r=c.$$scope)},[p,m,o,r,s]}class Ke extends Y{constructor(e){super(),z(this,e,Je,qe,F,{initialSelectedIndex:2})}}function Qe(n){let e,l,t,s,r,o;const a=n[9].default,i=ee(a,n,n[8],null);return{c(){e=w("li"),i&&i.c(),this.h()},l(d){e=T(d,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var h=k(e);i&&i.l(h),h.forEach(_),this.h()},h(){S(e,"role","tab"),S(e,"id",n[3].id),S(e,"aria-controls",l=n[2][n[3].id]),S(e,"aria-selected",n[1]),S(e,"tabindex",t=n[1]?0:-1),S(e,"class","svelte-tabs__tab svelte-1fbofsd"),be(e,"svelte-tabs__selected",n[1])},m(d,h){E(d,e,h),i&&i.m(e,null),n[10](e),s=!0,r||(o=j(e,"click",n[11]),r=!0)},p(d,[h]){i&&i.p&&(!s||h&256)&&te(i,a,d,d[8],s?le(a,d[8],h,null):ne(d[8]),null),(!s||h&4&&l!==(l=d[2][d[3].id]))&&S(e,"aria-controls",l),(!s||h&2)&&S(e,"aria-selected",d[1]),(!s||h&2&&t!==(t=d[1]?0:-1))&&S(e,"tabindex",t),(!s||h&2)&&be(e,"svelte-tabs__selected",d[1])},i(d){s||(I(i,d),s=!0)},o(d){A(i,d),s=!1},d(d){d&&_(e),i&&i.d(d),n[10](null),r=!1,o()}}}function Ze(n,e,l){let t,s,{$$slots:r={},$$scope:o}=e,a;const i={id:De()},{registerTab:d,registerTabElement:h,selectTab:$,selectedTab:p,controls:v}=Be(fe);J(n,p,c=>l(7,t=c)),J(n,v,c=>l(2,s=c));let f;d(i),Ae(async()=>{await Ge(),h(a)});function u(c){He[c?"unshift":"push"](()=>{a=c,l(0,a)})}const m=()=>$(i);return n.$$set=c=>{"$$scope"in c&&l(8,o=c.$$scope)},n.$$.update=()=>{n.$$.dirty&128&&l(1,f=t===i)},[a,f,s,i,$,p,v,t,o,r,u,m]}class ge extends Y{constructor(e){super(),z(this,e,Ze,Qe,F,{})}}function xe(n){let e,l;const t=n[1].default,s=ee(t,n,n[0],null);return{c(){e=w("ul"),s&&s.c(),this.h()},l(r){e=T(r,"UL",{role:!0,class:!0});var o=k(e);s&&s.l(o),o.forEach(_),this.h()},h(){S(e,"role","tablist"),S(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,o){E(r,e,o),s&&s.m(e,null),l=!0},p(r,[o]){s&&s.p&&(!l||o&1)&&te(s,t,r,r[0],l?le(t,r[0],o,null):ne(r[0]),null)},i(r){l||(I(s,r),l=!0)},o(r){A(s,r),l=!1},d(r){r&&_(e),s&&s.d(r)}}}function et(n,e,l){let{$$slots:t={},$$scope:s}=e;return n.$$set=r=>{"$$scope"in r&&l(0,s=r.$$scope)},[s,t]}class tt extends Y{constructor(e){super(),z(this,e,et,xe,F,{})}}function ve(n){let e;const l=n[6].default,t=ee(l,n,n[5],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,r){t&&t.p&&(!e||r&32)&&te(t,l,s,s[5],e?le(l,s[5],r,null):ne(s[5]),null)},i(s){e||(I(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function nt(n){let e,l,t,s=n[1]===n[2]&&ve(n);return{c(){e=w("div"),s&&s.c(),this.h()},l(r){e=T(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var o=k(e);s&&s.l(o),o.forEach(_),this.h()},h(){S(e,"id",n[2].id),S(e,"aria-labelledby",l=n[0][n[2].id]),S(e,"class","svelte-tabs__tab-panel svelte-epfyet"),S(e,"role","tabpanel")},m(r,o){E(r,e,o),s&&s.m(e,null),t=!0},p(r,[o]){r[1]===r[2]?s?(s.p(r,o),o&2&&I(s,1)):(s=ve(r),s.c(),I(s,1),s.m(e,null)):s&&(Le(),A(s,1,1,()=>{s=null}),Ye()),(!t||o&1&&l!==(l=r[0][r[2].id]))&&S(e,"aria-labelledby",l)},i(r){t||(I(s),t=!0)},o(r){A(s),t=!1},d(r){r&&_(e),s&&s.d()}}}function lt(n,e,l){let t,s,{$$slots:r={},$$scope:o}=e;const a={id:De()},{registerPanel:i,selectedPanel:d,labeledBy:h}=Be(fe);return J(n,d,$=>l(1,s=$)),J(n,h,$=>l(0,t=$)),i(a),n.$$set=$=>{"$$scope"in $&&l(5,o=$.$$scope)},[t,s,a,d,h,o,r]}class ye extends Y{constructor(e){super(),z(this,e,lt,nt,F,{})}}function Me(n){const{x:e,y:l}=n;if(e<0||e>2||l<0||l>2)throw new Error(`Invalid coords (${e},${l})`);return 8-(3*l+e)}function st(n){if(n<0||n>8)throw new Error("Invalid index ${i}");return{x:2-n%3,y:2-Math.floor(n/3)}}const rt=[448,56,7,292,146,73,273,84],at=(n,e)=>(n&e)===e;function we(n){let e=n,l=0;for(;e;)l+=e&1,e>>=1;return l}function x(n,e){const l=Me(e);return!(n&1<<l)}function Te(n,e){const l=Me(e);return n+2**l}const ke=n=>{for(const e of rt)if(at(n,e))return!0;return!1};var P=(n=>(n[n.player=1]="player",n[n.computer=2]="computer",n))(P||{});function Oe(){return{player:0,computer:0}}function Q(n,e){if(!e&&!ot(n))return"invalid_board";const l=ke(n.player),t=ke(n.computer);return l&&t?"draw":l?"player_win":t?"computer_win":ut(n)?"not_over":"over"}function ie(n,e,l){if(!it(n,l))throw new Error(`Impossible move. player: ${n==null?void 0:n.player}, computer: ${n==null?void 0:n.computer}, ${JSON.stringify(l)} `);e===P.player?n.player=Te(n.player,l):n.computer=Te(n.computer,l)}function ot(n){if(n.player&n.computer)return!1;const e=we(n.player),l=we(n.computer);return!(Math.abs(e-l)>1)}function it(n,e){return x(n.player,e)&&x(n.computer,e)}function ut(n){return(n.player|n.computer)!==511}function ft(n){let e=n.player|n.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const l=[];let t=0;for(;t<9;)e&1||l.push(t),t++,e>>=1;return l}function Re(n,e){const l=n.width/3,t=n.height/3,{height:s,width:r}=n;n.noFill(),n.stroke(255),n.line(l,0,l,s),n.line(l*2,0,l*2,s),n.line(0,t,r,t),n.line(0,t*2,r,t*2);for(let o=0;o<3;o++)for(let a=0;a<3;a++)x(e.player,{x:a,y:o})||(n.stroke("blue"),n.circle(a*l+l/2,o*t+t/2,t/2)),x(e.computer,{x:a,y:o})||(n.stroke("red"),n.line(a*l+l*.3,o*t+t*.3,a*l+l*.7,o*t+t*.7),n.line(a*l+l*.7,o*t+t*.3,a*l+l*.3,o*t+t*.7))}function Ve(n){const{mouseX:e,mouseY:l,width:t,height:s}=n,r=Math.floor(n.map(e,0,t,0,3)),o=Math.floor(n.map(l,0,s,0,3));return{x:r,y:o}}function ct(n){const e=ft(n);if(e.length===0)throw new Error("No available moves");const l=Math.floor(Math.random()*e.length),t=e[l];return st(t)}function Pe(n){let e,l;return{c(){e=w("span"),l=C("Player wins!")},l(t){e=T(t,"SPAN",{});var s=k(e);l=N(s,"Player wins!"),s.forEach(_)},m(t,s){E(t,e,s),g(e,l)},d(t){t&&_(e)}}}function Ee(n){let e,l;return{c(){e=w("span"),l=C("Computer wins!")},l(t){e=T(t,"SPAN",{});var s=k(e);l=N(s,"Computer wins!"),s.forEach(_)},m(t,s){E(t,e,s),g(e,l)},d(t){t&&_(e)}}}function Ie(n){let e,l;return{c(){e=w("span"),l=C("Draw")},l(t){e=T(t,"SPAN",{});var s=k(e);l=N(s,"Draw"),s.forEach(_)},m(t,s){E(t,e,s),g(e,l)},d(t){t&&_(e)}}}function Se(n){let e,l,t,s;return{c(){e=w("span"),l=C("Restarting in "),t=C(n[0]),s=C(" seconds")},l(r){e=T(r,"SPAN",{});var o=k(e);l=N(o,"Restarting in "),t=N(o,n[0]),s=N(o," seconds"),o.forEach(_)},m(r,o){E(r,e,o),g(e,l),g(e,t),g(e,s)},p(r,o){o&1&&Ce(t,r[0])},d(r){r&&_(e)}}}function dt(n){let e,l,t,s,r,o,a,i,d,h,$;r=new Ne({props:{sketch:n[3]}});let p=n[1]==="player_win"&&Pe(),v=n[1]==="computer_win"&&Ee(),f=n[1]==="draw"&&Ie(),u=n[0]>0&&Se(n);return{c(){e=w("h2"),l=C("Tic Tac Toe binary"),t=D(),s=w("div"),R(r.$$.fragment),o=D(),a=w("div"),p&&p.c(),i=D(),v&&v.c(),d=D(),f&&f.c(),h=D(),u&&u.c()},l(m){e=T(m,"H2",{});var c=k(e);l=N(c,"Tic Tac Toe binary"),c.forEach(_),t=M(m),s=T(m,"DIV",{});var b=k(s);V(r.$$.fragment,b),o=M(b),a=T(b,"DIV",{});var B=k(a);p&&p.l(B),i=M(B),v&&v.l(B),d=M(B),f&&f.l(B),h=M(B),u&&u.l(B),B.forEach(_),b.forEach(_)},m(m,c){E(m,e,c),g(e,l),E(m,t,c),E(m,s,c),X(r,s,null),g(s,o),g(s,a),p&&p.m(a,null),g(a,i),v&&v.m(a,null),g(a,d),f&&f.m(a,null),g(a,h),u&&u.m(a,null),$=!0},p(m,[c]){m[1]==="player_win"?p||(p=Pe(),p.c(),p.m(a,i)):p&&(p.d(1),p=null),m[1]==="computer_win"?v||(v=Ee(),v.c(),v.m(a,d)):v&&(v.d(1),v=null),m[1]==="draw"?f||(f=Ie(),f.c(),f.m(a,h)):f&&(f.d(1),f=null),m[0]>0?u?u.p(m,c):(u=Se(m),u.c(),u.m(a,null)):u&&(u.d(1),u=null)},i(m){$||(I(r.$$.fragment,m),$=!0)},o(m){A(r.$$.fragment,m),$=!1},d(m){m&&_(e),m&&_(t),m&&_(s),U(r),p&&p.d(),v&&v.d(),f&&f.d(),u&&u.d()}}}function mt(n,e,l){let t,s,r,o;const a=K();J(n,a,f=>l(1,t=f));let i=0;function d(f,u){t==="not_over"&&(ie(r,f,u),a.set(Q(r)),$())}function h(f){t==="not_over"&&setTimeout(()=>{const u=ct(r);ie(r,f,u),a.set(Q(r)),$()},500)}function $(){o=o===P.player?P.computer:P.player}function p(){r=Oe(),o=P.player,a.set(Q(r))}const v=f=>{f.setup=()=>{s=f,f.createCanvas(400,400),p()},f.draw=()=>{f.background(0),Re(f,r)},f.mousePressed=()=>{if(!(f.mouseX<0||f.mouseX>f.width||f.mouseY<0||f.mouseY>f.height)&&o===P.player){const u=Ve(f);d(P.player,u),h(P.computer)}}};return a.subscribe(f=>{if(!f||f==="not_over")return;l(0,i=4);const u=setInterval(()=>{l(0,i--,i),i===0&&(p(),clearInterval(u))},1e3)}),ue(()=>{s==null||s.remove()}),[i,t,a,v]}class _t extends Y{constructor(e){super(),z(this,e,mt,dt,F,{})}}function pt(n){let e,l,t,s,r,o,a,i,d,h,$,p,v,f,u,m,c,b,B,G,se,Z,re,W,ae,H,oe,ce;return r=new Ne({props:{sketch:n[5]}}),{c(){e=w("h2"),l=C("Tic Tac Toe binary"),t=D(),s=w("div"),R(r.$$.fragment),o=D(),a=w("div"),i=w("span"),d=C(n[2]),h=D(),$=w("div"),p=w("button"),v=C("Play O"),u=D(),m=w("button"),c=C("Play X"),B=D(),G=w("button"),se=C("Previous"),re=D(),W=w("button"),ae=C("Reset"),this.h()},l(y){e=T(y,"H2",{});var O=k(e);l=N(O,"Tic Tac Toe binary"),O.forEach(_),t=M(y),s=T(y,"DIV",{});var q=k(s);V(r.$$.fragment,q),o=M(q),a=T(q,"DIV",{});var de=k(a);i=T(de,"SPAN",{});var me=k(i);d=N(me,n[2]),me.forEach(_),de.forEach(_),h=M(q),$=T(q,"DIV",{});var L=k($);p=T(L,"BUTTON",{});var _e=k(p);v=N(_e,"Play O"),_e.forEach(_),u=M(L),m=T(L,"BUTTON",{});var pe=k(m);c=N(pe,"Play X"),pe.forEach(_),B=M(L),G=T(L,"BUTTON",{});var $e=k(G);se=N($e,"Previous"),$e.forEach(_),re=M(L),W=T(L,"BUTTON",{});var he=k(W);ae=N(he,"Reset"),he.forEach(_),L.forEach(_),q.forEach(_),this.h()},h(){p.disabled=f=n[1]===P.player,m.disabled=b=n[1]===P.computer,G.disabled=Z=(n[0]||[]).length<2},m(y,O){E(y,e,O),g(e,l),E(y,t,O),E(y,s,O),X(r,s,null),g(s,o),g(s,a),g(a,i),g(i,d),g(s,h),g(s,$),g($,p),g(p,v),g($,u),g($,m),g(m,c),g($,B),g($,G),g(G,se),g($,re),g($,W),g(W,ae),H=!0,oe||(ce=[j(p,"click",n[6]),j(m,"click",n[7]),j(G,"click",n[4]),j(W,"click",n[3])],oe=!0)},p(y,[O]){(!H||O&4)&&Ce(d,y[2]),(!H||O&2&&f!==(f=y[1]===P.player))&&(p.disabled=f),(!H||O&2&&b!==(b=y[1]===P.computer))&&(m.disabled=b),(!H||O&1&&Z!==(Z=(y[0]||[]).length<2))&&(G.disabled=Z)},i(y){H||(I(r.$$.fragment,y),H=!0)},o(y){A(r.$$.fragment,y),H=!1},d(y){y&&_(e),y&&_(t),y&&_(s),U(r),oe=!1,ze(ce)}}}function $t(n,e,l){let t,s,r,o=P.player,a;function i(u,m){ie(r,u,m),s.push({...r}),l(0,s),l(2,a=Q(r)),d()}function d(){l(1,o=o===P.player?P.computer:P.player)}function h(){r=Oe(),l(2,a=Q(r)),l(0,s=[{...r}])}function $(){s.length<=1||(s.pop(),l(0,s),r={...s[s.length-1]})}const p=u=>{u.setup=()=>{t=u,u.createCanvas(400,400),h()},u.draw=()=>{u.background(0),Re(u,r)},u.mousePressed=()=>{if(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)return;const m=Ve(u);i(o,m)}};return ue(()=>{t==null||t.remove()}),[s,o,a,h,$,p,()=>l(1,o=P.player),()=>l(1,o=P.computer)]}class ht extends Y{constructor(e){super(),z(this,e,$t,pt,F,{})}}function bt(n){let e;return{c(){e=C("Game")},l(l){e=N(l,"Game")},m(l,t){E(l,e,t)},d(l){l&&_(e)}}}function gt(n){let e;return{c(){e=C("Analyzer")},l(l){e=N(l,"Analyzer")},m(l,t){E(l,e,t)},d(l){l&&_(e)}}}function vt(n){let e,l,t,s;return e=new ge({props:{$$slots:{default:[bt]},$$scope:{ctx:n}}}),t=new ge({props:{$$slots:{default:[gt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment),l=D(),R(t.$$.fragment)},l(r){V(e.$$.fragment,r),l=M(r),V(t.$$.fragment,r)},m(r,o){X(e,r,o),E(r,l,o),X(t,r,o),s=!0},p(r,o){const a={};o&1&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const i={};o&1&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){s||(I(e.$$.fragment,r),I(t.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),A(t.$$.fragment,r),s=!1},d(r){U(e,r),r&&_(l),U(t,r)}}}function yt(n){let e,l;return e=new _t({}),{c(){R(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,s){X(e,t,s),l=!0},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function wt(n){let e,l;return e=new ht({}),{c(){R(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,s){X(e,t,s),l=!0},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Tt(n){let e,l,t,s,r,o;return e=new tt({props:{$$slots:{default:[vt]},$$scope:{ctx:n}}}),t=new ye({props:{$$slots:{default:[yt]},$$scope:{ctx:n}}}),r=new ye({props:{$$slots:{default:[wt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment),l=D(),R(t.$$.fragment),s=D(),R(r.$$.fragment)},l(a){V(e.$$.fragment,a),l=M(a),V(t.$$.fragment,a),s=M(a),V(r.$$.fragment,a)},m(a,i){X(e,a,i),E(a,l,i),X(t,a,i),E(a,s,i),X(r,a,i),o=!0},p(a,i){const d={};i&1&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const h={};i&1&&(h.$$scope={dirty:i,ctx:a}),t.$set(h);const $={};i&1&&($.$$scope={dirty:i,ctx:a}),r.$set($)},i(a){o||(I(e.$$.fragment,a),I(t.$$.fragment,a),I(r.$$.fragment,a),o=!0)},o(a){A(e.$$.fragment,a),A(t.$$.fragment,a),A(r.$$.fragment,a),o=!1},d(a){U(e,a),a&&_(l),U(t,a),a&&_(s),U(r,a)}}}function kt(n){let e,l;return e=new Ke({props:{$$slots:{default:[Tt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,s){X(e,t,s),l=!0},p(t,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}class Pt extends Y{constructor(e){super(),z(this,e,null,kt,F,{})}}function Et(n){let e,l;return e=new Pt({}),{c(){R(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,s){X(e,t,s),l=!0},p:Fe,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}class Bt extends Y{constructor(e){super(),z(this,e,null,Et,F,{})}}export{Bt as default};
