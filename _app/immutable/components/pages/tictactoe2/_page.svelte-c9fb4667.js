import{S as _e,i as pe,s as me,C as rt,k as v,l as g,m as $,h as d,n as J,b as D,N as he,E as st,F as at,G as it,f as V,t as W,H as Ke,a0 as an,o as Kt,j as cn,W as $t,I as Ct,a1 as Qt,A as fn,$ as un,g as Be,d as Oe,q as y,a as C,r as w,c as T,D as f,B as ke,u as se,w as ne,x as le,y as oe,z as re,e as xe,J as Je,K as ht,M as Ge,P as bt,Q as _t}from"../../../chunks/index-1d785069.js";import{w as Ze}from"../../../chunks/index-c5a64178.js";import{P as Zt}from"../../../chunks/P5-76a6b36f.js";let dn=1;function xt(){return`svelte-tabs-${dn++}`}function hn(n){let e,l,t,o;const r=n[4].default,s=rt(r,n,n[3],null);return{c(){e=v("div"),s&&s.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var a=$(e);s&&s.l(a),a.forEach(d),this.h()},h(){J(e,"class","svelte-tabs")},m(i,a){D(i,e,a),s&&s.m(e,null),l=!0,t||(o=he(e,"keydown",n[1]),t=!0)},p(i,[a]){s&&s.p&&(!l||a&8)&&st(s,r,i,i[3],l?it(r,i[3],a,null):at(i[3]),null)},i(i){l||(V(s,i),l=!0)},o(i){W(s,i),l=!1},d(i){i&&d(e),s&&s.d(i),t=!1,o()}}}const kt={};function _n(n,e,l){const t=n.indexOf(e);n.splice(t,1),l.update(o=>o===e?n[t]||n[n.length-1]:o)}function pn(n,e,l){let t,{$$slots:o={},$$scope:r}=e,{initialSelectedIndex:s=0}=e;const i=[],a=[],c=[],u=Ze({}),h=Ze({}),p=Ze(null);Ke(n,p,m=>l(5,t=m));const B=Ze(null);function L(m,P,F){m.push(P),F.update(N=>N||P),$t(()=>_n(m,P,F))}function k(m){const P=a.indexOf(m);p.set(m),B.set(c[P])}an(kt,{registerTab(m){L(a,m,p)},registerTabElement(m){i.push(m)},registerPanel(m){L(c,m,B)},selectTab:k,selectedTab:p,selectedPanel:B,controls:u,labeledBy:h}),Kt(()=>{k(a[s])}),cn(()=>{for(let m=0;m<a.length;m++)u.update(P=>({...P,[a[m].id]:c[m].id})),h.update(P=>({...P,[c[m].id]:a[m].id}))});async function b(m){if(m.target.classList.contains("svelte-tabs__tab")){let P=a.indexOf(t);switch(m.key){case"ArrowRight":P+=1,P>a.length-1&&(P=0),k(a[P]),i[P].focus();break;case"ArrowLeft":P-=1,P<0&&(P=a.length-1),k(a[P]),i[P].focus()}}}return n.$$set=m=>{"initialSelectedIndex"in m&&l(2,s=m.initialSelectedIndex),"$$scope"in m&&l(3,r=m.$$scope)},[p,b,s,r,o]}class mn extends _e{constructor(e){super(),pe(this,e,pn,hn,me,{initialSelectedIndex:2})}}function vn(n){let e,l,t,o,r,s;const i=n[9].default,a=rt(i,n,n[8],null);return{c(){e=v("li"),a&&a.c(),this.h()},l(c){e=g(c,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var u=$(e);a&&a.l(u),u.forEach(d),this.h()},h(){J(e,"role","tab"),J(e,"id",n[3].id),J(e,"aria-controls",l=n[2][n[3].id]),J(e,"aria-selected",n[1]),J(e,"tabindex",t=n[1]?0:-1),J(e,"class","svelte-tabs__tab svelte-1fbofsd"),Ct(e,"svelte-tabs__selected",n[1])},m(c,u){D(c,e,u),a&&a.m(e,null),n[10](e),o=!0,r||(s=he(e,"click",n[11]),r=!0)},p(c,[u]){a&&a.p&&(!o||u&256)&&st(a,i,c,c[8],o?it(i,c[8],u,null):at(c[8]),null),(!o||u&4&&l!==(l=c[2][c[3].id]))&&J(e,"aria-controls",l),(!o||u&2)&&J(e,"aria-selected",c[1]),(!o||u&2&&t!==(t=c[1]?0:-1))&&J(e,"tabindex",t),(!o||u&2)&&Ct(e,"svelte-tabs__selected",c[1])},i(c){o||(V(a,c),o=!0)},o(c){W(a,c),o=!1},d(c){c&&d(e),a&&a.d(c),n[10](null),r=!1,s()}}}function gn(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e,i;const a={id:xt()},{registerTab:c,registerTabElement:u,selectTab:h,selectedTab:p,controls:B}=Qt(kt);Ke(n,p,m=>l(7,t=m)),Ke(n,B,m=>l(2,o=m));let L;c(a),Kt(async()=>{await fn(),u(i)});function k(m){un[m?"unshift":"push"](()=>{i=m,l(0,i)})}const b=()=>h(a);return n.$$set=m=>{"$$scope"in m&&l(8,s=m.$$scope)},n.$$.update=()=>{n.$$.dirty&128&&l(1,L=t===a)},[i,L,o,a,h,p,B,t,s,r,k,b]}class ft extends _e{constructor(e){super(),pe(this,e,gn,vn,me,{})}}function $n(n){let e,l;const t=n[1].default,o=rt(t,n,n[0],null);return{c(){e=v("ul"),o&&o.c(),this.h()},l(r){e=g(r,"UL",{role:!0,class:!0});var s=$(e);o&&o.l(s),s.forEach(d),this.h()},h(){J(e,"role","tablist"),J(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,s){D(r,e,s),o&&o.m(e,null),l=!0},p(r,[s]){o&&o.p&&(!l||s&1)&&st(o,t,r,r[0],l?it(t,r[0],s,null):at(r[0]),null)},i(r){l||(V(o,r),l=!0)},o(r){W(o,r),l=!1},d(r){r&&d(e),o&&o.d(r)}}}function bn(n,e,l){let{$$slots:t={},$$scope:o}=e;return n.$$set=r=>{"$$scope"in r&&l(0,o=r.$$scope)},[o,t]}class kn extends _e{constructor(e){super(),pe(this,e,bn,$n,me,{})}}function Tt(n){let e;const l=n[6].default,t=rt(l,n,n[5],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&32)&&st(t,l,o,o[5],e?it(l,o[5],r,null):at(o[5]),null)},i(o){e||(V(t,o),e=!0)},o(o){W(t,o),e=!1},d(o){t&&t.d(o)}}}function En(n){let e,l,t,o=n[1]===n[2]&&Tt(n);return{c(){e=v("div"),o&&o.c(),this.h()},l(r){e=g(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=$(e);o&&o.l(s),s.forEach(d),this.h()},h(){J(e,"id",n[2].id),J(e,"aria-labelledby",l=n[0][n[2].id]),J(e,"class","svelte-tabs__tab-panel svelte-epfyet"),J(e,"role","tabpanel")},m(r,s){D(r,e,s),o&&o.m(e,null),t=!0},p(r,[s]){r[1]===r[2]?o?(o.p(r,s),s&2&&V(o,1)):(o=Tt(r),o.c(),V(o,1),o.m(e,null)):o&&(Be(),W(o,1,1,()=>{o=null}),Oe()),(!t||s&1&&l!==(l=r[0][r[2].id]))&&J(e,"aria-labelledby",l)},i(r){t||(V(o),t=!0)},o(r){W(o),t=!1},d(r){r&&d(e),o&&o.d()}}}function Pn(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e;const i={id:xt()},{registerPanel:a,selectedPanel:c,labeledBy:u}=Qt(kt);return Ke(n,c,h=>l(1,o=h)),Ke(n,u,h=>l(0,t=h)),a(i),n.$$set=h=>{"$$scope"in h&&l(5,s=h.$$scope)},[t,o,i,c,u,s,r]}class ut extends _e{constructor(e){super(),pe(this,e,Pn,En,me,{})}}function Se(n){const{x:e,y:l}=n;if(e<0||e>2||l<0||l>2)throw new Error(`Invalid coords (${e},${l})`);return 8-(3*l+e)}function Et(n){if(n<0||n>8)throw new Error("Invalid index ${i}");return{x:2-n%3,y:2-Math.floor(n/3)}}const yn=[448,56,7,292,146,73,273,84],wn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],Sn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],In=[{p:2,o:5},{p:2,o:144}],Ae=(n,e)=>(n&e)===e;function Nt(n){let e=n,l=0;for(;e;)l+=e&1,e>>=1;return l}function At(n,e){const l=Se(e);return U(n,l)}function U(n,e){return!(n&1<<e)}function pt(n,e){return n+2**e}const mt=n=>{for(const e of yn)if(Ae(n,e))return!0;return!1};var z=(n=>(n[n.player=1]="player",n[n.computer=2]="computer",n))(z||{});function en(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Ce(n,e){return e===z.player?n.player:n.computer}function Te(n,e){return e===z.player?n.computer:n.player}function et(n,e){if(!e&&!Cn(n))return"invalid_board";const l=mt(n.player),t=mt(n.computer);return l&&t?"draw":l?"player_win":t?"computer_win":Nn(n)?"not_over":"over"}function Qe(n,e,l){if(!Tn(n,l))throw new Error(`Impossible move. player: ${n==null?void 0:n.player}, computer: ${n==null?void 0:n.computer}, index ${l} `);e===z.player?n.player=pt(n.player,l):n.computer=pt(n.computer,l)}function Cn(n){if(n.player&n.computer)return!1;const e=Nt(n.player),l=Nt(n.computer);return!(Math.abs(e-l)>1)}function Tn(n,e){return U(n.player,e)&&U(n.computer,e)}function Nn(n){return(n.player|n.computer)!==511}function Pt(n){let e=n.player|n.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const l=[];let t=0;for(;t<9;)e&1||l.push(t),t++,e>>=1;return l}const An=[2,5,8,1,4,7,0,3,6];function Mt(n){let e=0;return An.forEach((l,t)=>{U(n,t)||(e=pt(e,l))}),e}function tt(n,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...n};e=e%4;const l={...n};for(let t=0;t<e;t++)l.player=Mt(l.player),l.computer=Mt(l.computer);return l}function Ie(n,e){const l=Ce(n,e);return mt(l)}function yt(n){return(n==null?void 0:n.y)===1&&(n==null?void 0:n.x)===1}function nt(n,e,l){const t=Se(l),o=Ce(n,e),r=Te(n,e);if(t===4){const s=U(r,5)&&!U(o,3)||!U(o,5)&&U(r,3)?1:0,i=U(r,7)&&!U(o,1)||!U(o,7)&&U(r,1)?1:0,a=U(r,8)&&!U(o,0)||!U(o,8)&&U(r,0)?1:0,c=U(r,6)&&!U(o,2)||!U(o,6)&&U(r,2)?1:0;return s+i+a+c>=2}if(ct.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,i=tt(n,s),a=Ce(i,e),c=Te(i,e),u=U(c,2)&&!U(a,1)||!U(a,2)&&U(c,1),h=U(c,6)&&!U(a,3)||!U(a,6)&&U(c,3);return u&&h}if(wt.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,i=tt(n,s),a=Ce(i,e),c=Te(i,e),u=U(c,2)&&!U(a,0)||!U(a,2)&&U(c,0),h=U(c,7)&&!U(a,4)||!U(a,7)&&U(c,4);return u&&h}return!1}function vt(n,e,l){const t=Ce(n,e),r={player:Te(n,e),computer:t};return nt(r,z.player,l)}function Ve(n,e,l){const t=Se(l),o=Ce(n,e),r=Te(n,e);if(t===4){for(const{o:s,p:i}of wn)if(Ae(o,i)&&Ae(r,s))return!0}if(ct.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,i=tt(n,s),a=Ce(i,e),c=Te(i,e);for(const{o:u,p:h}of Sn)if(Ae(a,h)&&Ae(c,u))return!0}if(wt.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,i=tt(n,s),a=Ce(i,e),c=Te(i,e);for(const{o:u,p:h}of In)if(Ae(a,h)&&Ae(c,u))return!0}return!1}const ct=new Set([0,2,6,8]),wt=new Set([1,3,5,7]);function lt(n,e,l){const t=Se(l);if(!ct.has(t))return!1;const o=8-t,r=Te(n,e);return!U(r,o)}function St(n){const e=Se(n);return ct.has(e)}function tn(n){const e=Se(n);return wt.has(e)}function Mn(n,e){const l=Pt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=Et(o);Qe(r,e,o);const i=Bn(r,e,s);i.score>((t==null?void 0:t.score)??-1)&&(t=i)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Bn(n,e,l){return Ie(n,e)?{score:8,reason:"win",move:l}:Ve(n,e,l)?{score:7,reason:"block_opponent",move:l}:nt(n,e,l)?{score:6,reason:"create_fork",move:l}:vt(n,e,l)?{score:5,reason:"block_opponent_fork",move:l}:yt(l)?{score:4,reason:"take_center",move:l}:lt(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:St(l)?{score:2,reason:"take_corner",move:l}:tn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function On(n,e){const l=Pt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=Et(o);Qe(r,e,o);const i=Hn(r,e,s);i.score>((t==null?void 0:t.score)??-1)&&(t=i)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Hn(n,e,l){return Ie(n,z.player)?{score:8,reason:"win",move:l}:Ve(n,e,l)?{score:7,reason:"block_opponent",move:l}:yt(l)?{score:4,reason:"take_center",move:l}:lt(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:St(l)?{score:2,reason:"take_corner",move:l}:tn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Dn(n){const e=Pt(n);if(e.length===0)throw new Error("No available moves");const l=Math.floor(Math.random()*e.length),t=e[l];return{score:0,reason:"random",move:Et(t)}}const Me={random:Dn,hardcodedRules:On,hardcodedRulesComplete:Mn},nn=n=>({board:en(),currentPlayer:n??z.player,state:"not_over",moveHistory:[]});function ln(n){n.currentPlayer=n.currentPlayer===z.player?z.computer:z.player}const Gn=(n,e,l)=>{n.state==="not_over"&&(Qe(n.board,e,Se(l)),n.state=et(n.board),n.moveHistory.push({board:{...n.board},moveCoord:l,player:e,method:"manual"}),ln(n))},qe=(n,e,l)=>{if(n.state!=="not_over")return;const t=Me[l],o=t(n.board,e);Qe(n.board,e,Se(o.move)),n.state=et(n.board),n.moveHistory.push({board:{...n.board},moveCoord:o.move,player:e,method:l,aiChoice:o}),ln(n)},Vn="#FF0000",Rn="#64ccfc";function gt(n,e,l){var u;const t=n.width/3,o=n.height/3,{height:r,width:s}=n,{drawSelection:i,selection:a,currentPlayer:c}=l||{};n.rectMode(n.CENTER),n.noFill(),n.stroke(255),n.strokeWeight(1),n.line(t,0,t,r),n.line(t*2,0,t*2,r),n.line(0,o,s,o),n.line(0,o*2,s,o*2),n.stroke(155),n.strokeWeight(3),n.rect(n.width/2,n.height/2,n.width,n.height),n.strokeWeight(4);for(let h=0;h<3;h++)for(let p=0;p<3;p++)((u=l==null?void 0:l.highlightCell)==null?void 0:u.x)===p&&(l==null?void 0:l.highlightCell.y)===h&&(n.noStroke(),n.fill(30,250,80,80),n.rect(p*t+t/2,h*o+o/2,t*.95,o*.95),n.noFill()),(!At(e.player,{x:p,y:h})||i&&c===z.player&&(a==null?void 0:a.x)===p&&(a==null?void 0:a.y)===h)&&(n.stroke(Rn),n.circle(p*t+t/2,h*o+o/2,o/2)),(!At(e.computer,{x:p,y:h})||i&&c===z.computer&&(a==null?void 0:a.x)===p&&(a==null?void 0:a.y)===h)&&(n.stroke(Vn),n.line(p*t+t*.3,h*o+o*.3,p*t+t*.7,h*o+o*.7),n.line(p*t+t*.7,h*o+o*.3,p*t+t*.3,h*o+o*.7))}function ot(n){const{mouseX:e,mouseY:l,width:t,height:o}=n,r=Math.floor(n.map(e,0,t,0,3)),s=Math.floor(n.map(l,0,o,0,3));return{x:r,y:s}}function Bt(n){let e,l,t,o,r,s=et(n[0])+"",i,a,c,u,h,p,B,L,k,b,m=n[0].player.toString(2).padStart(9,"0")+"",P,F,N,M=n[0].player+"",O,K,x,te,Y,A=Ie(n[0],z.player)?"✅":"❌",Z,G,S,E,X,_,H,I,j,fe,ee=n[0].computer.toString(2).padStart(9,"0")+"",ue,de,ce,be=n[0].computer+"",ve,ae,ye,we,Ee,Pe=Ie(n[0],z.computer)?"✅":"❌",Ne;return{c(){e=v("div"),l=v("span"),t=y("State:"),o=C(),r=v("span"),i=y(s),a=C(),c=v("div"),u=v("span"),h=y("Player 1"),p=v("span"),B=y("Player, O"),L=C(),k=v("span"),b=y("0b"),P=y(m),F=C(),N=v("span"),O=y(M),K=C(),x=v("span"),te=y("Wins"),Y=v("span"),Z=y(A),G=C(),S=v("div"),E=v("span"),X=y("Player 2"),_=v("span"),H=y("Computer, X"),I=C(),j=v("span"),fe=y("0b"),ue=y(ee),de=C(),ce=v("span"),ve=y(be),ae=C(),ye=v("span"),we=y("Wins"),Ee=v("span"),Ne=y(Pe),this.h()},l(ie){e=g(ie,"DIV",{class:!0});var Q=$(e);l=g(Q,"SPAN",{});var q=$(l);t=w(q,"State:"),q.forEach(d),o=T(Q),r=g(Q,"SPAN",{});var R=$(r);i=w(R,s),R.forEach(d),a=T(Q),c=g(Q,"DIV",{class:!0});var ge=$(c);u=g(ge,"SPAN",{});var Re=$(u);h=w(Re,"Player 1"),Re.forEach(d),p=g(ge,"SPAN",{});var Le=$(p);B=w(Le,"Player, O"),Le.forEach(d),L=T(ge),k=g(ge,"SPAN",{});var He=$(k);b=w(He,"0b"),P=w(He,m),He.forEach(d),F=T(ge),N=g(ge,"SPAN",{});var We=$(N);O=w(We,M),We.forEach(d),K=T(ge),x=g(ge,"SPAN",{});var Fe=$(x);te=w(Fe,"Wins"),Fe.forEach(d),Y=g(ge,"SPAN",{});var Ue=$(Y);Z=w(Ue,A),Ue.forEach(d),ge.forEach(d),G=T(Q),S=g(Q,"DIV",{class:!0});var $e=$(S);E=g($e,"SPAN",{});var Xe=$(E);X=w(Xe,"Player 2"),Xe.forEach(d),_=g($e,"SPAN",{});var je=$(_);H=w(je,"Computer, X"),je.forEach(d),I=T($e),j=g($e,"SPAN",{});var De=$(j);fe=w(De,"0b"),ue=w(De,ee),De.forEach(d),de=T($e),ce=g($e,"SPAN",{});var ze=$(ce);ve=w(ze,be),ze.forEach(d),ae=T($e),ye=g($e,"SPAN",{});var Ye=$(ye);we=w(Ye,"Wins"),Ye.forEach(d),Ee=g($e,"SPAN",{});var It=$(Ee);Ne=w(It,Pe),It.forEach(d),$e.forEach(d),Q.forEach(d),this.h()},h(){J(c,"class","grid2cols svelte-1lw5ne4"),J(S,"class","grid2cols svelte-1lw5ne4"),J(e,"class","grid2cols svelte-1lw5ne4")},m(ie,Q){D(ie,e,Q),f(e,l),f(l,t),f(e,o),f(e,r),f(r,i),f(e,a),f(e,c),f(c,u),f(u,h),f(c,p),f(p,B),f(c,L),f(c,k),f(k,b),f(k,P),f(c,F),f(c,N),f(N,O),f(c,K),f(c,x),f(x,te),f(c,Y),f(Y,Z),f(e,G),f(e,S),f(S,E),f(E,X),f(S,_),f(_,H),f(S,I),f(S,j),f(j,fe),f(j,ue),f(S,de),f(S,ce),f(ce,ve),f(S,ae),f(S,ye),f(ye,we),f(S,Ee),f(Ee,Ne)},p(ie,Q){Q&1&&s!==(s=et(ie[0])+"")&&se(i,s),Q&1&&m!==(m=ie[0].player.toString(2).padStart(9,"0")+"")&&se(P,m),Q&1&&M!==(M=ie[0].player+"")&&se(O,M),Q&1&&A!==(A=Ie(ie[0],z.player)?"✅":"❌")&&se(Z,A),Q&1&&ee!==(ee=ie[0].computer.toString(2).padStart(9,"0")+"")&&se(ue,ee),Q&1&&be!==(be=ie[0].computer+"")&&se(ve,be),Q&1&&Pe!==(Pe=Ie(ie[0],z.computer)?"✅":"❌")&&se(Ne,Pe)},d(ie){ie&&d(e)}}}function Ln(n){let e,l,t,o,r=n[0]&&Bt(n);return{c(){e=v("div"),l=v("h4"),t=y("Board info"),o=C(),r&&r.c()},l(s){e=g(s,"DIV",{});var i=$(e);l=g(i,"H4",{});var a=$(l);t=w(a,"Board info"),a.forEach(d),o=T(i),r&&r.l(i),i.forEach(d)},m(s,i){D(s,e,i),f(e,l),f(l,t),f(e,o),r&&r.m(e,null)},p(s,[i]){s[0]?r?r.p(s,i):(r=Bt(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ke,o:ke,d(s){s&&d(e),r&&r.d()}}}function Wn(n,e,l){let{board:t}=e;return n.$$set=o=>{"board"in o&&l(0,t=o.board)},[t]}class on extends _e{constructor(e){super(),pe(this,e,Wn,Ln,me,{board:0})}}function Fn(n){let e,l,t=JSON.stringify(n[0])+"",o;return{c(){e=v("p"),l=y("Board is undefined "),o=y(t)},l(r){e=g(r,"P",{});var s=$(e);l=w(s,"Board is undefined "),o=w(s,t),s.forEach(d)},m(r,s){D(r,e,s),f(e,l),f(e,o)},p(r,s){s&1&&t!==(t=JSON.stringify(r[0])+"")&&se(o,t)},i:ke,o:ke,d(r){r&&d(e)}}}function Un(n){let e,l;return e=new Zt({props:{sketch:n[1]}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p:ke,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function Xn(n){let e,l,t,o;const r=[Un,Fn],s=[];function i(a,c){return a[0]?0:1}return l=i(n),t=s[l]=r[l](n),{c(){e=v("div"),t.c()},l(a){e=g(a,"DIV",{});var c=$(e);t.l(c),c.forEach(d)},m(a,c){D(a,e,c),s[l].m(e,null),o=!0},p(a,[c]){let u=l;l=i(a),l===u?s[l].p(a,c):(Be(),W(s[u],1,1,()=>{s[u]=null}),Oe(),t=s[l],t?t.p(a,c):(t=s[l]=r[l](a),t.c()),V(t,1),t.m(e,null))},i(a){o||(V(t),o=!0)},o(a){W(t),o=!1},d(a){a&&d(e),s[l].d()}}}function jn(n,e,l){let{dimensionPx:t}=e,{board:o}=e,{highlightCell:r=void 0}=e,{highlightMouse:s=!1}=e,{onClick:i=()=>{}}=e,a;const c=u=>{u.setup=()=>{a=u,u.createCanvas(t.width,t.height)},u.draw=()=>{u.background(0),s?gt(u,o,{highlightCell:ot(u)}):gt(u,o,{highlightCell:r})},u.mousePressed=()=>{u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height||i("manual",ot(u))}};return $t(()=>{a==null||a.remove()}),n.$$set=u=>{"dimensionPx"in u&&l(2,t=u.dimensionPx),"board"in u&&l(0,o=u.board),"highlightCell"in u&&l(3,r=u.highlightCell),"highlightMouse"in u&&l(4,s=u.highlightMouse),"onClick"in u&&l(5,i=u.onClick)},[o,c,t,r,s,i]}class rn extends _e{constructor(e){super(),pe(this,e,jn,Xn,me,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function dt(n){const e=n.slice(),l=e[0];return e[1]=l.moveCoord,e[2]=l.player,e[3]=l.board,e}function Ot(n){let e,l,t,o,r,s,i,a,c,u,h,p=Ie(n[3],n[2])?"✅":"❌",B,L,k,b,m,P,F=Ve(n[3],n[2],n[1])?"✅":"❌",N,M,O,K,x,te,Y=nt(n[3],n[2],n[1])?"✅":"❌",A,Z,G,S,E,X,_=vt(n[3],n[2],n[1])?"✅":"❌",H,I,j,fe,ee,ue,de=lt(n[3],n[2],n[1])?"✅":"❌",ce,be,ve,ae,ye,we,Ee=Ve(n[3],n[2],n[1])?"✅":"❌",Pe;function Ne(q,R){return R&1&&(r=null),R&1&&(s=null),r==null&&(r=!!yt(q[1])),r?Jn:(s==null&&(s=!!St(q[1])),s?Yn:zn)}let ie=Ne(n,-1),Q=ie(n);return{c(){e=v("div"),l=v("span"),t=y("Position"),o=C(),Q.c(),i=C(),a=v("span"),c=y("Player win"),u=C(),h=v("span"),B=y(p),L=C(),k=v("span"),b=y("Move blocks opponent"),m=C(),P=v("span"),N=y(F),M=C(),O=v("span"),K=y("Move creates fork"),x=C(),te=v("span"),A=y(Y),Z=C(),G=v("span"),S=y("Move blocks opponent's fork"),E=C(),X=v("span"),H=y(_),I=C(),j=v("span"),fe=y("Took opposite corner"),ee=C(),ue=v("span"),ce=y(de),be=C(),ve=v("span"),ae=y("Last move blocks opponent"),ye=C(),we=v("span"),Pe=y(Ee),this.h()},l(q){e=g(q,"DIV",{class:!0});var R=$(e);l=g(R,"SPAN",{});var ge=$(l);t=w(ge,"Position"),ge.forEach(d),o=T(R),Q.l(R),i=T(R),a=g(R,"SPAN",{});var Re=$(a);c=w(Re,"Player win"),Re.forEach(d),u=T(R),h=g(R,"SPAN",{});var Le=$(h);B=w(Le,p),Le.forEach(d),L=T(R),k=g(R,"SPAN",{});var He=$(k);b=w(He,"Move blocks opponent"),He.forEach(d),m=T(R),P=g(R,"SPAN",{});var We=$(P);N=w(We,F),We.forEach(d),M=T(R),O=g(R,"SPAN",{});var Fe=$(O);K=w(Fe,"Move creates fork"),Fe.forEach(d),x=T(R),te=g(R,"SPAN",{});var Ue=$(te);A=w(Ue,Y),Ue.forEach(d),Z=T(R),G=g(R,"SPAN",{});var $e=$(G);S=w($e,"Move blocks opponent's fork"),$e.forEach(d),E=T(R),X=g(R,"SPAN",{});var Xe=$(X);H=w(Xe,_),Xe.forEach(d),I=T(R),j=g(R,"SPAN",{});var je=$(j);fe=w(je,"Took opposite corner"),je.forEach(d),ee=T(R),ue=g(R,"SPAN",{});var De=$(ue);ce=w(De,de),De.forEach(d),be=T(R),ve=g(R,"SPAN",{});var ze=$(ve);ae=w(ze,"Last move blocks opponent"),ze.forEach(d),ye=T(R),we=g(R,"SPAN",{});var Ye=$(we);Pe=w(Ye,Ee),Ye.forEach(d),R.forEach(d),this.h()},h(){J(e,"class","grid2cols svelte-1lw5ne4")},m(q,R){D(q,e,R),f(e,l),f(l,t),f(e,o),Q.m(e,null),f(e,i),f(e,a),f(a,c),f(e,u),f(e,h),f(h,B),f(e,L),f(e,k),f(k,b),f(e,m),f(e,P),f(P,N),f(e,M),f(e,O),f(O,K),f(e,x),f(e,te),f(te,A),f(e,Z),f(e,G),f(G,S),f(e,E),f(e,X),f(X,H),f(e,I),f(e,j),f(j,fe),f(e,ee),f(e,ue),f(ue,ce),f(e,be),f(e,ve),f(ve,ae),f(e,ye),f(e,we),f(we,Pe)},p(q,R){ie!==(ie=Ne(q,R))&&(Q.d(1),Q=ie(q),Q&&(Q.c(),Q.m(e,i))),R&1&&p!==(p=Ie(q[3],q[2])?"✅":"❌")&&se(B,p),R&1&&F!==(F=Ve(q[3],q[2],q[1])?"✅":"❌")&&se(N,F),R&1&&Y!==(Y=nt(q[3],q[2],q[1])?"✅":"❌")&&se(A,Y),R&1&&_!==(_=vt(q[3],q[2],q[1])?"✅":"❌")&&se(H,_),R&1&&de!==(de=lt(q[3],q[2],q[1])?"✅":"❌")&&se(ce,de),R&1&&Ee!==(Ee=Ve(q[3],q[2],q[1])?"✅":"❌")&&se(Pe,Ee)},d(q){q&&d(e),Q.d()}}}function zn(n){let e,l;return{c(){e=v("span"),l=y("Edge")},l(t){e=g(t,"SPAN",{});var o=$(e);l=w(o,"Edge"),o.forEach(d)},m(t,o){D(t,e,o),f(e,l)},d(t){t&&d(e)}}}function Yn(n){let e,l;return{c(){e=v("span"),l=y("Corner")},l(t){e=g(t,"SPAN",{});var o=$(e);l=w(o,"Corner"),o.forEach(d)},m(t,o){D(t,e,o),f(e,l)},d(t){t&&d(e)}}}function Jn(n){let e,l;return{c(){e=v("span"),l=y("Center")},l(t){e=g(t,"SPAN",{});var o=$(e);l=w(o,"Center"),o.forEach(d)},m(t,o){D(t,e,o),f(e,l)},d(t){t&&d(e)}}}function qn(n){let e,l=n[0]&&Ot(dt(n));return{c(){l&&l.c(),e=xe()},l(t){l&&l.l(t),e=xe()},m(t,o){l&&l.m(t,o),D(t,e,o)},p(t,[o]){t[0]?l?l.p(dt(t),o):(l=Ot(dt(t)),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ke,o:ke,d(t){l&&l.d(t),t&&d(e)}}}function Kn(n,e,l){let{historyItem:t}=e;return n.$$set=o=>{"historyItem"in o&&l(0,t=o.historyItem)},[t]}class Qn extends _e{constructor(e){super(),pe(this,e,Kn,qn,me,{historyItem:0})}}function Ht(n,e,l){const t=n.slice();return t[3]=e[l],t}function Dt(n){let e,l,t,o,r,s,i,a,c,u,h,p,B,L,k,b=n[0].length===0&&Gt(),m=[...n[0]].reverse(),P=[];for(let N=0;N<m.length;N+=1)P[N]=Vt(Ht(n,m,N));const F=N=>W(P[N],1,1,()=>{P[N]=null});return{c(){e=v("div"),b&&b.c(),l=C(),t=v("h4"),o=y("Move"),r=C(),s=v("h4"),i=y("Selection"),a=C(),c=v("h4"),u=y("AI"),h=C(),p=v("h4"),B=y("Stats"),L=C();for(let N=0;N<P.length;N+=1)P[N].c();this.h()},l(N){e=g(N,"DIV",{class:!0});var M=$(e);b&&b.l(M),l=T(M),t=g(M,"H4",{});var O=$(t);o=w(O,"Move"),O.forEach(d),r=T(M),s=g(M,"H4",{});var K=$(s);i=w(K,"Selection"),K.forEach(d),a=T(M),c=g(M,"H4",{});var x=$(c);u=w(x,"AI"),x.forEach(d),h=T(M),p=g(M,"H4",{});var te=$(p);B=w(te,"Stats"),te.forEach(d),L=T(M);for(let Y=0;Y<P.length;Y+=1)P[Y].l(M);M.forEach(d),this.h()},h(){J(e,"class","grid4cols svelte-1ofp4bt")},m(N,M){D(N,e,M),b&&b.m(e,null),f(e,l),f(e,t),f(t,o),f(e,r),f(e,s),f(s,i),f(e,a),f(e,c),f(c,u),f(e,h),f(e,p),f(p,B),f(e,L);for(let O=0;O<P.length;O+=1)P[O].m(e,null);k=!0},p(N,M){if(N[0].length===0?b||(b=Gt(),b.c(),b.m(e,l)):b&&(b.d(1),b=null),M&1){m=[...N[0]].reverse();let O;for(O=0;O<m.length;O+=1){const K=Ht(N,m,O);P[O]?(P[O].p(K,M),V(P[O],1)):(P[O]=Vt(K),P[O].c(),V(P[O],1),P[O].m(e,null))}for(Be(),O=m.length;O<P.length;O+=1)F(O);Oe()}},i(N){if(!k){for(let M=0;M<m.length;M+=1)V(P[M]);k=!0}},o(N){P=P.filter(Boolean);for(let M=0;M<P.length;M+=1)W(P[M]);k=!1},d(N){N&&d(e),b&&b.d(),Je(P,N)}}}function Gt(n){let e,l;return{c(){e=v("p"),l=y("No move yet.")},l(t){e=g(t,"P",{});var o=$(e);l=w(o,"No move yet."),o.forEach(d)},m(t,o){D(t,e,o),f(e,l)},d(t){t&&d(e)}}}function Zn(n){let e;return{c(){e=v("span"),this.h()},l(l){e=g(l,"SPAN",{class:!0}),$(e).forEach(d),this.h()},h(){J(e,"class","item svelte-1ofp4bt")},m(l,t){D(l,e,t)},p:ke,d(l){l&&d(e)}}}function xn(n){let e,l=n[3].aiChoice.score+"",t,o,r=n[3].aiChoice.reason+"",s;return{c(){e=v("span"),t=y(l),o=y(" - "),s=y(r),this.h()},l(i){e=g(i,"SPAN",{class:!0});var a=$(e);t=w(a,l),o=w(a," - "),s=w(a,r),a.forEach(d),this.h()},h(){J(e,"class","item svelte-1ofp4bt")},m(i,a){D(i,e,a),f(e,t),f(e,o),f(e,s)},p(i,a){a&1&&l!==(l=i[3].aiChoice.score+"")&&se(t,l),a&1&&r!==(r=i[3].aiChoice.reason+"")&&se(s,r)},d(i){i&&d(e)}}}function Vt(n){let e,l,t,o,r=n[3].method+"",s,i,a,c,u,h,p;l=new rn({props:{board:n[3].board,dimensionPx:{width:100,height:100},highlightCell:n[3].moveCoord}});function B(b,m){return b[3].aiChoice?xn:Zn}let L=B(n),k=L(n);return u=new Qn({props:{historyItem:n[3]}}),{c(){e=v("div"),ne(l.$$.fragment),t=C(),o=v("span"),s=y(r),i=C(),k.c(),a=C(),c=v("div"),ne(u.$$.fragment),h=C(),this.h()},l(b){e=g(b,"DIV",{class:!0});var m=$(e);le(l.$$.fragment,m),m.forEach(d),t=T(b),o=g(b,"SPAN",{class:!0});var P=$(o);s=w(P,r),P.forEach(d),i=T(b),k.l(b),a=T(b),c=g(b,"DIV",{class:!0});var F=$(c);le(u.$$.fragment,F),h=T(F),F.forEach(d),this.h()},h(){J(e,"class","item svelte-1ofp4bt"),J(o,"class","item svelte-1ofp4bt"),J(c,"class","item svelte-1ofp4bt")},m(b,m){D(b,e,m),oe(l,e,null),D(b,t,m),D(b,o,m),f(o,s),D(b,i,m),k.m(b,m),D(b,a,m),D(b,c,m),oe(u,c,null),f(c,h),p=!0},p(b,m){const P={};m&1&&(P.board=b[3].board),m&1&&(P.highlightCell=b[3].moveCoord),l.$set(P),(!p||m&1)&&r!==(r=b[3].method+"")&&se(s,r),L===(L=B(b))&&k?k.p(b,m):(k.d(1),k=L(b),k&&(k.c(),k.m(a.parentNode,a)));const F={};m&1&&(F.historyItem=b[3]),u.$set(F)},i(b){p||(V(l.$$.fragment,b),V(u.$$.fragment,b),p=!0)},o(b){W(l.$$.fragment,b),W(u.$$.fragment,b),p=!1},d(b){b&&d(e),re(l),b&&d(t),b&&d(o),b&&d(i),k.d(b),b&&d(a),b&&d(c),re(u)}}}function el(n){let e,l,t=n[1]?"Hide":"Show",o,r,s,i,a,c,u=n[1]&&Dt(n);return{c(){e=v("div"),l=v("button"),o=y(t),r=y(" move history"),s=C(),u&&u.c()},l(h){e=g(h,"DIV",{});var p=$(e);l=g(p,"BUTTON",{});var B=$(l);o=w(B,t),r=w(B," move history"),B.forEach(d),s=T(p),u&&u.l(p),p.forEach(d)},m(h,p){D(h,e,p),f(e,l),f(l,o),f(l,r),f(e,s),u&&u.m(e,null),i=!0,a||(c=he(l,"click",n[2]),a=!0)},p(h,[p]){(!i||p&2)&&t!==(t=h[1]?"Hide":"Show")&&se(o,t),h[1]?u?(u.p(h,p),p&2&&V(u,1)):(u=Dt(h),u.c(),V(u,1),u.m(e,null)):u&&(Be(),W(u,1,1,()=>{u=null}),Oe())},i(h){i||(V(u),i=!0)},o(h){W(u),i=!1},d(h){h&&d(e),u&&u.d(),a=!1,c()}}}function tl(n,e,l){let{history:t}=e,o=!0;const r=()=>l(1,o=!o);return n.$$set=s=>{"history"in s&&l(0,t=s.history)},[t,o,r]}class nl extends _e{constructor(e){super(),pe(this,e,tl,el,me,{history:0})}}function ll(n){let e,l,t,o,r,s=n[1](n[0])+"",i,a,c,u;return c=new nl({props:{history:n[0].moveHistory}}),{c(){e=v("div"),l=v("h4"),t=y("Game info"),o=C(),r=v("span"),i=y(s),a=C(),ne(c.$$.fragment)},l(h){e=g(h,"DIV",{});var p=$(e);l=g(p,"H4",{});var B=$(l);t=w(B,"Game info"),B.forEach(d),o=T(p),r=g(p,"SPAN",{});var L=$(r);i=w(L,s),L.forEach(d),a=T(p),le(c.$$.fragment,p),p.forEach(d)},m(h,p){D(h,e,p),f(e,l),f(l,t),f(e,o),f(e,r),f(r,i),f(e,a),oe(c,e,null),u=!0},p(h,[p]){(!u||p&1)&&s!==(s=h[1](h[0])+"")&&se(i,s);const B={};p&1&&(B.history=h[0].moveHistory),c.$set(B)},i(h){u||(V(c.$$.fragment,h),u=!0)},o(h){W(c.$$.fragment,h),u=!1},d(h){h&&d(e),re(c)}}}function ol(n,e,l){let{game:t}=e;const o=r=>!r||!r.state?"N/A":r.state==="not_over"?"Turn: "+(r.currentPlayer===z.player?"Player":"Computer"):r.state==="player_win"?"Player Win":r.state==="computer_win"?"Computer Win":r.state==="draw"?"Draw":r.state==="over"?"Game Over":"Invalid Game";return n.$$set=r=>{"game"in r&&l(0,t=r.game)},[t,o]}class sn extends _e{constructor(e){super(),pe(this,e,ol,ll,me,{game:0})}}function Rt(n,e,l){const t=n.slice();return t[12]=e[l],t}function Lt(n){let e,l,t,o;return{c(){e=v("p"),l=y("Restarting in "),t=y(n[1]),o=y(" seconds")},l(r){e=g(r,"P",{});var s=$(e);l=w(s,"Restarting in "),t=w(s,n[1]),o=w(s," seconds"),s.forEach(d)},m(r,s){D(r,e,s),f(e,l),f(e,t),f(e,o)},p(r,s){s&2&&se(t,r[1])},d(r){r&&d(e)}}}function Wt(n){let e,l=n[12]+"",t,o;return{c(){e=v("option"),t=y(l),o=C(),this.h()},l(r){e=g(r,"OPTION",{});var s=$(e);t=w(s,l),o=T(s),s.forEach(d),this.h()},h(){e.__value=n[12],e.value=e.__value},m(r,s){D(r,e,s),f(e,t),f(e,o)},p:ke,d(r){r&&d(e)}}}function Ft(n){let e,l,t,o,r,s,i;return l=new rn({props:{board:n[0].board,dimensionPx:{width:400,height:400},onClick:n[3],highlightMouse:!0}}),o=new on({props:{board:n[0].board}}),s=new sn({props:{game:n[0],showMoveInfo:!0}}),{c(){e=v("div"),ne(l.$$.fragment),t=C(),ne(o.$$.fragment),r=C(),ne(s.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=$(e);le(l.$$.fragment,c),t=T(c),le(o.$$.fragment,c),c.forEach(d),r=T(a),le(s.$$.fragment,a),this.h()},h(){J(e,"class","grid2colsResponsive svelte-1epiyf5")},m(a,c){D(a,e,c),oe(l,e,null),f(e,t),oe(o,e,null),D(a,r,c),oe(s,a,c),i=!0},p(a,c){const u={};c&1&&(u.board=a[0].board),l.$set(u);const h={};c&1&&(h.board=a[0].board),o.$set(h);const p={};c&1&&(p.game=a[0]),s.$set(p)},i(a){i||(V(l.$$.fragment,a),V(o.$$.fragment,a),V(s.$$.fragment,a),i=!0)},o(a){W(l.$$.fragment,a),W(o.$$.fragment,a),W(s.$$.fragment,a),i=!1},d(a){a&&d(e),re(l),re(o),a&&d(r),re(s,a)}}}function rl(n){let e,l,t,o,r,s,i,a,c,u,h,p,B,L,k,b,m,P,F,N,M,O,K,x,te,Y,A=n[1]>0&&Lt(n),Z=Object.keys(Me),G=[];for(let E=0;E<Z.length;E+=1)G[E]=Wt(Rt(n,Z,E));let S=n[0].board&&Ft(n);return{c(){e=v("h2"),l=y("Game"),t=C(),o=v("div"),A&&A.c(),r=C(),s=v("label"),i=y("AI type"),a=C(),c=v("select");for(let E=0;E<G.length;E+=1)G[E].c();u=C(),h=v("div"),p=v("span"),B=y("Player automatic move"),L=C(),k=v("button"),b=y("Random move"),m=C(),P=v("button"),F=y("Hardcoded rules"),N=C(),M=v("button"),O=y("Complete hardcoded rules"),K=C(),S&&S.c(),this.h()},l(E){e=g(E,"H2",{});var X=$(e);l=w(X,"Game"),X.forEach(d),t=T(E),o=g(E,"DIV",{});var _=$(o);A&&A.l(_),r=T(_),s=g(_,"LABEL",{for:!0});var H=$(s);i=w(H,"AI type"),H.forEach(d),a=T(_),c=g(_,"SELECT",{id:!0});var I=$(c);for(let ce=0;ce<G.length;ce+=1)G[ce].l(I);I.forEach(d),u=T(_),h=g(_,"DIV",{});var j=$(h);p=g(j,"SPAN",{});var fe=$(p);B=w(fe,"Player automatic move"),fe.forEach(d),L=T(j),k=g(j,"BUTTON",{});var ee=$(k);b=w(ee,"Random move"),ee.forEach(d),m=T(j),P=g(j,"BUTTON",{});var ue=$(P);F=w(ue,"Hardcoded rules"),ue.forEach(d),N=T(j),M=g(j,"BUTTON",{});var de=$(M);O=w(de,"Complete hardcoded rules"),de.forEach(d),j.forEach(d),K=T(_),S&&S.l(_),_.forEach(d),this.h()},h(){J(s,"for","aiType"),J(c,"id","aiType"),n[2]===void 0&&ht(()=>n[4].call(c))},m(E,X){D(E,e,X),f(e,l),D(E,t,X),D(E,o,X),A&&A.m(o,null),f(o,r),f(o,s),f(s,i),f(o,a),f(o,c);for(let _=0;_<G.length;_+=1)G[_].m(c,null);Ge(c,n[2]),f(o,u),f(o,h),f(h,p),f(p,B),f(h,L),f(h,k),f(k,b),f(h,m),f(h,P),f(P,F),f(h,N),f(h,M),f(M,O),f(o,K),S&&S.m(o,null),x=!0,te||(Y=[he(c,"change",n[4]),he(k,"click",n[5]),he(P,"click",n[6]),he(M,"click",n[7])],te=!0)},p(E,[X]){if(E[1]>0?A?A.p(E,X):(A=Lt(E),A.c(),A.m(o,r)):A&&(A.d(1),A=null),X&0){Z=Object.keys(Me);let _;for(_=0;_<Z.length;_+=1){const H=Rt(E,Z,_);G[_]?G[_].p(H,X):(G[_]=Wt(H),G[_].c(),G[_].m(c,null))}for(;_<G.length;_+=1)G[_].d(1);G.length=Z.length}X&4&&Ge(c,E[2]),E[0].board?S?(S.p(E,X),X&1&&V(S,1)):(S=Ft(E),S.c(),V(S,1),S.m(o,null)):S&&(Be(),W(S,1,1,()=>{S=null}),Oe())},i(E){x||(V(S),x=!0)},o(E){W(S),x=!1},d(E){E&&d(e),E&&d(t),E&&d(o),A&&A.d(),Je(G,E),S&&S.d(),te=!1,bt(Y)}}}function sl(n,e,l){let t,o,r,s="hardcodedRulesComplete",i=!1;a();function a(){l(0,t=nn(i?z.computer:z.player)),i&&qe(t,z.computer,s),o=t.currentPlayer,i=!i}const c=(k,b)=>{if(o===z.player){if(k==="manual"){if(!b)return;Gn(t,z.player,b)}else qe(t,z.player,k);l(0,t),o=t.currentPlayer,setTimeout(()=>{if(qe(t,z.computer,s),l(0,t),o=t.currentPlayer,t.state!=="not_over"){l(1,r=4);const m=setInterval(()=>{l(1,r--,r),r===0&&(a(),clearInterval(m))},1e3)}},500)}},u=(k,b)=>{c(k,b)};function h(){s=_t(this),l(2,s)}return[t,r,s,u,h,()=>u("random"),()=>u("hardcodedRules"),()=>u("hardcodedRulesComplete")]}class al extends _e{constructor(e){super(),pe(this,e,sl,rl,me,{})}}function Ut(n,e,l){const t=n.slice();return t[7]=e[l],t}function Xt(n,e,l){const t=n.slice();return t[10]=e[l],t}function jt(n,e,l){const t=n.slice();return t[10]=e[l],t}function zt(n){let e,l=n[10]+"",t,o;return{c(){e=v("option"),t=y(l),o=C(),this.h()},l(r){e=g(r,"OPTION",{});var s=$(e);t=w(s,l),o=T(s),s.forEach(d),this.h()},h(){e.__value=n[10],e.value=e.__value},m(r,s){D(r,e,s),f(e,t),f(e,o)},p:ke,d(r){r&&d(e)}}}function Yt(n){let e,l=n[10]+"",t,o;return{c(){e=v("option"),t=y(l),o=C(),this.h()},l(r){e=g(r,"OPTION",{});var s=$(e);t=w(s,l),o=T(s),s.forEach(d),this.h()},h(){e.__value=n[10],e.value=e.__value},m(r,s){D(r,e,s),f(e,t),f(e,o)},p:ke,d(r){r&&d(e)}}}function Jt(n){let e,l;return e=new sn({props:{game:n[7]}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.game=t[7]),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function qt(n){let e,l,t=n[7].board&&Jt(n);return{c(){t&&t.c(),e=xe()},l(o){t&&t.l(o),e=xe()},m(o,r){t&&t.m(o,r),D(o,e,r),l=!0},p(o,r){o[7].board?t?(t.p(o,r),r&1&&V(t,1)):(t=Jt(o),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(Be(),W(t,1,1,()=>{t=null}),Oe())},i(o){l||(V(t),l=!0)},o(o){W(t),l=!1},d(o){t&&t.d(o),o&&d(e)}}}function il(n){let e,l,t,o,r,s,i,a,c,u,h,p,B,L,k,b,m,P,F,N,M,O,K,x,te,Y=Object.keys(Me),A=[];for(let _=0;_<Y.length;_+=1)A[_]=zt(jt(n,Y,_));let Z=Object.keys(Me),G=[];for(let _=0;_<Z.length;_+=1)G[_]=Yt(Xt(n,Z,_));let S=n[0],E=[];for(let _=0;_<S.length;_+=1)E[_]=qt(Ut(n,S,_));const X=_=>W(E[_],1,1,()=>{E[_]=null});return{c(){e=v("div"),l=v("h2"),t=y("Generator"),o=C(),r=v("button"),s=y("Delete games"),i=C(),a=v("button"),c=y("Create game"),u=C(),h=v("div"),p=v("label"),B=y("AI type"),L=C(),k=v("select");for(let _=0;_<A.length;_+=1)A[_].c();b=C(),m=v("label"),P=y("AI type"),F=C(),N=v("select");for(let _=0;_<G.length;_+=1)G[_].c();M=C(),O=v("div");for(let _=0;_<E.length;_+=1)E[_].c();this.h()},l(_){e=g(_,"DIV",{});var H=$(e);l=g(H,"H2",{});var I=$(l);t=w(I,"Generator"),I.forEach(d),o=T(H),r=g(H,"BUTTON",{});var j=$(r);s=w(j,"Delete games"),j.forEach(d),i=T(H),a=g(H,"BUTTON",{});var fe=$(a);c=w(fe,"Create game"),fe.forEach(d),u=T(H),h=g(H,"DIV",{});var ee=$(h);p=g(ee,"LABEL",{for:!0});var ue=$(p);B=w(ue,"AI type"),ue.forEach(d),L=T(ee),k=g(ee,"SELECT",{id:!0});var de=$(k);for(let ae=0;ae<A.length;ae+=1)A[ae].l(de);de.forEach(d),b=T(ee),m=g(ee,"LABEL",{for:!0});var ce=$(m);P=w(ce,"AI type"),ce.forEach(d),F=T(ee),N=g(ee,"SELECT",{id:!0});var be=$(N);for(let ae=0;ae<G.length;ae+=1)G[ae].l(be);be.forEach(d),ee.forEach(d),M=T(H),O=g(H,"DIV",{});var ve=$(O);for(let ae=0;ae<E.length;ae+=1)E[ae].l(ve);ve.forEach(d),H.forEach(d),this.h()},h(){J(p,"for","aiType"),J(k,"id","aiType"),n[1]===void 0&&ht(()=>n[5].call(k)),J(m,"for","aiType"),J(N,"id","aiType"),n[2]===void 0&&ht(()=>n[6].call(N))},m(_,H){D(_,e,H),f(e,l),f(l,t),f(e,o),f(e,r),f(r,s),f(e,i),f(e,a),f(a,c),f(e,u),f(e,h),f(h,p),f(p,B),f(h,L),f(h,k);for(let I=0;I<A.length;I+=1)A[I].m(k,null);Ge(k,n[1]),f(h,b),f(h,m),f(m,P),f(h,F),f(h,N);for(let I=0;I<G.length;I+=1)G[I].m(N,null);Ge(N,n[2]),f(e,M),f(e,O);for(let I=0;I<E.length;I+=1)E[I].m(O,null);K=!0,x||(te=[he(r,"click",n[4]),he(a,"click",n[3]),he(k,"change",n[5]),he(N,"change",n[6])],x=!0)},p(_,[H]){if(H&0){Y=Object.keys(Me);let I;for(I=0;I<Y.length;I+=1){const j=jt(_,Y,I);A[I]?A[I].p(j,H):(A[I]=zt(j),A[I].c(),A[I].m(k,null))}for(;I<A.length;I+=1)A[I].d(1);A.length=Y.length}if(H&2&&Ge(k,_[1]),H&0){Z=Object.keys(Me);let I;for(I=0;I<Z.length;I+=1){const j=Xt(_,Z,I);G[I]?G[I].p(j,H):(G[I]=Yt(j),G[I].c(),G[I].m(N,null))}for(;I<G.length;I+=1)G[I].d(1);G.length=Z.length}if(H&4&&Ge(N,_[2]),H&1){S=_[0];let I;for(I=0;I<S.length;I+=1){const j=Ut(_,S,I);E[I]?(E[I].p(j,H),V(E[I],1)):(E[I]=qt(j),E[I].c(),V(E[I],1),E[I].m(O,null))}for(Be(),I=S.length;I<E.length;I+=1)X(I);Oe()}},i(_){if(!K){for(let H=0;H<S.length;H+=1)V(E[H]);K=!0}},o(_){E=E.filter(Boolean);for(let H=0;H<E.length;H+=1)W(E[H]);K=!1},d(_){_&&d(e),Je(A,_),Je(G,_),Je(E,_),x=!1,bt(te)}}}function cl(n,e,l){let t=[],o="random",r="hardcodedRulesComplete";const s=()=>{const u=nn();for(;u.state==="not_over";)qe(u,z.player,o),qe(u,z.computer,r);l(0,t=[u,...t])},i=()=>{l(0,t=[])};function a(){o=_t(this),l(1,o)}function c(){r=_t(this),l(2,r)}return[t,o,r,s,i,a,c]}class fl extends _e{constructor(e){super(),pe(this,e,cl,il,me,{})}}function ul(n){let e,l,t,o,r,s,i,a,c,u,h,p,B,L,k,b,m,P,F,N,M,O,K,x,te,Y,A,Z,G;return r=new Zt({props:{sketch:n[6]}}),Y=new on({props:{board:n[1],lastMove:n[3]}}),{c(){e=v("h2"),l=y("Analyzer"),t=C(),o=v("div"),ne(r.$$.fragment),s=C(),i=v("div"),a=v("h4"),c=y("Controls"),u=C(),h=v("button"),p=y("Play O"),L=C(),k=v("button"),b=y("Play X"),P=C(),F=v("button"),N=y("Previous"),O=C(),K=v("button"),x=y("Reset"),te=C(),ne(Y.$$.fragment),this.h()},l(S){e=g(S,"H2",{});var E=$(e);l=w(E,"Analyzer"),E.forEach(d),t=T(S),o=g(S,"DIV",{});var X=$(o);le(r.$$.fragment,X),s=T(X),i=g(X,"DIV",{});var _=$(i);a=g(_,"H4",{});var H=$(a);c=w(H,"Controls"),H.forEach(d),u=T(_),h=g(_,"BUTTON",{});var I=$(h);p=w(I,"Play O"),I.forEach(d),L=T(_),k=g(_,"BUTTON",{});var j=$(k);b=w(j,"Play X"),j.forEach(d),P=T(_),F=g(_,"BUTTON",{});var fe=$(F);N=w(fe,"Previous"),fe.forEach(d),O=T(_),K=g(_,"BUTTON",{});var ee=$(K);x=w(ee,"Reset"),ee.forEach(d),_.forEach(d),te=T(X),le(Y.$$.fragment,X),X.forEach(d),this.h()},h(){h.disabled=B=n[2]===z.player,k.disabled=m=n[2]===z.computer,F.disabled=M=(n[0]||[]).length<2},m(S,E){D(S,e,E),f(e,l),D(S,t,E),D(S,o,E),oe(r,o,null),f(o,s),f(o,i),f(i,a),f(a,c),f(i,u),f(i,h),f(h,p),f(i,L),f(i,k),f(k,b),f(i,P),f(i,F),f(F,N),f(i,O),f(i,K),f(K,x),f(o,te),oe(Y,o,null),A=!0,Z||(G=[he(h,"click",n[7]),he(k,"click",n[8]),he(F,"click",n[5]),he(K,"click",n[4])],Z=!0)},p(S,[E]){(!A||E&4&&B!==(B=S[2]===z.player))&&(h.disabled=B),(!A||E&4&&m!==(m=S[2]===z.computer))&&(k.disabled=m),(!A||E&1&&M!==(M=(S[0]||[]).length<2))&&(F.disabled=M);const X={};E&2&&(X.board=S[1]),E&8&&(X.lastMove=S[3]),Y.$set(X)},i(S){A||(V(r.$$.fragment,S),V(Y.$$.fragment,S),A=!0)},o(S){W(r.$$.fragment,S),W(Y.$$.fragment,S),A=!1},d(S){S&&d(e),S&&d(t),S&&d(o),re(r),re(Y),Z=!1,bt(G)}}}function dl(n,e,l){let t,o,r,s=z.player,i;function a(k,b){Qe(r,k,Se(b)),l(3,i=b),l(1,r),o.push({...r}),l(0,o),c()}function c(){l(2,s=s===z.player?z.computer:z.player)}function u(){l(1,r=en()),l(0,o=[{...r}]),l(3,i={x:-1,y:-1})}function h(){o.length<=1||(o.pop(),l(0,o),l(1,r={...o[o.length-1]}))}const p=k=>{k.setup=()=>{t=k,k.createCanvas(400,400),u()},k.draw=()=>{k.background(0),gt(k,r,{drawSelection:!0,selection:ot(k),currentPlayer:s})},k.mousePressed=()=>{if(k.mouseX<0||k.mouseX>k.width||k.mouseY<0||k.mouseY>k.height)return;const b=ot(k);a(s,b)}};return $t(()=>{t==null||t.remove()}),[o,r,s,i,u,h,p,()=>l(2,s=z.player),()=>l(2,s=z.computer)]}class hl extends _e{constructor(e){super(),pe(this,e,dl,ul,me,{})}}function _l(n){let e;return{c(){e=y("Game")},l(l){e=w(l,"Game")},m(l,t){D(l,e,t)},d(l){l&&d(e)}}}function pl(n){let e;return{c(){e=y("Generator")},l(l){e=w(l,"Generator")},m(l,t){D(l,e,t)},d(l){l&&d(e)}}}function ml(n){let e;return{c(){e=y("Analyzer")},l(l){e=w(l,"Analyzer")},m(l,t){D(l,e,t)},d(l){l&&d(e)}}}function vl(n){let e,l,t,o,r,s;return e=new ft({props:{$$slots:{default:[_l]},$$scope:{ctx:n}}}),t=new ft({props:{$$slots:{default:[pl]},$$scope:{ctx:n}}}),r=new ft({props:{$$slots:{default:[ml]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment),l=C(),ne(t.$$.fragment),o=C(),ne(r.$$.fragment)},l(i){le(e.$$.fragment,i),l=T(i),le(t.$$.fragment,i),o=T(i),le(r.$$.fragment,i)},m(i,a){oe(e,i,a),D(i,l,a),oe(t,i,a),D(i,o,a),oe(r,i,a),s=!0},p(i,a){const c={};a&1&&(c.$$scope={dirty:a,ctx:i}),e.$set(c);const u={};a&1&&(u.$$scope={dirty:a,ctx:i}),t.$set(u);const h={};a&1&&(h.$$scope={dirty:a,ctx:i}),r.$set(h)},i(i){s||(V(e.$$.fragment,i),V(t.$$.fragment,i),V(r.$$.fragment,i),s=!0)},o(i){W(e.$$.fragment,i),W(t.$$.fragment,i),W(r.$$.fragment,i),s=!1},d(i){re(e,i),i&&d(l),re(t,i),i&&d(o),re(r,i)}}}function gl(n){let e,l;return e=new al({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function $l(n){let e,l;return e=new fl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function bl(n){let e,l;return e=new hl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function kl(n){let e,l,t,o,r,s,i,a;return e=new kn({props:{$$slots:{default:[vl]},$$scope:{ctx:n}}}),t=new ut({props:{$$slots:{default:[gl]},$$scope:{ctx:n}}}),r=new ut({props:{$$slots:{default:[$l]},$$scope:{ctx:n}}}),i=new ut({props:{$$slots:{default:[bl]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment),l=C(),ne(t.$$.fragment),o=C(),ne(r.$$.fragment),s=C(),ne(i.$$.fragment)},l(c){le(e.$$.fragment,c),l=T(c),le(t.$$.fragment,c),o=T(c),le(r.$$.fragment,c),s=T(c),le(i.$$.fragment,c)},m(c,u){oe(e,c,u),D(c,l,u),oe(t,c,u),D(c,o,u),oe(r,c,u),D(c,s,u),oe(i,c,u),a=!0},p(c,u){const h={};u&1&&(h.$$scope={dirty:u,ctx:c}),e.$set(h);const p={};u&1&&(p.$$scope={dirty:u,ctx:c}),t.$set(p);const B={};u&1&&(B.$$scope={dirty:u,ctx:c}),r.$set(B);const L={};u&1&&(L.$$scope={dirty:u,ctx:c}),i.$set(L)},i(c){a||(V(e.$$.fragment,c),V(t.$$.fragment,c),V(r.$$.fragment,c),V(i.$$.fragment,c),a=!0)},o(c){W(e.$$.fragment,c),W(t.$$.fragment,c),W(r.$$.fragment,c),W(i.$$.fragment,c),a=!1},d(c){re(e,c),c&&d(l),re(t,c),c&&d(o),re(r,c),c&&d(s),re(i,c)}}}function El(n){let e,l;return e=new mn({props:{$$slots:{default:[kl]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p(t,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}class Pl extends _e{constructor(e){super(),pe(this,e,null,El,me,{})}}function yl(n){let e,l;return e=new Pl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p:ke,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}class Cl extends _e{constructor(e){super(),pe(this,e,null,yl,me,{})}}export{Cl as default};
