import{S as $e,i as ke,s as Ee,C as rt,k as p,l as m,m as v,h as _,n as J,b as G,N as be,E as st,F as at,G as it,f as V,t as F,H as Ke,a0 as _n,o as en,j as hn,W as bt,I as Nt,a1 as tn,A as dn,$ as pn,g as Oe,d as He,q as P,a as C,r as y,c as N,D as f,B as we,u as ie,w as fe,x as ce,y as ue,z as _e,e as xe,J as Re,K as ht,M as Le,P as $t,Q as dt,L as At,O as nn}from"../../../chunks/index-1d785069.js";import{w as Ze}from"../../../chunks/index-c5a64178.js";import{P as ln}from"../../../chunks/P5-76a6b36f.js";let mn=1;function on(){return`svelte-tabs-${mn++}`}function vn(n){let e,l,t,o;const r=n[4].default,s=rt(r,n,n[3],null);return{c(){e=p("div"),s&&s.c(),this.h()},l(i){e=m(i,"DIV",{class:!0});var a=v(e);s&&s.l(a),a.forEach(_),this.h()},h(){J(e,"class","svelte-tabs")},m(i,a){G(i,e,a),s&&s.m(e,null),l=!0,t||(o=be(e,"keydown",n[1]),t=!0)},p(i,[a]){s&&s.p&&(!l||a&8)&&st(s,r,i,i[3],l?it(r,i[3],a,null):at(i[3]),null)},i(i){l||(V(s,i),l=!0)},o(i){F(s,i),l=!1},d(i){i&&_(e),s&&s.d(i),t=!1,o()}}}const kt={};function gn(n,e,l){const t=n.indexOf(e);n.splice(t,1),l.update(o=>o===e?n[t]||n[n.length-1]:o)}function bn(n,e,l){let t,{$$slots:o={},$$scope:r}=e,{initialSelectedIndex:s=0}=e;const i=[],a=[],c=[],u=Ze({}),h=Ze({}),E=Ze(null);Ke(n,E,b=>l(5,t=b));const S=Ze(null);function w(b,k,D){b.push(k),D.update(B=>B||k),bt(()=>gn(b,k,D))}function g(b){const k=a.indexOf(b);E.set(b),S.set(c[k])}_n(kt,{registerTab(b){w(a,b,E)},registerTabElement(b){i.push(b)},registerPanel(b){w(c,b,S)},selectTab:g,selectedTab:E,selectedPanel:S,controls:u,labeledBy:h}),en(()=>{g(a[s])}),hn(()=>{for(let b=0;b<a.length;b++)u.update(k=>({...k,[a[b].id]:c[b].id})),h.update(k=>({...k,[c[b].id]:a[b].id}))});async function d(b){if(b.target.classList.contains("svelte-tabs__tab")){let k=a.indexOf(t);switch(b.key){case"ArrowRight":k+=1,k>a.length-1&&(k=0),g(a[k]),i[k].focus();break;case"ArrowLeft":k-=1,k<0&&(k=a.length-1),g(a[k]),i[k].focus()}}}return n.$$set=b=>{"initialSelectedIndex"in b&&l(2,s=b.initialSelectedIndex),"$$scope"in b&&l(3,r=b.$$scope)},[E,d,s,r,o]}class $n extends $e{constructor(e){super(),ke(this,e,bn,vn,Ee,{initialSelectedIndex:2})}}function kn(n){let e,l,t,o,r,s;const i=n[9].default,a=rt(i,n,n[8],null);return{c(){e=p("li"),a&&a.c(),this.h()},l(c){e=m(c,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var u=v(e);a&&a.l(u),u.forEach(_),this.h()},h(){J(e,"role","tab"),J(e,"id",n[3].id),J(e,"aria-controls",l=n[2][n[3].id]),J(e,"aria-selected",n[1]),J(e,"tabindex",t=n[1]?0:-1),J(e,"class","svelte-tabs__tab svelte-1fbofsd"),Nt(e,"svelte-tabs__selected",n[1])},m(c,u){G(c,e,u),a&&a.m(e,null),n[10](e),o=!0,r||(s=be(e,"click",n[11]),r=!0)},p(c,[u]){a&&a.p&&(!o||u&256)&&st(a,i,c,c[8],o?it(i,c[8],u,null):at(c[8]),null),(!o||u&4&&l!==(l=c[2][c[3].id]))&&J(e,"aria-controls",l),(!o||u&2)&&J(e,"aria-selected",c[1]),(!o||u&2&&t!==(t=c[1]?0:-1))&&J(e,"tabindex",t),(!o||u&2)&&Nt(e,"svelte-tabs__selected",c[1])},i(c){o||(V(a,c),o=!0)},o(c){F(a,c),o=!1},d(c){c&&_(e),a&&a.d(c),n[10](null),r=!1,s()}}}function En(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e,i;const a={id:on()},{registerTab:c,registerTabElement:u,selectTab:h,selectedTab:E,controls:S}=tn(kt);Ke(n,E,b=>l(7,t=b)),Ke(n,S,b=>l(2,o=b));let w;c(a),en(async()=>{await dn(),u(i)});function g(b){pn[b?"unshift":"push"](()=>{i=b,l(0,i)})}const d=()=>h(a);return n.$$set=b=>{"$$scope"in b&&l(8,s=b.$$scope)},n.$$.update=()=>{n.$$.dirty&128&&l(1,w=t===a)},[i,w,o,a,h,E,S,t,s,r,g,d]}class ct extends $e{constructor(e){super(),ke(this,e,En,kn,Ee,{})}}function Pn(n){let e,l;const t=n[1].default,o=rt(t,n,n[0],null);return{c(){e=p("ul"),o&&o.c(),this.h()},l(r){e=m(r,"UL",{role:!0,class:!0});var s=v(e);o&&o.l(s),s.forEach(_),this.h()},h(){J(e,"role","tablist"),J(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,s){G(r,e,s),o&&o.m(e,null),l=!0},p(r,[s]){o&&o.p&&(!l||s&1)&&st(o,t,r,r[0],l?it(t,r[0],s,null):at(r[0]),null)},i(r){l||(V(o,r),l=!0)},o(r){F(o,r),l=!1},d(r){r&&_(e),o&&o.d(r)}}}function yn(n,e,l){let{$$slots:t={},$$scope:o}=e;return n.$$set=r=>{"$$scope"in r&&l(0,o=r.$$scope)},[o,t]}class wn extends $e{constructor(e){super(),ke(this,e,yn,Pn,Ee,{})}}function Mt(n){let e;const l=n[6].default,t=rt(l,n,n[5],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&32)&&st(t,l,o,o[5],e?it(l,o[5],r,null):at(o[5]),null)},i(o){e||(V(t,o),e=!0)},o(o){F(t,o),e=!1},d(o){t&&t.d(o)}}}function Sn(n){let e,l,t,o=n[1]===n[2]&&Mt(n);return{c(){e=p("div"),o&&o.c(),this.h()},l(r){e=m(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=v(e);o&&o.l(s),s.forEach(_),this.h()},h(){J(e,"id",n[2].id),J(e,"aria-labelledby",l=n[0][n[2].id]),J(e,"class","svelte-tabs__tab-panel svelte-epfyet"),J(e,"role","tabpanel")},m(r,s){G(r,e,s),o&&o.m(e,null),t=!0},p(r,[s]){r[1]===r[2]?o?(o.p(r,s),s&2&&V(o,1)):(o=Mt(r),o.c(),V(o,1),o.m(e,null)):o&&(Oe(),F(o,1,1,()=>{o=null}),He()),(!t||s&1&&l!==(l=r[0][r[2].id]))&&J(e,"aria-labelledby",l)},i(r){t||(V(o),t=!0)},o(r){F(o),t=!1},d(r){r&&_(e),o&&o.d()}}}function In(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e;const i={id:on()},{registerPanel:a,selectedPanel:c,labeledBy:u}=tn(kt);return Ke(n,c,h=>l(1,o=h)),Ke(n,u,h=>l(0,t=h)),a(i),n.$$set=h=>{"$$scope"in h&&l(5,s=h.$$scope)},[t,o,i,c,u,s,r]}class ut extends $e{constructor(e){super(),ke(this,e,In,Sn,Ee,{})}}function Ne(n){const{x:e,y:l}=n;if(e<0||e>2||l<0||l>2)throw new Error(`Invalid coords (${e},${l})`);return 8-(3*l+e)}function Et(n){if(n<0||n>8)throw new Error("Invalid index ${i}");return{x:2-n%3,y:2-Math.floor(n/3)}}const Cn=[448,56,7,292,146,73,273,84],Nn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],An=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],Mn=[{p:2,o:5},{p:2,o:144}],Ge=(n,e)=>(n&e)===e;function Tt(n){let e=n,l=0;for(;e;)l+=e&1,e>>=1;return l}function Bt(n,e){const l=Ne(e);return z(n,l)}function z(n,e){return!(n&1<<e)}function pt(n,e){return n+2**e}const mt=n=>{for(const e of Cn)if(Ge(n,e))return!0;return!1};var q=(n=>(n[n.player=1]="player",n[n.computer=2]="computer",n))(q||{});function rn(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Te(n,e){return e===q.player?n.player:n.computer}function Be(n,e){return e===q.player?n.computer:n.player}function et(n,e){if(!e&&!Tn(n))return"invalid_board";const l=mt(n.player),t=mt(n.computer);return l&&t?"draw":l?"player_win":t?"computer_win":On(n)?"not_over":"over"}function Qe(n,e,l){if(!Bn(n,l))throw new Error(`Impossible move. player: ${n==null?void 0:n.player}, computer: ${n==null?void 0:n.computer}, index ${l} `);e===q.player?n.player=pt(n.player,l):n.computer=pt(n.computer,l)}function Tn(n){if(n.player&n.computer)return!1;const e=Tt(n.player),l=Tt(n.computer);return!(Math.abs(e-l)>1)}function Bn(n,e){return z(n.player,e)&&z(n.computer,e)}function On(n){return(n.player|n.computer)!==511}function Pt(n){let e=n.player|n.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const l=[];let t=0;for(;t<9;)e&1||l.push(t),t++,e>>=1;return l}const Hn=[2,5,8,1,4,7,0,3,6];function Ot(n){let e=0;return Hn.forEach((l,t)=>{z(n,t)||(e=pt(e,l))}),e}function tt(n,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...n};e=e%4;const l={...n};for(let t=0;t<e;t++)l.player=Ot(l.player),l.computer=Ot(l.computer);return l}function Me(n,e){const l=Te(n,e);return mt(l)}function yt(n){return(n==null?void 0:n.y)===1&&(n==null?void 0:n.x)===1}function nt(n,e,l){const t=Ne(l),o=Te(n,e),r=Be(n,e);if(t===4){const s=z(r,5)&&!z(o,3)||!z(o,5)&&z(r,3)?1:0,i=z(r,7)&&!z(o,1)||!z(o,7)&&z(r,1)?1:0,a=z(r,8)&&!z(o,0)||!z(o,8)&&z(r,0)?1:0,c=z(r,6)&&!z(o,2)||!z(o,6)&&z(r,2)?1:0;return s+i+a+c>=2}if(ft.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,i=tt(n,s),a=Te(i,e),c=Be(i,e),u=z(c,2)&&!z(a,1)||!z(a,2)&&z(c,1),h=z(c,6)&&!z(a,3)||!z(a,6)&&z(c,3);return u&&h}if(wt.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,i=tt(n,s),a=Te(i,e),c=Be(i,e),u=z(c,2)&&!z(a,0)||!z(a,2)&&z(c,0),h=z(c,7)&&!z(a,4)||!z(a,7)&&z(c,4);return u&&h}return!1}function vt(n,e,l){const t=Te(n,e),r={player:Be(n,e),computer:t};return nt(r,q.player,l)}function We(n,e,l){const t=Ne(l),o=Te(n,e),r=Be(n,e);if(t===4){for(const{o:s,p:i}of Nn)if(Ge(o,i)&&Ge(r,s))return!0}if(ft.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,i=tt(n,s),a=Te(i,e),c=Be(i,e);for(const{o:u,p:h}of An)if(Ge(a,h)&&Ge(c,u))return!0}if(wt.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,i=tt(n,s),a=Te(i,e),c=Be(i,e);for(const{o:u,p:h}of Mn)if(Ge(a,h)&&Ge(c,u))return!0}return!1}const ft=new Set([0,2,6,8]),wt=new Set([1,3,5,7]);function lt(n,e,l){const t=Ne(l);if(!ft.has(t))return!1;const o=8-t,r=Be(n,e);return!z(r,o)}function St(n){const e=Ne(n);return ft.has(e)}function sn(n){const e=Ne(n);return wt.has(e)}function Gn(n,e){const l=Pt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=Et(o);Qe(r,e,o);const i=Dn(r,e,s);i.score>((t==null?void 0:t.score)??-1)&&(t=i)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Dn(n,e,l){return Me(n,e)?{score:8,reason:"win",move:l}:We(n,e,l)?{score:7,reason:"block_opponent",move:l}:nt(n,e,l)?{score:6,reason:"create_fork",move:l}:vt(n,e,l)?{score:5,reason:"block_opponent_fork",move:l}:yt(l)?{score:4,reason:"take_center",move:l}:lt(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:St(l)?{score:2,reason:"take_corner",move:l}:sn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Vn(n,e){const l=Pt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=Et(o);Qe(r,e,o);const i=Rn(r,e,s);i.score>((t==null?void 0:t.score)??-1)&&(t=i)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Rn(n,e,l){return Me(n,q.player)?{score:8,reason:"win",move:l}:We(n,e,l)?{score:7,reason:"block_opponent",move:l}:yt(l)?{score:4,reason:"take_center",move:l}:lt(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:St(l)?{score:2,reason:"take_corner",move:l}:sn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Ln(n){const e=Pt(n);if(e.length===0)throw new Error("No available moves");const l=Math.floor(Math.random()*e.length),t=e[l];return{score:0,reason:"random",move:Et(t)}}const De={random:Ln,hardcodedRules:Vn,hardcodedRulesComplete:Gn},an=n=>({board:rn(),currentPlayer:n??q.player,state:"not_over",moveHistory:[]});function fn(n){n.currentPlayer=n.currentPlayer===q.player?q.computer:q.player}const Wn=(n,e,l)=>{n.state==="not_over"&&(Qe(n.board,e,Ne(l)),n.state=et(n.board),n.moveHistory.push({board:{...n.board},moveCoord:l,player:e,method:"manual"}),fn(n))},qe=(n,e,l)=>{if(n.state!=="not_over")return;const t=De[l],o=t(n.board,e);Qe(n.board,e,Ne(o.move)),n.state=et(n.board),n.moveHistory.push({board:{...n.board},moveCoord:o.move,player:e,method:l,aiChoice:o}),fn(n)},Fn="#FF0000",Un="#64ccfc";function gt(n,e,l){var u;const t=n.width/3,o=n.height/3,{height:r,width:s}=n,{drawSelection:i,selection:a,currentPlayer:c}=l||{};n.rectMode(n.CENTER),n.noFill(),n.stroke(255),n.strokeWeight(1),n.line(t,0,t,r),n.line(t*2,0,t*2,r),n.line(0,o,s,o),n.line(0,o*2,s,o*2),n.stroke(155),n.strokeWeight(3),n.rect(n.width/2,n.height/2,n.width,n.height),n.strokeWeight(4);for(let h=0;h<3;h++)for(let E=0;E<3;E++)((u=l==null?void 0:l.highlightCell)==null?void 0:u.x)===E&&(l==null?void 0:l.highlightCell.y)===h&&(n.noStroke(),n.fill(30,250,80,80),n.rect(E*t+t/2,h*o+o/2,t*.95,o*.95),n.noFill()),(!Bt(e.player,{x:E,y:h})||i&&c===q.player&&(a==null?void 0:a.x)===E&&(a==null?void 0:a.y)===h)&&(n.stroke(Un),n.circle(E*t+t/2,h*o+o/2,o/2)),(!Bt(e.computer,{x:E,y:h})||i&&c===q.computer&&(a==null?void 0:a.x)===E&&(a==null?void 0:a.y)===h)&&(n.stroke(Fn),n.line(E*t+t*.3,h*o+o*.3,E*t+t*.7,h*o+o*.7),n.line(E*t+t*.7,h*o+o*.3,E*t+t*.3,h*o+o*.7))}function ot(n){const{mouseX:e,mouseY:l,width:t,height:o}=n,r=Math.floor(n.map(e,0,t,0,3)),s=Math.floor(n.map(l,0,o,0,3));return{x:r,y:s}}function Ht(n){let e,l,t,o,r,s=et(n[0])+"",i,a,c,u,h,E,S,w,g,d,b=n[0].player.toString(2).padStart(9,"0")+"",k,D,B,O=n[0].player+"",M,L,Z,x,K,W=Me(n[0],q.player)?"✅":"❌",re,Q,A,T,X,H,se,ne,ee,le,he=n[0].computer.toString(2).padStart(9,"0")+"",oe,me,j,Se=n[0].computer+"",I,U,$,ae,ve,Pe=Me(n[0],q.computer)?"✅":"❌",Ie;return{c(){e=p("div"),l=p("span"),t=P("State:"),o=C(),r=p("span"),i=P(s),a=C(),c=p("div"),u=p("span"),h=P("Player 1"),E=p("span"),S=P("Player, O"),w=C(),g=p("span"),d=P("0b"),k=P(b),D=C(),B=p("span"),M=P(O),L=C(),Z=p("span"),x=P("Wins"),K=p("span"),re=P(W),Q=C(),A=p("div"),T=p("span"),X=P("Player 2"),H=p("span"),se=P("Computer, X"),ne=C(),ee=p("span"),le=P("0b"),oe=P(he),me=C(),j=p("span"),I=P(Se),U=C(),$=p("span"),ae=P("Wins"),ve=p("span"),Ie=P(Pe),this.h()},l(pe){e=m(pe,"DIV",{class:!0});var te=v(e);l=m(te,"SPAN",{});var Y=v(l);t=y(Y,"State:"),Y.forEach(_),o=N(te),r=m(te,"SPAN",{});var R=v(r);i=y(R,s),R.forEach(_),a=N(te),c=m(te,"DIV",{class:!0});var ge=v(c);u=m(ge,"SPAN",{});var Ce=v(u);h=y(Ce,"Player 1"),Ce.forEach(_),E=m(ge,"SPAN",{});var Ae=v(E);S=y(Ae,"Player, O"),Ae.forEach(_),w=N(ge),g=m(ge,"SPAN",{});var de=v(g);d=y(de,"0b"),k=y(de,b),de.forEach(_),D=N(ge),B=m(ge,"SPAN",{});var Fe=v(B);M=y(Fe,O),Fe.forEach(_),L=N(ge),Z=m(ge,"SPAN",{});var Ue=v(Z);x=y(Ue,"Wins"),Ue.forEach(_),K=m(ge,"SPAN",{});var Xe=v(K);re=y(Xe,W),Xe.forEach(_),ge.forEach(_),Q=N(te),A=m(te,"DIV",{class:!0});var ye=v(A);T=m(ye,"SPAN",{});var je=v(T);X=y(je,"Player 2"),je.forEach(_),H=m(ye,"SPAN",{});var ze=v(H);se=y(ze,"Computer, X"),ze.forEach(_),ne=N(ye),ee=m(ye,"SPAN",{});var Ve=v(ee);le=y(Ve,"0b"),oe=y(Ve,he),Ve.forEach(_),me=N(ye),j=m(ye,"SPAN",{});var Ye=v(j);I=y(Ye,Se),Ye.forEach(_),U=N(ye),$=m(ye,"SPAN",{});var Je=v($);ae=y(Je,"Wins"),Je.forEach(_),ve=m(ye,"SPAN",{});var Ct=v(ve);Ie=y(Ct,Pe),Ct.forEach(_),ye.forEach(_),te.forEach(_),this.h()},h(){J(c,"class","grid2cols svelte-1lw5ne4"),J(A,"class","grid2cols svelte-1lw5ne4"),J(e,"class","grid2cols svelte-1lw5ne4")},m(pe,te){G(pe,e,te),f(e,l),f(l,t),f(e,o),f(e,r),f(r,i),f(e,a),f(e,c),f(c,u),f(u,h),f(c,E),f(E,S),f(c,w),f(c,g),f(g,d),f(g,k),f(c,D),f(c,B),f(B,M),f(c,L),f(c,Z),f(Z,x),f(c,K),f(K,re),f(e,Q),f(e,A),f(A,T),f(T,X),f(A,H),f(H,se),f(A,ne),f(A,ee),f(ee,le),f(ee,oe),f(A,me),f(A,j),f(j,I),f(A,U),f(A,$),f($,ae),f(A,ve),f(ve,Ie)},p(pe,te){te&1&&s!==(s=et(pe[0])+"")&&ie(i,s),te&1&&b!==(b=pe[0].player.toString(2).padStart(9,"0")+"")&&ie(k,b),te&1&&O!==(O=pe[0].player+"")&&ie(M,O),te&1&&W!==(W=Me(pe[0],q.player)?"✅":"❌")&&ie(re,W),te&1&&he!==(he=pe[0].computer.toString(2).padStart(9,"0")+"")&&ie(oe,he),te&1&&Se!==(Se=pe[0].computer+"")&&ie(I,Se),te&1&&Pe!==(Pe=Me(pe[0],q.computer)?"✅":"❌")&&ie(Ie,Pe)},d(pe){pe&&_(e)}}}function Xn(n){let e,l,t,o,r=n[0]&&Ht(n);return{c(){e=p("div"),l=p("h4"),t=P("Board info"),o=C(),r&&r.c()},l(s){e=m(s,"DIV",{});var i=v(e);l=m(i,"H4",{});var a=v(l);t=y(a,"Board info"),a.forEach(_),o=N(i),r&&r.l(i),i.forEach(_)},m(s,i){G(s,e,i),f(e,l),f(l,t),f(e,o),r&&r.m(e,null)},p(s,[i]){s[0]?r?r.p(s,i):(r=Ht(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:we,o:we,d(s){s&&_(e),r&&r.d()}}}function jn(n,e,l){let{board:t}=e;return n.$$set=o=>{"board"in o&&l(0,t=o.board)},[t]}class cn extends $e{constructor(e){super(),ke(this,e,jn,Xn,Ee,{board:0})}}function zn(n){let e,l,t=JSON.stringify(n[0])+"",o;return{c(){e=p("p"),l=P("Board is undefined "),o=P(t)},l(r){e=m(r,"P",{});var s=v(e);l=y(s,"Board is undefined "),o=y(s,t),s.forEach(_)},m(r,s){G(r,e,s),f(e,l),f(e,o)},p(r,s){s&1&&t!==(t=JSON.stringify(r[0])+"")&&ie(o,t)},i:we,o:we,d(r){r&&_(e)}}}function Yn(n){let e,l;return e=new ln({props:{sketch:n[1]}}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},p:we,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function Jn(n){let e,l,t,o;const r=[Yn,zn],s=[];function i(a,c){return a[0]?0:1}return l=i(n),t=s[l]=r[l](n),{c(){e=p("div"),t.c()},l(a){e=m(a,"DIV",{});var c=v(e);t.l(c),c.forEach(_)},m(a,c){G(a,e,c),s[l].m(e,null),o=!0},p(a,[c]){let u=l;l=i(a),l===u?s[l].p(a,c):(Oe(),F(s[u],1,1,()=>{s[u]=null}),He(),t=s[l],t?t.p(a,c):(t=s[l]=r[l](a),t.c()),V(t,1),t.m(e,null))},i(a){o||(V(t),o=!0)},o(a){F(t),o=!1},d(a){a&&_(e),s[l].d()}}}function qn(n,e,l){let{dimensionPx:t}=e,{board:o}=e,{highlightCell:r=void 0}=e,{highlightMouse:s=!1}=e,{onClick:i=()=>{}}=e,a;const c=u=>{u.setup=()=>{a=u,u.createCanvas(t.width,t.height)},u.draw=()=>{u.background(0),s?gt(u,o,{highlightCell:ot(u)}):gt(u,o,{highlightCell:r})},u.mousePressed=()=>{u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height||i("manual",ot(u))}};return bt(()=>{a==null||a.remove()}),n.$$set=u=>{"dimensionPx"in u&&l(2,t=u.dimensionPx),"board"in u&&l(0,o=u.board),"highlightCell"in u&&l(3,r=u.highlightCell),"highlightMouse"in u&&l(4,s=u.highlightMouse),"onClick"in u&&l(5,i=u.onClick)},[o,c,t,r,s,i]}class It extends $e{constructor(e){super(),ke(this,e,qn,Jn,Ee,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function _t(n){const e=n.slice(),l=e[0];return e[1]=l.moveCoord,e[2]=l.player,e[3]=l.board,e}function Gt(n){let e,l,t,o,r,s,i,a,c,u,h,E=Me(n[3],n[2])?"✅":"❌",S,w,g,d,b,k,D=We(n[3],n[2],n[1])?"✅":"❌",B,O,M,L,Z,x,K=nt(n[3],n[2],n[1])?"✅":"❌",W,re,Q,A,T,X,H=vt(n[3],n[2],n[1])?"✅":"❌",se,ne,ee,le,he,oe,me=lt(n[3],n[2],n[1])?"✅":"❌",j,Se,I,U,$,ae,ve=We(n[3],n[2],n[1])?"✅":"❌",Pe;function Ie(Y,R){return R&1&&(r=null),R&1&&(s=null),r==null&&(r=!!yt(Y[1])),r?Zn:(s==null&&(s=!!St(Y[1])),s?Qn:Kn)}let pe=Ie(n,-1),te=pe(n);return{c(){e=p("div"),l=p("span"),t=P("Position"),o=C(),te.c(),i=C(),a=p("span"),c=P("Player win"),u=C(),h=p("span"),S=P(E),w=C(),g=p("span"),d=P("Move blocks opponent"),b=C(),k=p("span"),B=P(D),O=C(),M=p("span"),L=P("Move creates fork"),Z=C(),x=p("span"),W=P(K),re=C(),Q=p("span"),A=P("Move blocks opponent's fork"),T=C(),X=p("span"),se=P(H),ne=C(),ee=p("span"),le=P("Took opposite corner"),he=C(),oe=p("span"),j=P(me),Se=C(),I=p("span"),U=P("Last move blocks opponent"),$=C(),ae=p("span"),Pe=P(ve),this.h()},l(Y){e=m(Y,"DIV",{class:!0});var R=v(e);l=m(R,"SPAN",{});var ge=v(l);t=y(ge,"Position"),ge.forEach(_),o=N(R),te.l(R),i=N(R),a=m(R,"SPAN",{});var Ce=v(a);c=y(Ce,"Player win"),Ce.forEach(_),u=N(R),h=m(R,"SPAN",{});var Ae=v(h);S=y(Ae,E),Ae.forEach(_),w=N(R),g=m(R,"SPAN",{});var de=v(g);d=y(de,"Move blocks opponent"),de.forEach(_),b=N(R),k=m(R,"SPAN",{});var Fe=v(k);B=y(Fe,D),Fe.forEach(_),O=N(R),M=m(R,"SPAN",{});var Ue=v(M);L=y(Ue,"Move creates fork"),Ue.forEach(_),Z=N(R),x=m(R,"SPAN",{});var Xe=v(x);W=y(Xe,K),Xe.forEach(_),re=N(R),Q=m(R,"SPAN",{});var ye=v(Q);A=y(ye,"Move blocks opponent's fork"),ye.forEach(_),T=N(R),X=m(R,"SPAN",{});var je=v(X);se=y(je,H),je.forEach(_),ne=N(R),ee=m(R,"SPAN",{});var ze=v(ee);le=y(ze,"Took opposite corner"),ze.forEach(_),he=N(R),oe=m(R,"SPAN",{});var Ve=v(oe);j=y(Ve,me),Ve.forEach(_),Se=N(R),I=m(R,"SPAN",{});var Ye=v(I);U=y(Ye,"Last move blocks opponent"),Ye.forEach(_),$=N(R),ae=m(R,"SPAN",{});var Je=v(ae);Pe=y(Je,ve),Je.forEach(_),R.forEach(_),this.h()},h(){J(e,"class","grid2cols svelte-1lw5ne4")},m(Y,R){G(Y,e,R),f(e,l),f(l,t),f(e,o),te.m(e,null),f(e,i),f(e,a),f(a,c),f(e,u),f(e,h),f(h,S),f(e,w),f(e,g),f(g,d),f(e,b),f(e,k),f(k,B),f(e,O),f(e,M),f(M,L),f(e,Z),f(e,x),f(x,W),f(e,re),f(e,Q),f(Q,A),f(e,T),f(e,X),f(X,se),f(e,ne),f(e,ee),f(ee,le),f(e,he),f(e,oe),f(oe,j),f(e,Se),f(e,I),f(I,U),f(e,$),f(e,ae),f(ae,Pe)},p(Y,R){pe!==(pe=Ie(Y,R))&&(te.d(1),te=pe(Y),te&&(te.c(),te.m(e,i))),R&1&&E!==(E=Me(Y[3],Y[2])?"✅":"❌")&&ie(S,E),R&1&&D!==(D=We(Y[3],Y[2],Y[1])?"✅":"❌")&&ie(B,D),R&1&&K!==(K=nt(Y[3],Y[2],Y[1])?"✅":"❌")&&ie(W,K),R&1&&H!==(H=vt(Y[3],Y[2],Y[1])?"✅":"❌")&&ie(se,H),R&1&&me!==(me=lt(Y[3],Y[2],Y[1])?"✅":"❌")&&ie(j,me),R&1&&ve!==(ve=We(Y[3],Y[2],Y[1])?"✅":"❌")&&ie(Pe,ve)},d(Y){Y&&_(e),te.d()}}}function Kn(n){let e,l;return{c(){e=p("span"),l=P("Edge")},l(t){e=m(t,"SPAN",{});var o=v(e);l=y(o,"Edge"),o.forEach(_)},m(t,o){G(t,e,o),f(e,l)},d(t){t&&_(e)}}}function Qn(n){let e,l;return{c(){e=p("span"),l=P("Corner")},l(t){e=m(t,"SPAN",{});var o=v(e);l=y(o,"Corner"),o.forEach(_)},m(t,o){G(t,e,o),f(e,l)},d(t){t&&_(e)}}}function Zn(n){let e,l;return{c(){e=p("span"),l=P("Center")},l(t){e=m(t,"SPAN",{});var o=v(e);l=y(o,"Center"),o.forEach(_)},m(t,o){G(t,e,o),f(e,l)},d(t){t&&_(e)}}}function xn(n){let e,l=n[0]&&Gt(_t(n));return{c(){l&&l.c(),e=xe()},l(t){l&&l.l(t),e=xe()},m(t,o){l&&l.m(t,o),G(t,e,o)},p(t,[o]){t[0]?l?l.p(_t(t),o):(l=Gt(_t(t)),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:we,o:we,d(t){l&&l.d(t),t&&_(e)}}}function el(n,e,l){let{historyItem:t}=e;return n.$$set=o=>{"historyItem"in o&&l(0,t=o.historyItem)},[t]}class tl extends $e{constructor(e){super(),ke(this,e,el,xn,Ee,{historyItem:0})}}function Dt(n,e,l){const t=n.slice();return t[2]=e[l],t}function Vt(n){let e,l,t,o,r,s,i,a,c,u,h,E,S,w,g,d=n[0].length===0&&Rt(),b=[...n[0]].reverse(),k=[];for(let B=0;B<b.length;B+=1)k[B]=Lt(Dt(n,b,B));const D=B=>F(k[B],1,1,()=>{k[B]=null});return{c(){e=p("div"),d&&d.c(),l=C(),t=p("h4"),o=P("Move"),r=C(),s=p("h4"),i=P("Selection"),a=C(),c=p("h4"),u=P("AI"),h=C(),E=p("h4"),S=P("Stats"),w=C();for(let B=0;B<k.length;B+=1)k[B].c();this.h()},l(B){e=m(B,"DIV",{class:!0});var O=v(e);d&&d.l(O),l=N(O),t=m(O,"H4",{});var M=v(t);o=y(M,"Move"),M.forEach(_),r=N(O),s=m(O,"H4",{});var L=v(s);i=y(L,"Selection"),L.forEach(_),a=N(O),c=m(O,"H4",{});var Z=v(c);u=y(Z,"AI"),Z.forEach(_),h=N(O),E=m(O,"H4",{});var x=v(E);S=y(x,"Stats"),x.forEach(_),w=N(O);for(let K=0;K<k.length;K+=1)k[K].l(O);O.forEach(_),this.h()},h(){J(e,"class","grid4cols svelte-1ofp4bt")},m(B,O){G(B,e,O),d&&d.m(e,null),f(e,l),f(e,t),f(t,o),f(e,r),f(e,s),f(s,i),f(e,a),f(e,c),f(c,u),f(e,h),f(e,E),f(E,S),f(e,w);for(let M=0;M<k.length;M+=1)k[M].m(e,null);g=!0},p(B,O){if(B[0].length===0?d||(d=Rt(),d.c(),d.m(e,l)):d&&(d.d(1),d=null),O&1){b=[...B[0]].reverse();let M;for(M=0;M<b.length;M+=1){const L=Dt(B,b,M);k[M]?(k[M].p(L,O),V(k[M],1)):(k[M]=Lt(L),k[M].c(),V(k[M],1),k[M].m(e,null))}for(Oe(),M=b.length;M<k.length;M+=1)D(M);He()}},i(B){if(!g){for(let O=0;O<b.length;O+=1)V(k[O]);g=!0}},o(B){k=k.filter(Boolean);for(let O=0;O<k.length;O+=1)F(k[O]);g=!1},d(B){B&&_(e),d&&d.d(),Re(k,B)}}}function Rt(n){let e,l;return{c(){e=p("p"),l=P("No move yet.")},l(t){e=m(t,"P",{});var o=v(e);l=y(o,"No move yet."),o.forEach(_)},m(t,o){G(t,e,o),f(e,l)},d(t){t&&_(e)}}}function nl(n){let e;return{c(){e=p("span"),this.h()},l(l){e=m(l,"SPAN",{class:!0}),v(e).forEach(_),this.h()},h(){J(e,"class","item svelte-1ofp4bt")},m(l,t){G(l,e,t)},p:we,d(l){l&&_(e)}}}function ll(n){let e,l=n[2].aiChoice.score+"",t,o,r=n[2].aiChoice.reason+"",s;return{c(){e=p("span"),t=P(l),o=P(" - "),s=P(r),this.h()},l(i){e=m(i,"SPAN",{class:!0});var a=v(e);t=y(a,l),o=y(a," - "),s=y(a,r),a.forEach(_),this.h()},h(){J(e,"class","item svelte-1ofp4bt")},m(i,a){G(i,e,a),f(e,t),f(e,o),f(e,s)},p(i,a){a&1&&l!==(l=i[2].aiChoice.score+"")&&ie(t,l),a&1&&r!==(r=i[2].aiChoice.reason+"")&&ie(s,r)},d(i){i&&_(e)}}}function Lt(n){let e,l,t,o,r=n[2].method+"",s,i,a,c,u,h,E;l=new It({props:{board:n[2].board,dimensionPx:{width:100,height:100},highlightCell:n[2].moveCoord}});function S(d,b){return d[2].aiChoice?ll:nl}let w=S(n),g=w(n);return u=new tl({props:{historyItem:n[2]}}),{c(){e=p("div"),fe(l.$$.fragment),t=C(),o=p("span"),s=P(r),i=C(),g.c(),a=C(),c=p("div"),fe(u.$$.fragment),h=C(),this.h()},l(d){e=m(d,"DIV",{class:!0});var b=v(e);ce(l.$$.fragment,b),b.forEach(_),t=N(d),o=m(d,"SPAN",{class:!0});var k=v(o);s=y(k,r),k.forEach(_),i=N(d),g.l(d),a=N(d),c=m(d,"DIV",{class:!0});var D=v(c);ce(u.$$.fragment,D),h=N(D),D.forEach(_),this.h()},h(){J(e,"class","item svelte-1ofp4bt"),J(o,"class","item svelte-1ofp4bt"),J(c,"class","item svelte-1ofp4bt")},m(d,b){G(d,e,b),ue(l,e,null),G(d,t,b),G(d,o,b),f(o,s),G(d,i,b),g.m(d,b),G(d,a,b),G(d,c,b),ue(u,c,null),f(c,h),E=!0},p(d,b){const k={};b&1&&(k.board=d[2].board),b&1&&(k.highlightCell=d[2].moveCoord),l.$set(k),(!E||b&1)&&r!==(r=d[2].method+"")&&ie(s,r),w===(w=S(d))&&g?g.p(d,b):(g.d(1),g=w(d),g&&(g.c(),g.m(a.parentNode,a)));const D={};b&1&&(D.historyItem=d[2]),u.$set(D)},i(d){E||(V(l.$$.fragment,d),V(u.$$.fragment,d),E=!0)},o(d){F(l.$$.fragment,d),F(u.$$.fragment,d),E=!1},d(d){d&&_(e),_e(l),d&&_(t),d&&_(o),d&&_(i),g.d(d),d&&_(a),d&&_(c),_e(u)}}}function ol(n){let e,l,t=n[1]&&Vt(n);return{c(){e=p("div"),t&&t.c()},l(o){e=m(o,"DIV",{});var r=v(e);t&&t.l(r),r.forEach(_)},m(o,r){G(o,e,r),t&&t.m(e,null),l=!0},p(o,[r]){o[1]?t?(t.p(o,r),r&2&&V(t,1)):(t=Vt(o),t.c(),V(t,1),t.m(e,null)):t&&(Oe(),F(t,1,1,()=>{t=null}),He())},i(o){l||(V(t),l=!0)},o(o){F(t),l=!1},d(o){o&&_(e),t&&t.d()}}}function rl(n,e,l){let{history:t}=e,{showMoveHistory:o}=e;return n.$$set=r=>{"history"in r&&l(0,t=r.history),"showMoveHistory"in r&&l(1,o=r.showMoveHistory)},[t,o]}class sl extends $e{constructor(e){super(),ke(this,e,rl,ol,Ee,{history:0,showMoveHistory:1})}}function al(n){let e,l;return e=new It({props:{board:n[0].board,dimensionPx:{width:100,height:100}}}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.board=t[0].board),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function il(n){let e,l;return e=new sl({props:{history:n[0].moveHistory,showMoveHistory:n[1]}}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.history=t[0].moveHistory),o&2&&(r.showMoveHistory=t[1]),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function fl(n){let e,l,t,o,r,s=n[2](n[0])+"",i,a,c,u=n[1]?"Hide":"Show",h,E,S,w,g,d,b,k;const D=[il,al],B=[];function O(M,L){return M[1]?0:1}return w=O(n),g=B[w]=D[w](n),{c(){e=p("div"),l=p("h4"),t=P("Game info"),o=C(),r=p("span"),i=P(s),a=C(),c=p("button"),h=P(u),E=P(" move history"),S=C(),g.c()},l(M){e=m(M,"DIV",{});var L=v(e);l=m(L,"H4",{});var Z=v(l);t=y(Z,"Game info"),Z.forEach(_),o=N(L),r=m(L,"SPAN",{});var x=v(r);i=y(x,s),x.forEach(_),a=N(L),c=m(L,"BUTTON",{});var K=v(c);h=y(K,u),E=y(K," move history"),K.forEach(_),S=N(L),g.l(L),L.forEach(_)},m(M,L){G(M,e,L),f(e,l),f(l,t),f(e,o),f(e,r),f(r,i),f(e,a),f(e,c),f(c,h),f(c,E),f(e,S),B[w].m(e,null),d=!0,b||(k=be(c,"click",n[3]),b=!0)},p(M,[L]){(!d||L&1)&&s!==(s=M[2](M[0])+"")&&ie(i,s),(!d||L&2)&&u!==(u=M[1]?"Hide":"Show")&&ie(h,u);let Z=w;w=O(M),w===Z?B[w].p(M,L):(Oe(),F(B[Z],1,1,()=>{B[Z]=null}),He(),g=B[w],g?g.p(M,L):(g=B[w]=D[w](M),g.c()),V(g,1),g.m(e,null))},i(M){d||(V(g),d=!0)},o(M){F(g),d=!1},d(M){M&&_(e),B[w].d(),b=!1,k()}}}function cl(n,e,l){let{game:t}=e,o=!1;const r=i=>!i||!i.state?"N/A":i.state==="not_over"?"Turn: "+(i.currentPlayer===q.player?"Player":"Computer"):i.state==="player_win"?"Player Win":i.state==="computer_win"?"Computer Win":i.state==="draw"?"Draw":i.state==="over"?"Game Over":"Invalid Game",s=()=>l(1,o=!o);return n.$$set=i=>{"game"in i&&l(0,t=i.game)},[t,o,r,s]}class un extends $e{constructor(e){super(),ke(this,e,cl,fl,Ee,{game:0})}}function Wt(n,e,l){const t=n.slice();return t[12]=e[l],t}function Ft(n){let e,l,t,o;return{c(){e=p("p"),l=P("Restarting in "),t=P(n[1]),o=P(" seconds")},l(r){e=m(r,"P",{});var s=v(e);l=y(s,"Restarting in "),t=y(s,n[1]),o=y(s," seconds"),s.forEach(_)},m(r,s){G(r,e,s),f(e,l),f(e,t),f(e,o)},p(r,s){s&2&&ie(t,r[1])},d(r){r&&_(e)}}}function Ut(n){let e,l=n[12]+"",t,o;return{c(){e=p("option"),t=P(l),o=C(),this.h()},l(r){e=m(r,"OPTION",{});var s=v(e);t=y(s,l),o=N(s),s.forEach(_),this.h()},h(){e.__value=n[12],e.value=e.__value},m(r,s){G(r,e,s),f(e,t),f(e,o)},p:we,d(r){r&&_(e)}}}function Xt(n){let e,l,t,o,r,s,i;return l=new It({props:{board:n[0].board,dimensionPx:{width:400,height:400},onClick:n[3],highlightMouse:!0}}),o=new cn({props:{board:n[0].board}}),s=new un({props:{game:n[0],showMoveInfo:!0}}),{c(){e=p("div"),fe(l.$$.fragment),t=C(),fe(o.$$.fragment),r=C(),fe(s.$$.fragment),this.h()},l(a){e=m(a,"DIV",{class:!0});var c=v(e);ce(l.$$.fragment,c),t=N(c),ce(o.$$.fragment,c),c.forEach(_),r=N(a),ce(s.$$.fragment,a),this.h()},h(){J(e,"class","grid2colsResponsive svelte-1epiyf5")},m(a,c){G(a,e,c),ue(l,e,null),f(e,t),ue(o,e,null),G(a,r,c),ue(s,a,c),i=!0},p(a,c){const u={};c&1&&(u.board=a[0].board),l.$set(u);const h={};c&1&&(h.board=a[0].board),o.$set(h);const E={};c&1&&(E.game=a[0]),s.$set(E)},i(a){i||(V(l.$$.fragment,a),V(o.$$.fragment,a),V(s.$$.fragment,a),i=!0)},o(a){F(l.$$.fragment,a),F(o.$$.fragment,a),F(s.$$.fragment,a),i=!1},d(a){a&&_(e),_e(l),_e(o),a&&_(r),_e(s,a)}}}function ul(n){let e,l,t,o,r,s,i,a,c,u,h,E,S,w,g,d,b,k,D,B,O,M,L,Z,x,K,W=n[1]>0&&Ft(n),re=Object.keys(De),Q=[];for(let T=0;T<re.length;T+=1)Q[T]=Ut(Wt(n,re,T));let A=n[0].board&&Xt(n);return{c(){e=p("h2"),l=P("Game"),t=C(),o=p("div"),W&&W.c(),r=C(),s=p("label"),i=P("AI type"),a=C(),c=p("select");for(let T=0;T<Q.length;T+=1)Q[T].c();u=C(),h=p("div"),E=p("span"),S=P("Player automatic move"),w=C(),g=p("button"),d=P("Random move"),b=C(),k=p("button"),D=P("Hardcoded rules"),B=C(),O=p("button"),M=P("Complete hardcoded rules"),L=C(),A&&A.c(),this.h()},l(T){e=m(T,"H2",{});var X=v(e);l=y(X,"Game"),X.forEach(_),t=N(T),o=m(T,"DIV",{});var H=v(o);W&&W.l(H),r=N(H),s=m(H,"LABEL",{for:!0});var se=v(s);i=y(se,"AI type"),se.forEach(_),a=N(H),c=m(H,"SELECT",{id:!0});var ne=v(c);for(let j=0;j<Q.length;j+=1)Q[j].l(ne);ne.forEach(_),u=N(H),h=m(H,"DIV",{});var ee=v(h);E=m(ee,"SPAN",{});var le=v(E);S=y(le,"Player automatic move"),le.forEach(_),w=N(ee),g=m(ee,"BUTTON",{});var he=v(g);d=y(he,"Random move"),he.forEach(_),b=N(ee),k=m(ee,"BUTTON",{});var oe=v(k);D=y(oe,"Hardcoded rules"),oe.forEach(_),B=N(ee),O=m(ee,"BUTTON",{});var me=v(O);M=y(me,"Complete hardcoded rules"),me.forEach(_),ee.forEach(_),L=N(H),A&&A.l(H),H.forEach(_),this.h()},h(){J(s,"for","aiType"),J(c,"id","aiType"),n[2]===void 0&&ht(()=>n[4].call(c))},m(T,X){G(T,e,X),f(e,l),G(T,t,X),G(T,o,X),W&&W.m(o,null),f(o,r),f(o,s),f(s,i),f(o,a),f(o,c);for(let H=0;H<Q.length;H+=1)Q[H].m(c,null);Le(c,n[2]),f(o,u),f(o,h),f(h,E),f(E,S),f(h,w),f(h,g),f(g,d),f(h,b),f(h,k),f(k,D),f(h,B),f(h,O),f(O,M),f(o,L),A&&A.m(o,null),Z=!0,x||(K=[be(c,"change",n[4]),be(g,"click",n[5]),be(k,"click",n[6]),be(O,"click",n[7])],x=!0)},p(T,[X]){if(T[1]>0?W?W.p(T,X):(W=Ft(T),W.c(),W.m(o,r)):W&&(W.d(1),W=null),X&0){re=Object.keys(De);let H;for(H=0;H<re.length;H+=1){const se=Wt(T,re,H);Q[H]?Q[H].p(se,X):(Q[H]=Ut(se),Q[H].c(),Q[H].m(c,null))}for(;H<Q.length;H+=1)Q[H].d(1);Q.length=re.length}X&4&&Le(c,T[2]),T[0].board?A?(A.p(T,X),X&1&&V(A,1)):(A=Xt(T),A.c(),V(A,1),A.m(o,null)):A&&(Oe(),F(A,1,1,()=>{A=null}),He())},i(T){Z||(V(A),Z=!0)},o(T){F(A),Z=!1},d(T){T&&_(e),T&&_(t),T&&_(o),W&&W.d(),Re(Q,T),A&&A.d(),x=!1,$t(K)}}}function _l(n,e,l){let t,o,r,s="hardcodedRulesComplete",i=!1;a();function a(){l(0,t=an(i?q.computer:q.player)),i&&qe(t,q.computer,s),o=t.currentPlayer,i=!i}const c=(g,d)=>{if(o===q.player){if(g==="manual"){if(!d)return;Wn(t,q.player,d)}else qe(t,q.player,g);l(0,t),o=t.currentPlayer,setTimeout(()=>{if(qe(t,q.computer,s),l(0,t),o=t.currentPlayer,t.state!=="not_over"){l(1,r=4);const b=setInterval(()=>{l(1,r--,r),r===0&&(a(),clearInterval(b))},1e3)}},500)}},u=(g,d)=>{c(g,d)};function h(){s=dt(this),l(2,s)}return[t,r,s,u,h,()=>u("random"),()=>u("hardcodedRules"),()=>u("hardcodedRulesComplete")]}class hl extends $e{constructor(e){super(),ke(this,e,_l,ul,Ee,{})}}function jt(n,e,l){const t=n.slice();return t[10]=e[l],t}function zt(n,e,l){const t=n.slice();return t[13]=e[l],t}function Yt(n,e,l){const t=n.slice();return t[16]=e[l],t}function Jt(n,e,l){const t=n.slice();return t[16]=e[l],t}function qt(n){let e,l=n[16]+"",t,o;return{c(){e=p("option"),t=P(l),o=C(),this.h()},l(r){e=m(r,"OPTION",{});var s=v(e);t=y(s,l),o=N(s),s.forEach(_),this.h()},h(){e.__value=n[16],e.value=e.__value},m(r,s){G(r,e,s),f(e,t),f(e,o)},p:we,d(r){r&&_(e)}}}function Kt(n){let e,l=n[16]+"",t,o;return{c(){e=p("option"),t=P(l),o=C(),this.h()},l(r){e=m(r,"OPTION",{});var s=v(e);t=y(s,l),o=N(s),s.forEach(_),this.h()},h(){e.__value=n[16],e.value=e.__value},m(r,s){G(r,e,s),f(e,t),f(e,o)},p:we,d(r){r&&_(e)}}}function Qt(n){let e,l=n[13]+"",t,o,r,s=n[4][n[13]]+"",i,a,c,u=100*n[4][n[13]]/n[4].total+"",h,E;return{c(){e=p("span"),t=P(l),o=C(),r=p("span"),i=P(s),a=C(),c=p("span"),h=P(u),E=P(" %")},l(S){e=m(S,"SPAN",{});var w=v(e);t=y(w,l),w.forEach(_),o=N(S),r=m(S,"SPAN",{});var g=v(r);i=y(g,s),g.forEach(_),a=N(S),c=m(S,"SPAN",{});var d=v(c);h=y(d,u),E=y(d," %"),d.forEach(_)},m(S,w){G(S,e,w),f(e,t),G(S,o,w),G(S,r,w),f(r,i),G(S,a,w),G(S,c,w),f(c,h),f(c,E)},p(S,w){w&16&&l!==(l=S[13]+"")&&ie(t,l),w&16&&s!==(s=S[4][S[13]]+"")&&ie(i,s),w&16&&u!==(u=100*S[4][S[13]]/S[4].total+"")&&ie(h,u)},d(S){S&&_(e),S&&_(o),S&&_(r),S&&_(a),S&&_(c)}}}function Zt(n){let e,l;return e=new un({props:{game:n[10]}}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.game=t[10]),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function xt(n){let e,l,t=n[10].board&&Zt(n);return{c(){t&&t.c(),e=xe()},l(o){t&&t.l(o),e=xe()},m(o,r){t&&t.m(o,r),G(o,e,r),l=!0},p(o,r){o[10].board?t?(t.p(o,r),r&1&&V(t,1)):(t=Zt(o),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(Oe(),F(t,1,1,()=>{t=null}),He())},i(o){l||(V(t),l=!0)},o(o){F(t),l=!1},d(o){t&&t.d(o),o&&_(e)}}}function dl(n){let e,l,t,o,r,s,i,a,c,u,h,E,S,w,g,d,b,k,D,B,O,M,L,Z,x,K,W,re,Q,A,T,X,H,se=Object.keys(De),ne=[];for(let I=0;I<se.length;I+=1)ne[I]=qt(Jt(n,se,I));let ee=Object.keys(De),le=[];for(let I=0;I<ee.length;I+=1)le[I]=Kt(Yt(n,ee,I));let he=Object.keys(n[4]).sort(),oe=[];for(let I=0;I<he.length;I+=1)oe[I]=Qt(zt(n,he,I));let me=n[0],j=[];for(let I=0;I<me.length;I+=1)j[I]=xt(jt(n,me,I));const Se=I=>F(j[I],1,1,()=>{j[I]=null});return{c(){e=p("div"),l=p("h2"),t=P("Generator"),o=C(),r=p("button"),s=P("Create games"),i=C(),a=p("input"),c=C(),u=p("div"),h=p("label"),E=P("AI type"),S=C(),w=p("select");for(let I=0;I<ne.length;I+=1)ne[I].c();g=C(),d=p("label"),b=P("AI type"),k=C(),D=p("select");for(let I=0;I<le.length;I+=1)le[I].c();B=C(),O=p("div"),M=p("h3"),L=P("Stats"),Z=C(),x=p("div");for(let I=0;I<oe.length;I+=1)oe[I].c();K=C(),W=p("div"),re=p("h3"),Q=P("Games"),A=C();for(let I=0;I<j.length;I+=1)j[I].c();this.h()},l(I){e=m(I,"DIV",{});var U=v(e);l=m(U,"H2",{});var $=v(l);t=y($,"Generator"),$.forEach(_),o=N(U),r=m(U,"BUTTON",{});var ae=v(r);s=y(ae,"Create games"),ae.forEach(_),i=N(U),a=m(U,"INPUT",{type:!0}),c=N(U),u=m(U,"DIV",{});var ve=v(u);h=m(ve,"LABEL",{for:!0});var Pe=v(h);E=y(Pe,"AI type"),Pe.forEach(_),S=N(ve),w=m(ve,"SELECT",{id:!0});var Ie=v(w);for(let de=0;de<ne.length;de+=1)ne[de].l(Ie);Ie.forEach(_),g=N(ve),d=m(ve,"LABEL",{for:!0});var pe=v(d);b=y(pe,"AI type"),pe.forEach(_),k=N(ve),D=m(ve,"SELECT",{id:!0});var te=v(D);for(let de=0;de<le.length;de+=1)le[de].l(te);te.forEach(_),ve.forEach(_),B=N(U),O=m(U,"DIV",{});var Y=v(O);M=m(Y,"H3",{});var R=v(M);L=y(R,"Stats"),R.forEach(_),Z=N(Y),x=m(Y,"DIV",{class:!0});var ge=v(x);for(let de=0;de<oe.length;de+=1)oe[de].l(ge);ge.forEach(_),Y.forEach(_),K=N(U),W=m(U,"DIV",{});var Ce=v(W);re=m(Ce,"H3",{});var Ae=v(re);Q=y(Ae,"Games"),Ae.forEach(_),A=N(Ce);for(let de=0;de<j.length;de+=1)j[de].l(Ce);Ce.forEach(_),U.forEach(_),this.h()},h(){J(a,"type","number"),J(h,"for","aiType"),J(w,"id","aiType"),n[1]===void 0&&ht(()=>n[7].call(w)),J(d,"for","aiType"),J(D,"id","aiType"),n[2]===void 0&&ht(()=>n[8].call(D)),J(x,"class","grid3cols svelte-14twtn6")},m(I,U){G(I,e,U),f(e,l),f(l,t),f(e,o),f(e,r),f(r,s),f(e,i),f(e,a),At(a,n[3]),f(e,c),f(e,u),f(u,h),f(h,E),f(u,S),f(u,w);for(let $=0;$<ne.length;$+=1)ne[$].m(w,null);Le(w,n[1]),f(u,g),f(u,d),f(d,b),f(u,k),f(u,D);for(let $=0;$<le.length;$+=1)le[$].m(D,null);Le(D,n[2]),f(e,B),f(e,O),f(O,M),f(M,L),f(O,Z),f(O,x);for(let $=0;$<oe.length;$+=1)oe[$].m(x,null);f(e,K),f(e,W),f(W,re),f(re,Q),f(W,A);for(let $=0;$<j.length;$+=1)j[$].m(W,null);T=!0,X||(H=[be(r,"click",n[5]),be(a,"input",n[6]),be(w,"change",n[7]),be(D,"change",n[8])],X=!0)},p(I,[U]){if(U&8&&nn(a.value)!==I[3]&&At(a,I[3]),U&0){se=Object.keys(De);let $;for($=0;$<se.length;$+=1){const ae=Jt(I,se,$);ne[$]?ne[$].p(ae,U):(ne[$]=qt(ae),ne[$].c(),ne[$].m(w,null))}for(;$<ne.length;$+=1)ne[$].d(1);ne.length=se.length}if(U&2&&Le(w,I[1]),U&0){ee=Object.keys(De);let $;for($=0;$<ee.length;$+=1){const ae=Yt(I,ee,$);le[$]?le[$].p(ae,U):(le[$]=Kt(ae),le[$].c(),le[$].m(D,null))}for(;$<le.length;$+=1)le[$].d(1);le.length=ee.length}if(U&4&&Le(D,I[2]),U&16){he=Object.keys(I[4]).sort();let $;for($=0;$<he.length;$+=1){const ae=zt(I,he,$);oe[$]?oe[$].p(ae,U):(oe[$]=Qt(ae),oe[$].c(),oe[$].m(x,null))}for(;$<oe.length;$+=1)oe[$].d(1);oe.length=he.length}if(U&1){me=I[0];let $;for($=0;$<me.length;$+=1){const ae=jt(I,me,$);j[$]?(j[$].p(ae,U),V(j[$],1)):(j[$]=xt(ae),j[$].c(),V(j[$],1),j[$].m(W,null))}for(Oe(),$=me.length;$<j.length;$+=1)Se($);He()}},i(I){if(!T){for(let U=0;U<me.length;U+=1)V(j[U]);T=!0}},o(I){j=j.filter(Boolean);for(let U=0;U<j.length;U+=1)F(j[U]);T=!1},d(I){I&&_(e),Re(ne,I),Re(le,I),Re(oe,I),Re(j,I),X=!1,$t(H)}}}function pl(n,e,l){let t=[],o="random",r="hardcodedRulesComplete",s=10;const i=()=>{const S=an();for(;S.state==="not_over";)qe(S,q.player,o),qe(S,q.computer,r);return S};let a={total:0};const c=()=>{l(0,t=[]),l(4,a={total:0});for(let S=0;S<s;S++){const w=i();l(0,t=[w,...t]),a[w.state]||l(4,a[w.state]=0,a),l(4,a[w.state]+=1,a),l(4,a.total+=1,a)}};function u(){s=nn(this.value),l(3,s)}function h(){o=dt(this),l(1,o)}function E(){r=dt(this),l(2,r)}return[t,o,r,s,a,c,u,h,E]}class ml extends $e{constructor(e){super(),ke(this,e,pl,dl,Ee,{})}}function vl(n){let e,l,t,o,r,s,i,a,c,u,h,E,S,w,g,d,b,k,D,B,O,M,L,Z,x,K,W,re,Q;return r=new ln({props:{sketch:n[6]}}),K=new cn({props:{board:n[1],lastMove:n[3]}}),{c(){e=p("h2"),l=P("Analyzer"),t=C(),o=p("div"),fe(r.$$.fragment),s=C(),i=p("div"),a=p("h4"),c=P("Controls"),u=C(),h=p("button"),E=P("Play O"),w=C(),g=p("button"),d=P("Play X"),k=C(),D=p("button"),B=P("Previous"),M=C(),L=p("button"),Z=P("Reset"),x=C(),fe(K.$$.fragment),this.h()},l(A){e=m(A,"H2",{});var T=v(e);l=y(T,"Analyzer"),T.forEach(_),t=N(A),o=m(A,"DIV",{});var X=v(o);ce(r.$$.fragment,X),s=N(X),i=m(X,"DIV",{});var H=v(i);a=m(H,"H4",{});var se=v(a);c=y(se,"Controls"),se.forEach(_),u=N(H),h=m(H,"BUTTON",{});var ne=v(h);E=y(ne,"Play O"),ne.forEach(_),w=N(H),g=m(H,"BUTTON",{});var ee=v(g);d=y(ee,"Play X"),ee.forEach(_),k=N(H),D=m(H,"BUTTON",{});var le=v(D);B=y(le,"Previous"),le.forEach(_),M=N(H),L=m(H,"BUTTON",{});var he=v(L);Z=y(he,"Reset"),he.forEach(_),H.forEach(_),x=N(X),ce(K.$$.fragment,X),X.forEach(_),this.h()},h(){h.disabled=S=n[2]===q.player,g.disabled=b=n[2]===q.computer,D.disabled=O=(n[0]||[]).length<2},m(A,T){G(A,e,T),f(e,l),G(A,t,T),G(A,o,T),ue(r,o,null),f(o,s),f(o,i),f(i,a),f(a,c),f(i,u),f(i,h),f(h,E),f(i,w),f(i,g),f(g,d),f(i,k),f(i,D),f(D,B),f(i,M),f(i,L),f(L,Z),f(o,x),ue(K,o,null),W=!0,re||(Q=[be(h,"click",n[7]),be(g,"click",n[8]),be(D,"click",n[5]),be(L,"click",n[4])],re=!0)},p(A,[T]){(!W||T&4&&S!==(S=A[2]===q.player))&&(h.disabled=S),(!W||T&4&&b!==(b=A[2]===q.computer))&&(g.disabled=b),(!W||T&1&&O!==(O=(A[0]||[]).length<2))&&(D.disabled=O);const X={};T&2&&(X.board=A[1]),T&8&&(X.lastMove=A[3]),K.$set(X)},i(A){W||(V(r.$$.fragment,A),V(K.$$.fragment,A),W=!0)},o(A){F(r.$$.fragment,A),F(K.$$.fragment,A),W=!1},d(A){A&&_(e),A&&_(t),A&&_(o),_e(r),_e(K),re=!1,$t(Q)}}}function gl(n,e,l){let t,o,r,s=q.player,i;function a(g,d){Qe(r,g,Ne(d)),l(3,i=d),l(1,r),o.push({...r}),l(0,o),c()}function c(){l(2,s=s===q.player?q.computer:q.player)}function u(){l(1,r=rn()),l(0,o=[{...r}]),l(3,i={x:-1,y:-1})}function h(){o.length<=1||(o.pop(),l(0,o),l(1,r={...o[o.length-1]}))}const E=g=>{g.setup=()=>{t=g,g.createCanvas(400,400),u()},g.draw=()=>{g.background(0),gt(g,r,{drawSelection:!0,selection:ot(g),currentPlayer:s})},g.mousePressed=()=>{if(g.mouseX<0||g.mouseX>g.width||g.mouseY<0||g.mouseY>g.height)return;const d=ot(g);a(s,d)}};return bt(()=>{t==null||t.remove()}),[o,r,s,i,u,h,E,()=>l(2,s=q.player),()=>l(2,s=q.computer)]}class bl extends $e{constructor(e){super(),ke(this,e,gl,vl,Ee,{})}}function $l(n){let e;return{c(){e=P("Game")},l(l){e=y(l,"Game")},m(l,t){G(l,e,t)},d(l){l&&_(e)}}}function kl(n){let e;return{c(){e=P("Generator")},l(l){e=y(l,"Generator")},m(l,t){G(l,e,t)},d(l){l&&_(e)}}}function El(n){let e;return{c(){e=P("Analyzer")},l(l){e=y(l,"Analyzer")},m(l,t){G(l,e,t)},d(l){l&&_(e)}}}function Pl(n){let e,l,t,o,r,s;return e=new ct({props:{$$slots:{default:[$l]},$$scope:{ctx:n}}}),t=new ct({props:{$$slots:{default:[kl]},$$scope:{ctx:n}}}),r=new ct({props:{$$slots:{default:[El]},$$scope:{ctx:n}}}),{c(){fe(e.$$.fragment),l=C(),fe(t.$$.fragment),o=C(),fe(r.$$.fragment)},l(i){ce(e.$$.fragment,i),l=N(i),ce(t.$$.fragment,i),o=N(i),ce(r.$$.fragment,i)},m(i,a){ue(e,i,a),G(i,l,a),ue(t,i,a),G(i,o,a),ue(r,i,a),s=!0},p(i,a){const c={};a&1&&(c.$$scope={dirty:a,ctx:i}),e.$set(c);const u={};a&1&&(u.$$scope={dirty:a,ctx:i}),t.$set(u);const h={};a&1&&(h.$$scope={dirty:a,ctx:i}),r.$set(h)},i(i){s||(V(e.$$.fragment,i),V(t.$$.fragment,i),V(r.$$.fragment,i),s=!0)},o(i){F(e.$$.fragment,i),F(t.$$.fragment,i),F(r.$$.fragment,i),s=!1},d(i){_e(e,i),i&&_(l),_e(t,i),i&&_(o),_e(r,i)}}}function yl(n){let e,l;return e=new hl({}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function wl(n){let e,l;return e=new ml({}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function Sl(n){let e,l;return e=new bl({}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function Il(n){let e,l,t,o,r,s,i,a;return e=new wn({props:{$$slots:{default:[Pl]},$$scope:{ctx:n}}}),t=new ut({props:{$$slots:{default:[yl]},$$scope:{ctx:n}}}),r=new ut({props:{$$slots:{default:[wl]},$$scope:{ctx:n}}}),i=new ut({props:{$$slots:{default:[Sl]},$$scope:{ctx:n}}}),{c(){fe(e.$$.fragment),l=C(),fe(t.$$.fragment),o=C(),fe(r.$$.fragment),s=C(),fe(i.$$.fragment)},l(c){ce(e.$$.fragment,c),l=N(c),ce(t.$$.fragment,c),o=N(c),ce(r.$$.fragment,c),s=N(c),ce(i.$$.fragment,c)},m(c,u){ue(e,c,u),G(c,l,u),ue(t,c,u),G(c,o,u),ue(r,c,u),G(c,s,u),ue(i,c,u),a=!0},p(c,u){const h={};u&1&&(h.$$scope={dirty:u,ctx:c}),e.$set(h);const E={};u&1&&(E.$$scope={dirty:u,ctx:c}),t.$set(E);const S={};u&1&&(S.$$scope={dirty:u,ctx:c}),r.$set(S);const w={};u&1&&(w.$$scope={dirty:u,ctx:c}),i.$set(w)},i(c){a||(V(e.$$.fragment,c),V(t.$$.fragment,c),V(r.$$.fragment,c),V(i.$$.fragment,c),a=!0)},o(c){F(e.$$.fragment,c),F(t.$$.fragment,c),F(r.$$.fragment,c),F(i.$$.fragment,c),a=!1},d(c){_e(e,c),c&&_(l),_e(t,c),c&&_(o),_e(r,c),c&&_(s),_e(i,c)}}}function Cl(n){let e,l;return e=new $n({props:{$$slots:{default:[Il]},$$scope:{ctx:n}}}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},p(t,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}class Nl extends $e{constructor(e){super(),ke(this,e,null,Cl,Ee,{})}}function Al(n){let e,l;return e=new Nl({}),{c(){fe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,o){ue(e,t,o),l=!0},p:we,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}class Ol extends $e{constructor(e){super(),ke(this,e,null,Al,Ee,{})}}export{Ol as default};
