import{S as _e,i as pe,s as me,C as rt,k as g,l as $,m as b,h as d,n as q,b as G,N as he,E as st,F as at,G as it,f as H,t as F,H as Ke,a0 as an,o as Qt,j as cn,W as $t,I as Tt,a1 as Zt,A as fn,$ as un,g as Me,d as Ne,q as E,a as C,r as w,c as T,D as c,B as ke,u as se,w as ne,x as le,y as oe,z as re,e as xe,J as Je,K as ht,M as Ge,P as bt,Q as _t}from"../../../chunks/index-1d785069.js";import{w as Ze}from"../../../chunks/index-c5a64178.js";import{P as xt}from"../../../chunks/P5-76a6b36f.js";let dn=1;function en(){return`svelte-tabs-${dn++}`}function hn(n){let e,l,t,o;const r=n[4].default,s=rt(r,n,n[3],null);return{c(){e=g("div"),s&&s.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var i=b(e);s&&s.l(i),i.forEach(d),this.h()},h(){q(e,"class","svelte-tabs")},m(a,i){G(a,e,i),s&&s.m(e,null),l=!0,t||(o=he(e,"keydown",n[1]),t=!0)},p(a,[i]){s&&s.p&&(!l||i&8)&&st(s,r,a,a[3],l?it(r,a[3],i,null):at(a[3]),null)},i(a){l||(H(s,a),l=!0)},o(a){F(s,a),l=!1},d(a){a&&d(e),s&&s.d(a),t=!1,o()}}}const kt={};function _n(n,e,l){const t=n.indexOf(e);n.splice(t,1),l.update(o=>o===e?n[t]||n[n.length-1]:o)}function pn(n,e,l){let t,{$$slots:o={},$$scope:r}=e,{initialSelectedIndex:s=0}=e;const a=[],i=[],f=[],u=Ze({}),h=Ze({}),P=Ze(null);Ke(n,P,v=>l(5,t=v));const L=Ze(null);function B(v,k,U){v.push(k),U.update(M=>M||k),$t(()=>_n(v,k,U))}function _(v){const k=i.indexOf(v);P.set(v),L.set(f[k])}an(kt,{registerTab(v){B(i,v,P)},registerTabElement(v){a.push(v)},registerPanel(v){B(f,v,L)},selectTab:_,selectedTab:P,selectedPanel:L,controls:u,labeledBy:h}),Qt(()=>{_(i[s])}),cn(()=>{for(let v=0;v<i.length;v++)u.update(k=>({...k,[i[v].id]:f[v].id})),h.update(k=>({...k,[f[v].id]:i[v].id}))});async function m(v){if(v.target.classList.contains("svelte-tabs__tab")){let k=i.indexOf(t);switch(v.key){case"ArrowRight":k+=1,k>i.length-1&&(k=0),_(i[k]),a[k].focus();break;case"ArrowLeft":k-=1,k<0&&(k=i.length-1),_(i[k]),a[k].focus()}}}return n.$$set=v=>{"initialSelectedIndex"in v&&l(2,s=v.initialSelectedIndex),"$$scope"in v&&l(3,r=v.$$scope)},[P,m,s,r,o]}class mn extends _e{constructor(e){super(),pe(this,e,pn,hn,me,{initialSelectedIndex:2})}}function vn(n){let e,l,t,o,r,s;const a=n[9].default,i=rt(a,n,n[8],null);return{c(){e=g("li"),i&&i.c(),this.h()},l(f){e=$(f,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var u=b(e);i&&i.l(u),u.forEach(d),this.h()},h(){q(e,"role","tab"),q(e,"id",n[3].id),q(e,"aria-controls",l=n[2][n[3].id]),q(e,"aria-selected",n[1]),q(e,"tabindex",t=n[1]?0:-1),q(e,"class","svelte-tabs__tab svelte-1fbofsd"),Tt(e,"svelte-tabs__selected",n[1])},m(f,u){G(f,e,u),i&&i.m(e,null),n[10](e),o=!0,r||(s=he(e,"click",n[11]),r=!0)},p(f,[u]){i&&i.p&&(!o||u&256)&&st(i,a,f,f[8],o?it(a,f[8],u,null):at(f[8]),null),(!o||u&4&&l!==(l=f[2][f[3].id]))&&q(e,"aria-controls",l),(!o||u&2)&&q(e,"aria-selected",f[1]),(!o||u&2&&t!==(t=f[1]?0:-1))&&q(e,"tabindex",t),(!o||u&2)&&Tt(e,"svelte-tabs__selected",f[1])},i(f){o||(H(i,f),o=!0)},o(f){F(i,f),o=!1},d(f){f&&d(e),i&&i.d(f),n[10](null),r=!1,s()}}}function gn(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e,a;const i={id:en()},{registerTab:f,registerTabElement:u,selectTab:h,selectedTab:P,controls:L}=Zt(kt);Ke(n,P,v=>l(7,t=v)),Ke(n,L,v=>l(2,o=v));let B;f(i),Qt(async()=>{await fn(),u(a)});function _(v){un[v?"unshift":"push"](()=>{a=v,l(0,a)})}const m=()=>h(i);return n.$$set=v=>{"$$scope"in v&&l(8,s=v.$$scope)},n.$$.update=()=>{n.$$.dirty&128&&l(1,B=t===i)},[a,B,o,i,h,P,L,t,s,r,_,m]}class ft extends _e{constructor(e){super(),pe(this,e,gn,vn,me,{})}}function $n(n){let e,l;const t=n[1].default,o=rt(t,n,n[0],null);return{c(){e=g("ul"),o&&o.c(),this.h()},l(r){e=$(r,"UL",{role:!0,class:!0});var s=b(e);o&&o.l(s),s.forEach(d),this.h()},h(){q(e,"role","tablist"),q(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,s){G(r,e,s),o&&o.m(e,null),l=!0},p(r,[s]){o&&o.p&&(!l||s&1)&&st(o,t,r,r[0],l?it(t,r[0],s,null):at(r[0]),null)},i(r){l||(H(o,r),l=!0)},o(r){F(o,r),l=!1},d(r){r&&d(e),o&&o.d(r)}}}function bn(n,e,l){let{$$slots:t={},$$scope:o}=e;return n.$$set=r=>{"$$scope"in r&&l(0,o=r.$$scope)},[o,t]}class kn extends _e{constructor(e){super(),pe(this,e,bn,$n,me,{})}}function Mt(n){let e;const l=n[6].default,t=rt(l,n,n[5],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&32)&&st(t,l,o,o[5],e?it(l,o[5],r,null):at(o[5]),null)},i(o){e||(H(t,o),e=!0)},o(o){F(t,o),e=!1},d(o){t&&t.d(o)}}}function yn(n){let e,l,t,o=n[1]===n[2]&&Mt(n);return{c(){e=g("div"),o&&o.c(),this.h()},l(r){e=$(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=b(e);o&&o.l(s),s.forEach(d),this.h()},h(){q(e,"id",n[2].id),q(e,"aria-labelledby",l=n[0][n[2].id]),q(e,"class","svelte-tabs__tab-panel svelte-epfyet"),q(e,"role","tabpanel")},m(r,s){G(r,e,s),o&&o.m(e,null),t=!0},p(r,[s]){r[1]===r[2]?o?(o.p(r,s),s&2&&H(o,1)):(o=Mt(r),o.c(),H(o,1),o.m(e,null)):o&&(Me(),F(o,1,1,()=>{o=null}),Ne()),(!t||s&1&&l!==(l=r[0][r[2].id]))&&q(e,"aria-labelledby",l)},i(r){t||(H(o),t=!0)},o(r){F(o),t=!1},d(r){r&&d(e),o&&o.d()}}}function Pn(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e;const a={id:en()},{registerPanel:i,selectedPanel:f,labeledBy:u}=Zt(kt);return Ke(n,f,h=>l(1,o=h)),Ke(n,u,h=>l(0,t=h)),i(a),n.$$set=h=>{"$$scope"in h&&l(5,s=h.$$scope)},[t,o,a,f,u,s,r]}class ut extends _e{constructor(e){super(),pe(this,e,Pn,yn,me,{})}}function Se(n){const{x:e,y:l}=n;if(e<0||e>2||l<0||l>2)throw new Error(`Invalid coords (${e},${l})`);return 8-(3*l+e)}function yt(n){if(n<0||n>8)throw new Error("Invalid index ${i}");return{x:2-n%3,y:2-Math.floor(n/3)}}const En=[448,56,7,292,146,73,273,84],wn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],Sn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],In=[{p:2,o:5},{p:2,o:144}],Be=(n,e)=>(n&e)===e;function Nt(n){let e=n,l=0;for(;e;)l+=e&1,e>>=1;return l}function At(n,e){const l=Se(e);return j(n,l)}function j(n,e){return!(n&1<<e)}function pt(n,e){return n+2**e}const mt=n=>{for(const e of En)if(Be(n,e))return!0;return!1};var J=(n=>(n[n.player=1]="player",n[n.computer=2]="computer",n))(J||{});function tn(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Ce(n,e){return e===J.player?n.player:n.computer}function Te(n,e){return e===J.player?n.computer:n.player}function et(n,e){if(!e&&!Cn(n))return"invalid_board";const l=mt(n.player),t=mt(n.computer);return l&&t?"draw":l?"player_win":t?"computer_win":Mn(n)?"not_over":"over"}function Qe(n,e,l){if(!Tn(n,l))throw new Error(`Impossible move. player: ${n==null?void 0:n.player}, computer: ${n==null?void 0:n.computer}, index ${l} `);e===J.player?n.player=pt(n.player,l):n.computer=pt(n.computer,l)}function Cn(n){if(n.player&n.computer)return!1;const e=Nt(n.player),l=Nt(n.computer);return!(Math.abs(e-l)>1)}function Tn(n,e){return j(n.player,e)&&j(n.computer,e)}function Mn(n){return(n.player|n.computer)!==511}function Pt(n){let e=n.player|n.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const l=[];let t=0;for(;t<9;)e&1||l.push(t),t++,e>>=1;return l}const Nn=[2,5,8,1,4,7,0,3,6];function Bt(n){let e=0;return Nn.forEach((l,t)=>{j(n,t)||(e=pt(e,l))}),e}function tt(n,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...n};e=e%4;const l={...n};for(let t=0;t<e;t++)l.player=Bt(l.player),l.computer=Bt(l.computer);return l}function Ie(n,e){const l=Ce(n,e);return mt(l)}function Et(n){return(n==null?void 0:n.y)===1&&(n==null?void 0:n.x)===1}function nt(n,e,l){const t=Se(l),o=Ce(n,e),r=Te(n,e);if(t===4){const s=j(r,5)&&!j(o,3)||!j(o,5)&&j(r,3)?1:0,a=j(r,7)&&!j(o,1)||!j(o,7)&&j(r,1)?1:0,i=j(r,8)&&!j(o,0)||!j(o,8)&&j(r,0)?1:0,f=j(r,6)&&!j(o,2)||!j(o,6)&&j(r,2)?1:0;return s+a+i+f>=2}if(ct.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,a=tt(n,s),i=Ce(a,e),f=Te(a,e),u=j(f,2)&&!j(i,1)||!j(i,2)&&j(f,1),h=j(f,6)&&!j(i,3)||!j(i,6)&&j(f,3);return u&&h}if(wt.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,a=tt(n,s),i=Ce(a,e),f=Te(a,e),u=j(f,2)&&!j(i,0)||!j(i,2)&&j(f,0),h=j(f,7)&&!j(i,4)||!j(i,7)&&j(f,4);return u&&h}return!1}function vt(n,e,l){const t=Ce(n,e),r={player:Te(n,e),computer:t};return nt(r,J.player,l)}function Ve(n,e,l){const t=Se(l),o=Ce(n,e),r=Te(n,e);if(t===4){for(const{o:s,p:a}of wn)if(Be(o,a)&&Be(r,s))return!0}if(ct.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,a=tt(n,s),i=Ce(a,e),f=Te(a,e);for(const{o:u,p:h}of Sn)if(Be(i,h)&&Be(f,u))return!0}if(wt.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,a=tt(n,s),i=Ce(a,e),f=Te(a,e);for(const{o:u,p:h}of In)if(Be(i,h)&&Be(f,u))return!0}return!1}const ct=new Set([0,2,6,8]),wt=new Set([1,3,5,7]);function lt(n,e,l){const t=Se(l);if(!ct.has(t))return!1;const o=8-t,r=Te(n,e);return!j(r,o)}function St(n){const e=Se(n);return ct.has(e)}function nn(n){const e=Se(n);return wt.has(e)}function An(n,e){const l=Pt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=yt(o);Qe(r,e,o);const a=Bn(r,e,s);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Bn(n,e,l){return Ie(n,e)?{score:8,reason:"win",move:l}:Ve(n,e,l)?{score:7,reason:"block_opponent",move:l}:nt(n,e,l)?{score:6,reason:"create_fork",move:l}:vt(n,e,l)?{score:5,reason:"block_opponent_fork",move:l}:Et(l)?{score:4,reason:"take_center",move:l}:lt(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:St(l)?{score:2,reason:"take_corner",move:l}:nn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function On(n,e){const l=Pt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=yt(o);Qe(r,e,o);const a=Hn(r,e,s);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Hn(n,e,l){return Ie(n,J.player)?{score:8,reason:"win",move:l}:Ve(n,e,l)?{score:7,reason:"block_opponent",move:l}:Et(l)?{score:4,reason:"take_center",move:l}:lt(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:St(l)?{score:2,reason:"take_corner",move:l}:nn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Dn(n){const e=Pt(n);if(e.length===0)throw new Error("No available moves");const l=Math.floor(Math.random()*e.length),t=e[l];return{score:0,reason:"random",move:yt(t)}}const Oe={random:Dn,hardcodedRules:On,hardcodedRulesComplete:An},ln=n=>({board:tn(),currentPlayer:n??J.player,state:"not_over",moveHistory:[]});function on(n){n.currentPlayer=n.currentPlayer===J.player?J.computer:J.player}const Gn=(n,e,l)=>{n.state==="not_over"&&(Qe(n.board,e,Se(l)),n.state=et(n.board),n.moveHistory.push({board:{...n.board},moveCoord:l,player:e,method:"manual"}),on(n))},qe=(n,e,l)=>{if(n.state!=="not_over")return;const t=Oe[l],o=t(n.board,e);Qe(n.board,e,Se(o.move)),n.state=et(n.board),n.moveHistory.push({board:{...n.board},moveCoord:o.move,player:e,method:l,aiChoice:o}),on(n)},Vn="#FF0000",Rn="#64ccfc";function gt(n,e,l){var u;const t=n.width/3,o=n.height/3,{height:r,width:s}=n,{drawSelection:a,selection:i,currentPlayer:f}=l||{};n.rectMode(n.CENTER),n.noFill(),n.stroke(255),n.strokeWeight(1),n.line(t,0,t,r),n.line(t*2,0,t*2,r),n.line(0,o,s,o),n.line(0,o*2,s,o*2),n.stroke(155),n.strokeWeight(3),n.rect(n.width/2,n.height/2,n.width,n.height),n.strokeWeight(4);for(let h=0;h<3;h++)for(let P=0;P<3;P++)((u=l==null?void 0:l.highlightCell)==null?void 0:u.x)===P&&(l==null?void 0:l.highlightCell.y)===h&&(n.noStroke(),n.fill(30,250,80,80),n.rect(P*t+t/2,h*o+o/2,t*.95,o*.95),n.noFill()),(!At(e.player,{x:P,y:h})||a&&f===J.player&&(i==null?void 0:i.x)===P&&(i==null?void 0:i.y)===h)&&(n.stroke(Rn),n.circle(P*t+t/2,h*o+o/2,o/2)),(!At(e.computer,{x:P,y:h})||a&&f===J.computer&&(i==null?void 0:i.x)===P&&(i==null?void 0:i.y)===h)&&(n.stroke(Vn),n.line(P*t+t*.3,h*o+o*.3,P*t+t*.7,h*o+o*.7),n.line(P*t+t*.7,h*o+o*.3,P*t+t*.3,h*o+o*.7))}function ot(n){const{mouseX:e,mouseY:l,width:t,height:o}=n,r=Math.floor(n.map(e,0,t,0,3)),s=Math.floor(n.map(l,0,o,0,3));return{x:r,y:s}}function Ot(n){let e,l,t,o,r,s=et(n[0])+"",a,i,f,u,h,P,L,B,_,m,v=n[0].player.toString(2).padStart(9,"0")+"",k,U,M,A=n[0].player+"",N,V,K,x,X,O=Ie(n[0],J.player)?"✅":"❌",ee,R,S,y,z,p,D,I,Y,fe,te=n[0].computer.toString(2).padStart(9,"0")+"",ue,de,ce,be=n[0].computer+"",ve,ae,Ee,we,ye,Pe=Ie(n[0],J.computer)?"✅":"❌",Ae;return{c(){e=g("div"),l=g("span"),t=E("State:"),o=C(),r=g("span"),a=E(s),i=C(),f=g("div"),u=g("span"),h=E("Player 1"),P=g("span"),L=E("Player, O"),B=C(),_=g("span"),m=E("0b"),k=E(v),U=C(),M=g("span"),N=E(A),V=C(),K=g("span"),x=E("Wins"),X=g("span"),ee=E(O),R=C(),S=g("div"),y=g("span"),z=E("Player 2"),p=g("span"),D=E("Computer, X"),I=C(),Y=g("span"),fe=E("0b"),ue=E(te),de=C(),ce=g("span"),ve=E(be),ae=C(),Ee=g("span"),we=E("Wins"),ye=g("span"),Ae=E(Pe),this.h()},l(ie){e=$(ie,"DIV",{class:!0});var Z=b(e);l=$(Z,"SPAN",{});var Q=b(l);t=w(Q,"State:"),Q.forEach(d),o=T(Z),r=$(Z,"SPAN",{});var W=b(r);a=w(W,s),W.forEach(d),i=T(Z),f=$(Z,"DIV",{class:!0});var ge=b(f);u=$(ge,"SPAN",{});var Re=b(u);h=w(Re,"Player 1"),Re.forEach(d),P=$(ge,"SPAN",{});var Le=b(P);L=w(Le,"Player, O"),Le.forEach(d),B=T(ge),_=$(ge,"SPAN",{});var He=b(_);m=w(He,"0b"),k=w(He,v),He.forEach(d),U=T(ge),M=$(ge,"SPAN",{});var We=b(M);N=w(We,A),We.forEach(d),V=T(ge),K=$(ge,"SPAN",{});var Fe=b(K);x=w(Fe,"Wins"),Fe.forEach(d),X=$(ge,"SPAN",{});var Ue=b(X);ee=w(Ue,O),Ue.forEach(d),ge.forEach(d),R=T(Z),S=$(Z,"DIV",{class:!0});var $e=b(S);y=$($e,"SPAN",{});var Xe=b(y);z=w(Xe,"Player 2"),Xe.forEach(d),p=$($e,"SPAN",{});var je=b(p);D=w(je,"Computer, X"),je.forEach(d),I=T($e),Y=$($e,"SPAN",{});var De=b(Y);fe=w(De,"0b"),ue=w(De,te),De.forEach(d),de=T($e),ce=$($e,"SPAN",{});var ze=b(ce);ve=w(ze,be),ze.forEach(d),ae=T($e),Ee=$($e,"SPAN",{});var Ye=b(Ee);we=w(Ye,"Wins"),Ye.forEach(d),ye=$($e,"SPAN",{});var Ct=b(ye);Ae=w(Ct,Pe),Ct.forEach(d),$e.forEach(d),Z.forEach(d),this.h()},h(){q(f,"class","grid2cols svelte-1lw5ne4"),q(S,"class","grid2cols svelte-1lw5ne4"),q(e,"class","grid2cols svelte-1lw5ne4")},m(ie,Z){G(ie,e,Z),c(e,l),c(l,t),c(e,o),c(e,r),c(r,a),c(e,i),c(e,f),c(f,u),c(u,h),c(f,P),c(P,L),c(f,B),c(f,_),c(_,m),c(_,k),c(f,U),c(f,M),c(M,N),c(f,V),c(f,K),c(K,x),c(f,X),c(X,ee),c(e,R),c(e,S),c(S,y),c(y,z),c(S,p),c(p,D),c(S,I),c(S,Y),c(Y,fe),c(Y,ue),c(S,de),c(S,ce),c(ce,ve),c(S,ae),c(S,Ee),c(Ee,we),c(S,ye),c(ye,Ae)},p(ie,Z){Z&1&&s!==(s=et(ie[0])+"")&&se(a,s),Z&1&&v!==(v=ie[0].player.toString(2).padStart(9,"0")+"")&&se(k,v),Z&1&&A!==(A=ie[0].player+"")&&se(N,A),Z&1&&O!==(O=Ie(ie[0],J.player)?"✅":"❌")&&se(ee,O),Z&1&&te!==(te=ie[0].computer.toString(2).padStart(9,"0")+"")&&se(ue,te),Z&1&&be!==(be=ie[0].computer+"")&&se(ve,be),Z&1&&Pe!==(Pe=Ie(ie[0],J.computer)?"✅":"❌")&&se(Ae,Pe)},d(ie){ie&&d(e)}}}function Ln(n){let e,l,t,o,r=n[0]&&Ot(n);return{c(){e=g("div"),l=g("h4"),t=E("Board info"),o=C(),r&&r.c()},l(s){e=$(s,"DIV",{});var a=b(e);l=$(a,"H4",{});var i=b(l);t=w(i,"Board info"),i.forEach(d),o=T(a),r&&r.l(a),a.forEach(d)},m(s,a){G(s,e,a),c(e,l),c(l,t),c(e,o),r&&r.m(e,null)},p(s,[a]){s[0]?r?r.p(s,a):(r=Ot(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ke,o:ke,d(s){s&&d(e),r&&r.d()}}}function Wn(n,e,l){let{board:t}=e;return n.$$set=o=>{"board"in o&&l(0,t=o.board)},[t]}class rn extends _e{constructor(e){super(),pe(this,e,Wn,Ln,me,{board:0})}}function Fn(n){let e,l,t=JSON.stringify(n[0])+"",o;return{c(){e=g("p"),l=E("Board is undefined "),o=E(t)},l(r){e=$(r,"P",{});var s=b(e);l=w(s,"Board is undefined "),o=w(s,t),s.forEach(d)},m(r,s){G(r,e,s),c(e,l),c(e,o)},p(r,s){s&1&&t!==(t=JSON.stringify(r[0])+"")&&se(o,t)},i:ke,o:ke,d(r){r&&d(e)}}}function Un(n){let e,l;return e=new xt({props:{sketch:n[1]}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p:ke,i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function Xn(n){let e,l,t,o;const r=[Un,Fn],s=[];function a(i,f){return i[0]?0:1}return l=a(n),t=s[l]=r[l](n),{c(){e=g("div"),t.c()},l(i){e=$(i,"DIV",{});var f=b(e);t.l(f),f.forEach(d)},m(i,f){G(i,e,f),s[l].m(e,null),o=!0},p(i,[f]){let u=l;l=a(i),l===u?s[l].p(i,f):(Me(),F(s[u],1,1,()=>{s[u]=null}),Ne(),t=s[l],t?t.p(i,f):(t=s[l]=r[l](i),t.c()),H(t,1),t.m(e,null))},i(i){o||(H(t),o=!0)},o(i){F(t),o=!1},d(i){i&&d(e),s[l].d()}}}function jn(n,e,l){let{dimensionPx:t}=e,{board:o}=e,{highlightCell:r=void 0}=e,{highlightMouse:s=!1}=e,{onClick:a=()=>{}}=e,i;const f=u=>{u.setup=()=>{i=u,u.createCanvas(t.width,t.height)},u.draw=()=>{u.background(0),s?gt(u,o,{highlightCell:ot(u)}):gt(u,o,{highlightCell:r})},u.mousePressed=()=>{u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height||a("manual",ot(u))}};return $t(()=>{i==null||i.remove()}),n.$$set=u=>{"dimensionPx"in u&&l(2,t=u.dimensionPx),"board"in u&&l(0,o=u.board),"highlightCell"in u&&l(3,r=u.highlightCell),"highlightMouse"in u&&l(4,s=u.highlightMouse),"onClick"in u&&l(5,a=u.onClick)},[o,f,t,r,s,a]}class It extends _e{constructor(e){super(),pe(this,e,jn,Xn,me,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function dt(n){const e=n.slice(),l=e[0];return e[1]=l.moveCoord,e[2]=l.player,e[3]=l.board,e}function Ht(n){let e,l,t,o,r,s,a,i,f,u,h,P=Ie(n[3],n[2])?"✅":"❌",L,B,_,m,v,k,U=Ve(n[3],n[2],n[1])?"✅":"❌",M,A,N,V,K,x,X=nt(n[3],n[2],n[1])?"✅":"❌",O,ee,R,S,y,z,p=vt(n[3],n[2],n[1])?"✅":"❌",D,I,Y,fe,te,ue,de=lt(n[3],n[2],n[1])?"✅":"❌",ce,be,ve,ae,Ee,we,ye=Ve(n[3],n[2],n[1])?"✅":"❌",Pe;function Ae(Q,W){return W&1&&(r=null),W&1&&(s=null),r==null&&(r=!!Et(Q[1])),r?Jn:(s==null&&(s=!!St(Q[1])),s?Yn:zn)}let ie=Ae(n,-1),Z=ie(n);return{c(){e=g("div"),l=g("span"),t=E("Position"),o=C(),Z.c(),a=C(),i=g("span"),f=E("Player win"),u=C(),h=g("span"),L=E(P),B=C(),_=g("span"),m=E("Move blocks opponent"),v=C(),k=g("span"),M=E(U),A=C(),N=g("span"),V=E("Move creates fork"),K=C(),x=g("span"),O=E(X),ee=C(),R=g("span"),S=E("Move blocks opponent's fork"),y=C(),z=g("span"),D=E(p),I=C(),Y=g("span"),fe=E("Took opposite corner"),te=C(),ue=g("span"),ce=E(de),be=C(),ve=g("span"),ae=E("Last move blocks opponent"),Ee=C(),we=g("span"),Pe=E(ye),this.h()},l(Q){e=$(Q,"DIV",{class:!0});var W=b(e);l=$(W,"SPAN",{});var ge=b(l);t=w(ge,"Position"),ge.forEach(d),o=T(W),Z.l(W),a=T(W),i=$(W,"SPAN",{});var Re=b(i);f=w(Re,"Player win"),Re.forEach(d),u=T(W),h=$(W,"SPAN",{});var Le=b(h);L=w(Le,P),Le.forEach(d),B=T(W),_=$(W,"SPAN",{});var He=b(_);m=w(He,"Move blocks opponent"),He.forEach(d),v=T(W),k=$(W,"SPAN",{});var We=b(k);M=w(We,U),We.forEach(d),A=T(W),N=$(W,"SPAN",{});var Fe=b(N);V=w(Fe,"Move creates fork"),Fe.forEach(d),K=T(W),x=$(W,"SPAN",{});var Ue=b(x);O=w(Ue,X),Ue.forEach(d),ee=T(W),R=$(W,"SPAN",{});var $e=b(R);S=w($e,"Move blocks opponent's fork"),$e.forEach(d),y=T(W),z=$(W,"SPAN",{});var Xe=b(z);D=w(Xe,p),Xe.forEach(d),I=T(W),Y=$(W,"SPAN",{});var je=b(Y);fe=w(je,"Took opposite corner"),je.forEach(d),te=T(W),ue=$(W,"SPAN",{});var De=b(ue);ce=w(De,de),De.forEach(d),be=T(W),ve=$(W,"SPAN",{});var ze=b(ve);ae=w(ze,"Last move blocks opponent"),ze.forEach(d),Ee=T(W),we=$(W,"SPAN",{});var Ye=b(we);Pe=w(Ye,ye),Ye.forEach(d),W.forEach(d),this.h()},h(){q(e,"class","grid2cols svelte-1lw5ne4")},m(Q,W){G(Q,e,W),c(e,l),c(l,t),c(e,o),Z.m(e,null),c(e,a),c(e,i),c(i,f),c(e,u),c(e,h),c(h,L),c(e,B),c(e,_),c(_,m),c(e,v),c(e,k),c(k,M),c(e,A),c(e,N),c(N,V),c(e,K),c(e,x),c(x,O),c(e,ee),c(e,R),c(R,S),c(e,y),c(e,z),c(z,D),c(e,I),c(e,Y),c(Y,fe),c(e,te),c(e,ue),c(ue,ce),c(e,be),c(e,ve),c(ve,ae),c(e,Ee),c(e,we),c(we,Pe)},p(Q,W){ie!==(ie=Ae(Q,W))&&(Z.d(1),Z=ie(Q),Z&&(Z.c(),Z.m(e,a))),W&1&&P!==(P=Ie(Q[3],Q[2])?"✅":"❌")&&se(L,P),W&1&&U!==(U=Ve(Q[3],Q[2],Q[1])?"✅":"❌")&&se(M,U),W&1&&X!==(X=nt(Q[3],Q[2],Q[1])?"✅":"❌")&&se(O,X),W&1&&p!==(p=vt(Q[3],Q[2],Q[1])?"✅":"❌")&&se(D,p),W&1&&de!==(de=lt(Q[3],Q[2],Q[1])?"✅":"❌")&&se(ce,de),W&1&&ye!==(ye=Ve(Q[3],Q[2],Q[1])?"✅":"❌")&&se(Pe,ye)},d(Q){Q&&d(e),Z.d()}}}function zn(n){let e,l;return{c(){e=g("span"),l=E("Edge")},l(t){e=$(t,"SPAN",{});var o=b(e);l=w(o,"Edge"),o.forEach(d)},m(t,o){G(t,e,o),c(e,l)},d(t){t&&d(e)}}}function Yn(n){let e,l;return{c(){e=g("span"),l=E("Corner")},l(t){e=$(t,"SPAN",{});var o=b(e);l=w(o,"Corner"),o.forEach(d)},m(t,o){G(t,e,o),c(e,l)},d(t){t&&d(e)}}}function Jn(n){let e,l;return{c(){e=g("span"),l=E("Center")},l(t){e=$(t,"SPAN",{});var o=b(e);l=w(o,"Center"),o.forEach(d)},m(t,o){G(t,e,o),c(e,l)},d(t){t&&d(e)}}}function qn(n){let e,l=n[0]&&Ht(dt(n));return{c(){l&&l.c(),e=xe()},l(t){l&&l.l(t),e=xe()},m(t,o){l&&l.m(t,o),G(t,e,o)},p(t,[o]){t[0]?l?l.p(dt(t),o):(l=Ht(dt(t)),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ke,o:ke,d(t){l&&l.d(t),t&&d(e)}}}function Kn(n,e,l){let{historyItem:t}=e;return n.$$set=o=>{"historyItem"in o&&l(0,t=o.historyItem)},[t]}class Qn extends _e{constructor(e){super(),pe(this,e,Kn,qn,me,{historyItem:0})}}function Dt(n,e,l){const t=n.slice();return t[2]=e[l],t}function Gt(n){let e,l,t,o,r,s,a,i,f,u,h,P,L,B,_,m=n[0].length===0&&Vt(),v=[...n[0]].reverse(),k=[];for(let M=0;M<v.length;M+=1)k[M]=Rt(Dt(n,v,M));const U=M=>F(k[M],1,1,()=>{k[M]=null});return{c(){e=g("div"),m&&m.c(),l=C(),t=g("h4"),o=E("Move"),r=C(),s=g("h4"),a=E("Selection"),i=C(),f=g("h4"),u=E("AI"),h=C(),P=g("h4"),L=E("Stats"),B=C();for(let M=0;M<k.length;M+=1)k[M].c();this.h()},l(M){e=$(M,"DIV",{class:!0});var A=b(e);m&&m.l(A),l=T(A),t=$(A,"H4",{});var N=b(t);o=w(N,"Move"),N.forEach(d),r=T(A),s=$(A,"H4",{});var V=b(s);a=w(V,"Selection"),V.forEach(d),i=T(A),f=$(A,"H4",{});var K=b(f);u=w(K,"AI"),K.forEach(d),h=T(A),P=$(A,"H4",{});var x=b(P);L=w(x,"Stats"),x.forEach(d),B=T(A);for(let X=0;X<k.length;X+=1)k[X].l(A);A.forEach(d),this.h()},h(){q(e,"class","grid4cols svelte-1ofp4bt")},m(M,A){G(M,e,A),m&&m.m(e,null),c(e,l),c(e,t),c(t,o),c(e,r),c(e,s),c(s,a),c(e,i),c(e,f),c(f,u),c(e,h),c(e,P),c(P,L),c(e,B);for(let N=0;N<k.length;N+=1)k[N].m(e,null);_=!0},p(M,A){if(M[0].length===0?m||(m=Vt(),m.c(),m.m(e,l)):m&&(m.d(1),m=null),A&1){v=[...M[0]].reverse();let N;for(N=0;N<v.length;N+=1){const V=Dt(M,v,N);k[N]?(k[N].p(V,A),H(k[N],1)):(k[N]=Rt(V),k[N].c(),H(k[N],1),k[N].m(e,null))}for(Me(),N=v.length;N<k.length;N+=1)U(N);Ne()}},i(M){if(!_){for(let A=0;A<v.length;A+=1)H(k[A]);_=!0}},o(M){k=k.filter(Boolean);for(let A=0;A<k.length;A+=1)F(k[A]);_=!1},d(M){M&&d(e),m&&m.d(),Je(k,M)}}}function Vt(n){let e,l;return{c(){e=g("p"),l=E("No move yet.")},l(t){e=$(t,"P",{});var o=b(e);l=w(o,"No move yet."),o.forEach(d)},m(t,o){G(t,e,o),c(e,l)},d(t){t&&d(e)}}}function Zn(n){let e;return{c(){e=g("span"),this.h()},l(l){e=$(l,"SPAN",{class:!0}),b(e).forEach(d),this.h()},h(){q(e,"class","item svelte-1ofp4bt")},m(l,t){G(l,e,t)},p:ke,d(l){l&&d(e)}}}function xn(n){let e,l=n[2].aiChoice.score+"",t,o,r=n[2].aiChoice.reason+"",s;return{c(){e=g("span"),t=E(l),o=E(" - "),s=E(r),this.h()},l(a){e=$(a,"SPAN",{class:!0});var i=b(e);t=w(i,l),o=w(i," - "),s=w(i,r),i.forEach(d),this.h()},h(){q(e,"class","item svelte-1ofp4bt")},m(a,i){G(a,e,i),c(e,t),c(e,o),c(e,s)},p(a,i){i&1&&l!==(l=a[2].aiChoice.score+"")&&se(t,l),i&1&&r!==(r=a[2].aiChoice.reason+"")&&se(s,r)},d(a){a&&d(e)}}}function Rt(n){let e,l,t,o,r=n[2].method+"",s,a,i,f,u,h,P;l=new It({props:{board:n[2].board,dimensionPx:{width:100,height:100},highlightCell:n[2].moveCoord}});function L(m,v){return m[2].aiChoice?xn:Zn}let B=L(n),_=B(n);return u=new Qn({props:{historyItem:n[2]}}),{c(){e=g("div"),ne(l.$$.fragment),t=C(),o=g("span"),s=E(r),a=C(),_.c(),i=C(),f=g("div"),ne(u.$$.fragment),h=C(),this.h()},l(m){e=$(m,"DIV",{class:!0});var v=b(e);le(l.$$.fragment,v),v.forEach(d),t=T(m),o=$(m,"SPAN",{class:!0});var k=b(o);s=w(k,r),k.forEach(d),a=T(m),_.l(m),i=T(m),f=$(m,"DIV",{class:!0});var U=b(f);le(u.$$.fragment,U),h=T(U),U.forEach(d),this.h()},h(){q(e,"class","item svelte-1ofp4bt"),q(o,"class","item svelte-1ofp4bt"),q(f,"class","item svelte-1ofp4bt")},m(m,v){G(m,e,v),oe(l,e,null),G(m,t,v),G(m,o,v),c(o,s),G(m,a,v),_.m(m,v),G(m,i,v),G(m,f,v),oe(u,f,null),c(f,h),P=!0},p(m,v){const k={};v&1&&(k.board=m[2].board),v&1&&(k.highlightCell=m[2].moveCoord),l.$set(k),(!P||v&1)&&r!==(r=m[2].method+"")&&se(s,r),B===(B=L(m))&&_?_.p(m,v):(_.d(1),_=B(m),_&&(_.c(),_.m(i.parentNode,i)));const U={};v&1&&(U.historyItem=m[2]),u.$set(U)},i(m){P||(H(l.$$.fragment,m),H(u.$$.fragment,m),P=!0)},o(m){F(l.$$.fragment,m),F(u.$$.fragment,m),P=!1},d(m){m&&d(e),re(l),m&&d(t),m&&d(o),m&&d(a),_.d(m),m&&d(i),m&&d(f),re(u)}}}function el(n){let e,l,t=n[1]&&Gt(n);return{c(){e=g("div"),t&&t.c()},l(o){e=$(o,"DIV",{});var r=b(e);t&&t.l(r),r.forEach(d)},m(o,r){G(o,e,r),t&&t.m(e,null),l=!0},p(o,[r]){o[1]?t?(t.p(o,r),r&2&&H(t,1)):(t=Gt(o),t.c(),H(t,1),t.m(e,null)):t&&(Me(),F(t,1,1,()=>{t=null}),Ne())},i(o){l||(H(t),l=!0)},o(o){F(t),l=!1},d(o){o&&d(e),t&&t.d()}}}function tl(n,e,l){let{history:t}=e,{showMoveHistory:o}=e;return n.$$set=r=>{"history"in r&&l(0,t=r.history),"showMoveHistory"in r&&l(1,o=r.showMoveHistory)},[t,o]}class nl extends _e{constructor(e){super(),pe(this,e,tl,el,me,{history:0,showMoveHistory:1})}}function ll(n){let e,l;return e=new It({props:{board:n[0].board,dimensionPx:{width:100,height:100}}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.board=t[0].board),e.$set(r)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function ol(n){let e,l;return e=new nl({props:{history:n[0].moveHistory,showMoveHistory:n[1]}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.history=t[0].moveHistory),o&2&&(r.showMoveHistory=t[1]),e.$set(r)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function rl(n){let e,l,t,o,r,s=n[2](n[0])+"",a,i,f,u=n[1]?"Hide":"Show",h,P,L,B,_,m,v,k;const U=[ol,ll],M=[];function A(N,V){return N[1]?0:1}return B=A(n),_=M[B]=U[B](n),{c(){e=g("div"),l=g("h4"),t=E("Game info"),o=C(),r=g("span"),a=E(s),i=C(),f=g("button"),h=E(u),P=E(" move history"),L=C(),_.c()},l(N){e=$(N,"DIV",{});var V=b(e);l=$(V,"H4",{});var K=b(l);t=w(K,"Game info"),K.forEach(d),o=T(V),r=$(V,"SPAN",{});var x=b(r);a=w(x,s),x.forEach(d),i=T(V),f=$(V,"BUTTON",{});var X=b(f);h=w(X,u),P=w(X," move history"),X.forEach(d),L=T(V),_.l(V),V.forEach(d)},m(N,V){G(N,e,V),c(e,l),c(l,t),c(e,o),c(e,r),c(r,a),c(e,i),c(e,f),c(f,h),c(f,P),c(e,L),M[B].m(e,null),m=!0,v||(k=he(f,"click",n[3]),v=!0)},p(N,[V]){(!m||V&1)&&s!==(s=N[2](N[0])+"")&&se(a,s),(!m||V&2)&&u!==(u=N[1]?"Hide":"Show")&&se(h,u);let K=B;B=A(N),B===K?M[B].p(N,V):(Me(),F(M[K],1,1,()=>{M[K]=null}),Ne(),_=M[B],_?_.p(N,V):(_=M[B]=U[B](N),_.c()),H(_,1),_.m(e,null))},i(N){m||(H(_),m=!0)},o(N){F(_),m=!1},d(N){N&&d(e),M[B].d(),v=!1,k()}}}function sl(n,e,l){let{game:t}=e,o=!1;const r=a=>!a||!a.state?"N/A":a.state==="not_over"?"Turn: "+(a.currentPlayer===J.player?"Player":"Computer"):a.state==="player_win"?"Player Win":a.state==="computer_win"?"Computer Win":a.state==="draw"?"Draw":a.state==="over"?"Game Over":"Invalid Game",s=()=>l(1,o=!o);return n.$$set=a=>{"game"in a&&l(0,t=a.game)},[t,o,r,s]}class sn extends _e{constructor(e){super(),pe(this,e,sl,rl,me,{game:0})}}function Lt(n,e,l){const t=n.slice();return t[12]=e[l],t}function Wt(n){let e,l,t,o;return{c(){e=g("p"),l=E("Restarting in "),t=E(n[1]),o=E(" seconds")},l(r){e=$(r,"P",{});var s=b(e);l=w(s,"Restarting in "),t=w(s,n[1]),o=w(s," seconds"),s.forEach(d)},m(r,s){G(r,e,s),c(e,l),c(e,t),c(e,o)},p(r,s){s&2&&se(t,r[1])},d(r){r&&d(e)}}}function Ft(n){let e,l=n[12]+"",t,o;return{c(){e=g("option"),t=E(l),o=C(),this.h()},l(r){e=$(r,"OPTION",{});var s=b(e);t=w(s,l),o=T(s),s.forEach(d),this.h()},h(){e.__value=n[12],e.value=e.__value},m(r,s){G(r,e,s),c(e,t),c(e,o)},p:ke,d(r){r&&d(e)}}}function Ut(n){let e,l,t,o,r,s,a;return l=new It({props:{board:n[0].board,dimensionPx:{width:400,height:400},onClick:n[3],highlightMouse:!0}}),o=new rn({props:{board:n[0].board}}),s=new sn({props:{game:n[0],showMoveInfo:!0}}),{c(){e=g("div"),ne(l.$$.fragment),t=C(),ne(o.$$.fragment),r=C(),ne(s.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var f=b(e);le(l.$$.fragment,f),t=T(f),le(o.$$.fragment,f),f.forEach(d),r=T(i),le(s.$$.fragment,i),this.h()},h(){q(e,"class","grid2colsResponsive svelte-1epiyf5")},m(i,f){G(i,e,f),oe(l,e,null),c(e,t),oe(o,e,null),G(i,r,f),oe(s,i,f),a=!0},p(i,f){const u={};f&1&&(u.board=i[0].board),l.$set(u);const h={};f&1&&(h.board=i[0].board),o.$set(h);const P={};f&1&&(P.game=i[0]),s.$set(P)},i(i){a||(H(l.$$.fragment,i),H(o.$$.fragment,i),H(s.$$.fragment,i),a=!0)},o(i){F(l.$$.fragment,i),F(o.$$.fragment,i),F(s.$$.fragment,i),a=!1},d(i){i&&d(e),re(l),re(o),i&&d(r),re(s,i)}}}function al(n){let e,l,t,o,r,s,a,i,f,u,h,P,L,B,_,m,v,k,U,M,A,N,V,K,x,X,O=n[1]>0&&Wt(n),ee=Object.keys(Oe),R=[];for(let y=0;y<ee.length;y+=1)R[y]=Ft(Lt(n,ee,y));let S=n[0].board&&Ut(n);return{c(){e=g("h2"),l=E("Game"),t=C(),o=g("div"),O&&O.c(),r=C(),s=g("label"),a=E("AI type"),i=C(),f=g("select");for(let y=0;y<R.length;y+=1)R[y].c();u=C(),h=g("div"),P=g("span"),L=E("Player automatic move"),B=C(),_=g("button"),m=E("Random move"),v=C(),k=g("button"),U=E("Hardcoded rules"),M=C(),A=g("button"),N=E("Complete hardcoded rules"),V=C(),S&&S.c(),this.h()},l(y){e=$(y,"H2",{});var z=b(e);l=w(z,"Game"),z.forEach(d),t=T(y),o=$(y,"DIV",{});var p=b(o);O&&O.l(p),r=T(p),s=$(p,"LABEL",{for:!0});var D=b(s);a=w(D,"AI type"),D.forEach(d),i=T(p),f=$(p,"SELECT",{id:!0});var I=b(f);for(let ce=0;ce<R.length;ce+=1)R[ce].l(I);I.forEach(d),u=T(p),h=$(p,"DIV",{});var Y=b(h);P=$(Y,"SPAN",{});var fe=b(P);L=w(fe,"Player automatic move"),fe.forEach(d),B=T(Y),_=$(Y,"BUTTON",{});var te=b(_);m=w(te,"Random move"),te.forEach(d),v=T(Y),k=$(Y,"BUTTON",{});var ue=b(k);U=w(ue,"Hardcoded rules"),ue.forEach(d),M=T(Y),A=$(Y,"BUTTON",{});var de=b(A);N=w(de,"Complete hardcoded rules"),de.forEach(d),Y.forEach(d),V=T(p),S&&S.l(p),p.forEach(d),this.h()},h(){q(s,"for","aiType"),q(f,"id","aiType"),n[2]===void 0&&ht(()=>n[4].call(f))},m(y,z){G(y,e,z),c(e,l),G(y,t,z),G(y,o,z),O&&O.m(o,null),c(o,r),c(o,s),c(s,a),c(o,i),c(o,f);for(let p=0;p<R.length;p+=1)R[p].m(f,null);Ge(f,n[2]),c(o,u),c(o,h),c(h,P),c(P,L),c(h,B),c(h,_),c(_,m),c(h,v),c(h,k),c(k,U),c(h,M),c(h,A),c(A,N),c(o,V),S&&S.m(o,null),K=!0,x||(X=[he(f,"change",n[4]),he(_,"click",n[5]),he(k,"click",n[6]),he(A,"click",n[7])],x=!0)},p(y,[z]){if(y[1]>0?O?O.p(y,z):(O=Wt(y),O.c(),O.m(o,r)):O&&(O.d(1),O=null),z&0){ee=Object.keys(Oe);let p;for(p=0;p<ee.length;p+=1){const D=Lt(y,ee,p);R[p]?R[p].p(D,z):(R[p]=Ft(D),R[p].c(),R[p].m(f,null))}for(;p<R.length;p+=1)R[p].d(1);R.length=ee.length}z&4&&Ge(f,y[2]),y[0].board?S?(S.p(y,z),z&1&&H(S,1)):(S=Ut(y),S.c(),H(S,1),S.m(o,null)):S&&(Me(),F(S,1,1,()=>{S=null}),Ne())},i(y){K||(H(S),K=!0)},o(y){F(S),K=!1},d(y){y&&d(e),y&&d(t),y&&d(o),O&&O.d(),Je(R,y),S&&S.d(),x=!1,bt(X)}}}function il(n,e,l){let t,o,r,s="hardcodedRulesComplete",a=!1;i();function i(){l(0,t=ln(a?J.computer:J.player)),a&&qe(t,J.computer,s),o=t.currentPlayer,a=!a}const f=(_,m)=>{if(o===J.player){if(_==="manual"){if(!m)return;Gn(t,J.player,m)}else qe(t,J.player,_);l(0,t),o=t.currentPlayer,setTimeout(()=>{if(qe(t,J.computer,s),l(0,t),o=t.currentPlayer,t.state!=="not_over"){l(1,r=4);const v=setInterval(()=>{l(1,r--,r),r===0&&(i(),clearInterval(v))},1e3)}},500)}},u=(_,m)=>{f(_,m)};function h(){s=_t(this),l(2,s)}return[t,r,s,u,h,()=>u("random"),()=>u("hardcodedRules"),()=>u("hardcodedRulesComplete")]}class cl extends _e{constructor(e){super(),pe(this,e,il,al,me,{})}}function Xt(n,e,l){const t=n.slice();return t[7]=e[l],t}function jt(n,e,l){const t=n.slice();return t[10]=e[l],t}function zt(n,e,l){const t=n.slice();return t[10]=e[l],t}function Yt(n){let e,l=n[10]+"",t,o;return{c(){e=g("option"),t=E(l),o=C(),this.h()},l(r){e=$(r,"OPTION",{});var s=b(e);t=w(s,l),o=T(s),s.forEach(d),this.h()},h(){e.__value=n[10],e.value=e.__value},m(r,s){G(r,e,s),c(e,t),c(e,o)},p:ke,d(r){r&&d(e)}}}function Jt(n){let e,l=n[10]+"",t,o;return{c(){e=g("option"),t=E(l),o=C(),this.h()},l(r){e=$(r,"OPTION",{});var s=b(e);t=w(s,l),o=T(s),s.forEach(d),this.h()},h(){e.__value=n[10],e.value=e.__value},m(r,s){G(r,e,s),c(e,t),c(e,o)},p:ke,d(r){r&&d(e)}}}function qt(n){let e,l;return e=new sn({props:{game:n[7]}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.game=t[7]),e.$set(r)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function Kt(n){let e,l,t=n[7].board&&qt(n);return{c(){t&&t.c(),e=xe()},l(o){t&&t.l(o),e=xe()},m(o,r){t&&t.m(o,r),G(o,e,r),l=!0},p(o,r){o[7].board?t?(t.p(o,r),r&1&&H(t,1)):(t=qt(o),t.c(),H(t,1),t.m(e.parentNode,e)):t&&(Me(),F(t,1,1,()=>{t=null}),Ne())},i(o){l||(H(t),l=!0)},o(o){F(t),l=!1},d(o){t&&t.d(o),o&&d(e)}}}function fl(n){let e,l,t,o,r,s,a,i,f,u,h,P,L,B,_,m,v,k,U,M,A,N,V,K,x,X=Object.keys(Oe),O=[];for(let p=0;p<X.length;p+=1)O[p]=Yt(zt(n,X,p));let ee=Object.keys(Oe),R=[];for(let p=0;p<ee.length;p+=1)R[p]=Jt(jt(n,ee,p));let S=n[0],y=[];for(let p=0;p<S.length;p+=1)y[p]=Kt(Xt(n,S,p));const z=p=>F(y[p],1,1,()=>{y[p]=null});return{c(){e=g("div"),l=g("h2"),t=E("Generator"),o=C(),r=g("button"),s=E("Delete games"),a=C(),i=g("button"),f=E("Create game"),u=C(),h=g("div"),P=g("label"),L=E("AI type"),B=C(),_=g("select");for(let p=0;p<O.length;p+=1)O[p].c();m=C(),v=g("label"),k=E("AI type"),U=C(),M=g("select");for(let p=0;p<R.length;p+=1)R[p].c();A=C(),N=g("div");for(let p=0;p<y.length;p+=1)y[p].c();this.h()},l(p){e=$(p,"DIV",{});var D=b(e);l=$(D,"H2",{});var I=b(l);t=w(I,"Generator"),I.forEach(d),o=T(D),r=$(D,"BUTTON",{});var Y=b(r);s=w(Y,"Delete games"),Y.forEach(d),a=T(D),i=$(D,"BUTTON",{});var fe=b(i);f=w(fe,"Create game"),fe.forEach(d),u=T(D),h=$(D,"DIV",{});var te=b(h);P=$(te,"LABEL",{for:!0});var ue=b(P);L=w(ue,"AI type"),ue.forEach(d),B=T(te),_=$(te,"SELECT",{id:!0});var de=b(_);for(let ae=0;ae<O.length;ae+=1)O[ae].l(de);de.forEach(d),m=T(te),v=$(te,"LABEL",{for:!0});var ce=b(v);k=w(ce,"AI type"),ce.forEach(d),U=T(te),M=$(te,"SELECT",{id:!0});var be=b(M);for(let ae=0;ae<R.length;ae+=1)R[ae].l(be);be.forEach(d),te.forEach(d),A=T(D),N=$(D,"DIV",{});var ve=b(N);for(let ae=0;ae<y.length;ae+=1)y[ae].l(ve);ve.forEach(d),D.forEach(d),this.h()},h(){q(P,"for","aiType"),q(_,"id","aiType"),n[1]===void 0&&ht(()=>n[5].call(_)),q(v,"for","aiType"),q(M,"id","aiType"),n[2]===void 0&&ht(()=>n[6].call(M))},m(p,D){G(p,e,D),c(e,l),c(l,t),c(e,o),c(e,r),c(r,s),c(e,a),c(e,i),c(i,f),c(e,u),c(e,h),c(h,P),c(P,L),c(h,B),c(h,_);for(let I=0;I<O.length;I+=1)O[I].m(_,null);Ge(_,n[1]),c(h,m),c(h,v),c(v,k),c(h,U),c(h,M);for(let I=0;I<R.length;I+=1)R[I].m(M,null);Ge(M,n[2]),c(e,A),c(e,N);for(let I=0;I<y.length;I+=1)y[I].m(N,null);V=!0,K||(x=[he(r,"click",n[4]),he(i,"click",n[3]),he(_,"change",n[5]),he(M,"change",n[6])],K=!0)},p(p,[D]){if(D&0){X=Object.keys(Oe);let I;for(I=0;I<X.length;I+=1){const Y=zt(p,X,I);O[I]?O[I].p(Y,D):(O[I]=Yt(Y),O[I].c(),O[I].m(_,null))}for(;I<O.length;I+=1)O[I].d(1);O.length=X.length}if(D&2&&Ge(_,p[1]),D&0){ee=Object.keys(Oe);let I;for(I=0;I<ee.length;I+=1){const Y=jt(p,ee,I);R[I]?R[I].p(Y,D):(R[I]=Jt(Y),R[I].c(),R[I].m(M,null))}for(;I<R.length;I+=1)R[I].d(1);R.length=ee.length}if(D&4&&Ge(M,p[2]),D&1){S=p[0];let I;for(I=0;I<S.length;I+=1){const Y=Xt(p,S,I);y[I]?(y[I].p(Y,D),H(y[I],1)):(y[I]=Kt(Y),y[I].c(),H(y[I],1),y[I].m(N,null))}for(Me(),I=S.length;I<y.length;I+=1)z(I);Ne()}},i(p){if(!V){for(let D=0;D<S.length;D+=1)H(y[D]);V=!0}},o(p){y=y.filter(Boolean);for(let D=0;D<y.length;D+=1)F(y[D]);V=!1},d(p){p&&d(e),Je(O,p),Je(R,p),Je(y,p),K=!1,bt(x)}}}function ul(n,e,l){let t=[],o="random",r="hardcodedRulesComplete";const s=()=>{const u=ln();for(;u.state==="not_over";)qe(u,J.player,o),qe(u,J.computer,r);l(0,t=[u,...t])},a=()=>{l(0,t=[])};function i(){o=_t(this),l(1,o)}function f(){r=_t(this),l(2,r)}return[t,o,r,s,a,i,f]}class dl extends _e{constructor(e){super(),pe(this,e,ul,fl,me,{})}}function hl(n){let e,l,t,o,r,s,a,i,f,u,h,P,L,B,_,m,v,k,U,M,A,N,V,K,x,X,O,ee,R;return r=new xt({props:{sketch:n[6]}}),X=new rn({props:{board:n[1],lastMove:n[3]}}),{c(){e=g("h2"),l=E("Analyzer"),t=C(),o=g("div"),ne(r.$$.fragment),s=C(),a=g("div"),i=g("h4"),f=E("Controls"),u=C(),h=g("button"),P=E("Play O"),B=C(),_=g("button"),m=E("Play X"),k=C(),U=g("button"),M=E("Previous"),N=C(),V=g("button"),K=E("Reset"),x=C(),ne(X.$$.fragment),this.h()},l(S){e=$(S,"H2",{});var y=b(e);l=w(y,"Analyzer"),y.forEach(d),t=T(S),o=$(S,"DIV",{});var z=b(o);le(r.$$.fragment,z),s=T(z),a=$(z,"DIV",{});var p=b(a);i=$(p,"H4",{});var D=b(i);f=w(D,"Controls"),D.forEach(d),u=T(p),h=$(p,"BUTTON",{});var I=b(h);P=w(I,"Play O"),I.forEach(d),B=T(p),_=$(p,"BUTTON",{});var Y=b(_);m=w(Y,"Play X"),Y.forEach(d),k=T(p),U=$(p,"BUTTON",{});var fe=b(U);M=w(fe,"Previous"),fe.forEach(d),N=T(p),V=$(p,"BUTTON",{});var te=b(V);K=w(te,"Reset"),te.forEach(d),p.forEach(d),x=T(z),le(X.$$.fragment,z),z.forEach(d),this.h()},h(){h.disabled=L=n[2]===J.player,_.disabled=v=n[2]===J.computer,U.disabled=A=(n[0]||[]).length<2},m(S,y){G(S,e,y),c(e,l),G(S,t,y),G(S,o,y),oe(r,o,null),c(o,s),c(o,a),c(a,i),c(i,f),c(a,u),c(a,h),c(h,P),c(a,B),c(a,_),c(_,m),c(a,k),c(a,U),c(U,M),c(a,N),c(a,V),c(V,K),c(o,x),oe(X,o,null),O=!0,ee||(R=[he(h,"click",n[7]),he(_,"click",n[8]),he(U,"click",n[5]),he(V,"click",n[4])],ee=!0)},p(S,[y]){(!O||y&4&&L!==(L=S[2]===J.player))&&(h.disabled=L),(!O||y&4&&v!==(v=S[2]===J.computer))&&(_.disabled=v),(!O||y&1&&A!==(A=(S[0]||[]).length<2))&&(U.disabled=A);const z={};y&2&&(z.board=S[1]),y&8&&(z.lastMove=S[3]),X.$set(z)},i(S){O||(H(r.$$.fragment,S),H(X.$$.fragment,S),O=!0)},o(S){F(r.$$.fragment,S),F(X.$$.fragment,S),O=!1},d(S){S&&d(e),S&&d(t),S&&d(o),re(r),re(X),ee=!1,bt(R)}}}function _l(n,e,l){let t,o,r,s=J.player,a;function i(_,m){Qe(r,_,Se(m)),l(3,a=m),l(1,r),o.push({...r}),l(0,o),f()}function f(){l(2,s=s===J.player?J.computer:J.player)}function u(){l(1,r=tn()),l(0,o=[{...r}]),l(3,a={x:-1,y:-1})}function h(){o.length<=1||(o.pop(),l(0,o),l(1,r={...o[o.length-1]}))}const P=_=>{_.setup=()=>{t=_,_.createCanvas(400,400),u()},_.draw=()=>{_.background(0),gt(_,r,{drawSelection:!0,selection:ot(_),currentPlayer:s})},_.mousePressed=()=>{if(_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height)return;const m=ot(_);i(s,m)}};return $t(()=>{t==null||t.remove()}),[o,r,s,a,u,h,P,()=>l(2,s=J.player),()=>l(2,s=J.computer)]}class pl extends _e{constructor(e){super(),pe(this,e,_l,hl,me,{})}}function ml(n){let e;return{c(){e=E("Game")},l(l){e=w(l,"Game")},m(l,t){G(l,e,t)},d(l){l&&d(e)}}}function vl(n){let e;return{c(){e=E("Generator")},l(l){e=w(l,"Generator")},m(l,t){G(l,e,t)},d(l){l&&d(e)}}}function gl(n){let e;return{c(){e=E("Analyzer")},l(l){e=w(l,"Analyzer")},m(l,t){G(l,e,t)},d(l){l&&d(e)}}}function $l(n){let e,l,t,o,r,s;return e=new ft({props:{$$slots:{default:[ml]},$$scope:{ctx:n}}}),t=new ft({props:{$$slots:{default:[vl]},$$scope:{ctx:n}}}),r=new ft({props:{$$slots:{default:[gl]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment),l=C(),ne(t.$$.fragment),o=C(),ne(r.$$.fragment)},l(a){le(e.$$.fragment,a),l=T(a),le(t.$$.fragment,a),o=T(a),le(r.$$.fragment,a)},m(a,i){oe(e,a,i),G(a,l,i),oe(t,a,i),G(a,o,i),oe(r,a,i),s=!0},p(a,i){const f={};i&1&&(f.$$scope={dirty:i,ctx:a}),e.$set(f);const u={};i&1&&(u.$$scope={dirty:i,ctx:a}),t.$set(u);const h={};i&1&&(h.$$scope={dirty:i,ctx:a}),r.$set(h)},i(a){s||(H(e.$$.fragment,a),H(t.$$.fragment,a),H(r.$$.fragment,a),s=!0)},o(a){F(e.$$.fragment,a),F(t.$$.fragment,a),F(r.$$.fragment,a),s=!1},d(a){re(e,a),a&&d(l),re(t,a),a&&d(o),re(r,a)}}}function bl(n){let e,l;return e=new cl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function kl(n){let e,l;return e=new dl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function yl(n){let e,l;return e=new pl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function Pl(n){let e,l,t,o,r,s,a,i;return e=new kn({props:{$$slots:{default:[$l]},$$scope:{ctx:n}}}),t=new ut({props:{$$slots:{default:[bl]},$$scope:{ctx:n}}}),r=new ut({props:{$$slots:{default:[kl]},$$scope:{ctx:n}}}),a=new ut({props:{$$slots:{default:[yl]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment),l=C(),ne(t.$$.fragment),o=C(),ne(r.$$.fragment),s=C(),ne(a.$$.fragment)},l(f){le(e.$$.fragment,f),l=T(f),le(t.$$.fragment,f),o=T(f),le(r.$$.fragment,f),s=T(f),le(a.$$.fragment,f)},m(f,u){oe(e,f,u),G(f,l,u),oe(t,f,u),G(f,o,u),oe(r,f,u),G(f,s,u),oe(a,f,u),i=!0},p(f,u){const h={};u&1&&(h.$$scope={dirty:u,ctx:f}),e.$set(h);const P={};u&1&&(P.$$scope={dirty:u,ctx:f}),t.$set(P);const L={};u&1&&(L.$$scope={dirty:u,ctx:f}),r.$set(L);const B={};u&1&&(B.$$scope={dirty:u,ctx:f}),a.$set(B)},i(f){i||(H(e.$$.fragment,f),H(t.$$.fragment,f),H(r.$$.fragment,f),H(a.$$.fragment,f),i=!0)},o(f){F(e.$$.fragment,f),F(t.$$.fragment,f),F(r.$$.fragment,f),F(a.$$.fragment,f),i=!1},d(f){re(e,f),f&&d(l),re(t,f),f&&d(o),re(r,f),f&&d(s),re(a,f)}}}function El(n){let e,l;return e=new mn({props:{$$slots:{default:[Pl]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p(t,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}class wl extends _e{constructor(e){super(),pe(this,e,null,El,me,{})}}function Sl(n){let e,l;return e=new wl({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,o){oe(e,t,o),l=!0},p:ke,i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}class Ml extends _e{constructor(e){super(),pe(this,e,null,Sl,me,{})}}export{Ml as default};
