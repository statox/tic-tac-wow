import{S as Se,i as Ie,s as Ce,C as ft,k as v,l as g,m as b,h as u,n as j,b as G,N as Pe,E as ct,F as ut,G as _t,f as F,t as U,H as Ze,a0 as dn,o as nn,j as pn,W as kt,I as At,a1 as ln,A as mn,$ as vn,g as Xe,d as je,q as E,a as S,r as P,c as I,D as a,B as Te,u as se,w as ae,x as ie,y as fe,z as ce,e as lt,J as Ye,K as tt,M as Re,P as Et,Q as nt,L as Mt,O as on}from"../../../chunks/index-1d785069.js";import{w as et}from"../../../chunks/index-c5a64178.js";import{P as rn}from"../../../chunks/P5-76a6b36f.js";let gn=1;function sn(){return`svelte-tabs-${gn++}`}function bn(n){let e,l,t,o;const r=n[4].default,s=ft(r,n,n[3],null);return{c(){e=v("div"),s&&s.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var f=b(e);s&&s.l(f),f.forEach(u),this.h()},h(){j(e,"class","svelte-tabs")},m(i,f){G(i,e,f),s&&s.m(e,null),l=!0,t||(o=Pe(e,"keydown",n[1]),t=!0)},p(i,[f]){s&&s.p&&(!l||f&8)&&ct(s,r,i,i[3],l?_t(r,i[3],f,null):ut(i[3]),null)},i(i){l||(F(s,i),l=!0)},o(i){U(s,i),l=!1},d(i){i&&u(e),s&&s.d(i),t=!1,o()}}}const Pt={};function $n(n,e,l){const t=n.indexOf(e);n.splice(t,1),l.update(o=>o===e?n[t]||n[n.length-1]:o)}function kn(n,e,l){let t,{$$slots:o={},$$scope:r}=e,{initialSelectedIndex:s=0}=e;const i=[],f=[],c=[],_=et({}),p=et({}),w=et(null);Ze(n,w,$=>l(5,t=$));const N=et(null);function C($,y,R){$.push(y),R.update(O=>O||y),kt(()=>$n($,y,R))}function m($){const y=f.indexOf($);w.set($),N.set(c[y])}dn(Pt,{registerTab($){C(f,$,w)},registerTabElement($){i.push($)},registerPanel($){C(c,$,N)},selectTab:m,selectedTab:w,selectedPanel:N,controls:_,labeledBy:p}),nn(()=>{m(f[s])}),pn(()=>{for(let $=0;$<f.length;$++)_.update(y=>({...y,[f[$].id]:c[$].id})),p.update(y=>({...y,[c[$].id]:f[$].id}))});async function d($){if($.target.classList.contains("svelte-tabs__tab")){let y=f.indexOf(t);switch($.key){case"ArrowRight":y+=1,y>f.length-1&&(y=0),m(f[y]),i[y].focus();break;case"ArrowLeft":y-=1,y<0&&(y=f.length-1),m(f[y]),i[y].focus()}}}return n.$$set=$=>{"initialSelectedIndex"in $&&l(2,s=$.initialSelectedIndex),"$$scope"in $&&l(3,r=$.$$scope)},[w,d,s,r,o]}class En extends Se{constructor(e){super(),Ie(this,e,kn,bn,Ce,{initialSelectedIndex:2})}}function Pn(n){let e,l,t,o,r,s;const i=n[9].default,f=ft(i,n,n[8],null);return{c(){e=v("li"),f&&f.c(),this.h()},l(c){e=g(c,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var _=b(e);f&&f.l(_),_.forEach(u),this.h()},h(){j(e,"role","tab"),j(e,"id",n[3].id),j(e,"aria-controls",l=n[2][n[3].id]),j(e,"aria-selected",n[1]),j(e,"tabindex",t=n[1]?0:-1),j(e,"class","svelte-tabs__tab svelte-1fbofsd"),At(e,"svelte-tabs__selected",n[1])},m(c,_){G(c,e,_),f&&f.m(e,null),n[10](e),o=!0,r||(s=Pe(e,"click",n[11]),r=!0)},p(c,[_]){f&&f.p&&(!o||_&256)&&ct(f,i,c,c[8],o?_t(i,c[8],_,null):ut(c[8]),null),(!o||_&4&&l!==(l=c[2][c[3].id]))&&j(e,"aria-controls",l),(!o||_&2)&&j(e,"aria-selected",c[1]),(!o||_&2&&t!==(t=c[1]?0:-1))&&j(e,"tabindex",t),(!o||_&2)&&At(e,"svelte-tabs__selected",c[1])},i(c){o||(F(f,c),o=!0)},o(c){U(f,c),o=!1},d(c){c&&u(e),f&&f.d(c),n[10](null),r=!1,s()}}}function yn(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e,i;const f={id:sn()},{registerTab:c,registerTabElement:_,selectTab:p,selectedTab:w,controls:N}=ln(Pt);Ze(n,w,$=>l(7,t=$)),Ze(n,N,$=>l(2,o=$));let C;c(f),nn(async()=>{await mn(),_(i)});function m($){vn[$?"unshift":"push"](()=>{i=$,l(0,i)})}const d=()=>p(f);return n.$$set=$=>{"$$scope"in $&&l(8,s=$.$$scope)},n.$$.update=()=>{n.$$.dirty&128&&l(1,C=t===f)},[i,C,o,f,p,w,N,t,s,r,m,d]}class dt extends Se{constructor(e){super(),Ie(this,e,yn,Pn,Ce,{})}}function wn(n){let e,l;const t=n[1].default,o=ft(t,n,n[0],null);return{c(){e=v("ul"),o&&o.c(),this.h()},l(r){e=g(r,"UL",{role:!0,class:!0});var s=b(e);o&&o.l(s),s.forEach(u),this.h()},h(){j(e,"role","tablist"),j(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,s){G(r,e,s),o&&o.m(e,null),l=!0},p(r,[s]){o&&o.p&&(!l||s&1)&&ct(o,t,r,r[0],l?_t(t,r[0],s,null):ut(r[0]),null)},i(r){l||(F(o,r),l=!0)},o(r){U(o,r),l=!1},d(r){r&&u(e),o&&o.d(r)}}}function Sn(n,e,l){let{$$slots:t={},$$scope:o}=e;return n.$$set=r=>{"$$scope"in r&&l(0,o=r.$$scope)},[o,t]}class In extends Se{constructor(e){super(),Ie(this,e,Sn,wn,Ce,{})}}function Ot(n){let e;const l=n[6].default,t=ft(l,n,n[5],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&32)&&ct(t,l,o,o[5],e?_t(l,o[5],r,null):ut(o[5]),null)},i(o){e||(F(t,o),e=!0)},o(o){U(t,o),e=!1},d(o){t&&t.d(o)}}}function Cn(n){let e,l,t,o=n[1]===n[2]&&Ot(n);return{c(){e=v("div"),o&&o.c(),this.h()},l(r){e=g(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=b(e);o&&o.l(s),s.forEach(u),this.h()},h(){j(e,"id",n[2].id),j(e,"aria-labelledby",l=n[0][n[2].id]),j(e,"class","svelte-tabs__tab-panel svelte-epfyet"),j(e,"role","tabpanel")},m(r,s){G(r,e,s),o&&o.m(e,null),t=!0},p(r,[s]){r[1]===r[2]?o?(o.p(r,s),s&2&&F(o,1)):(o=Ot(r),o.c(),F(o,1),o.m(e,null)):o&&(Xe(),U(o,1,1,()=>{o=null}),je()),(!t||s&1&&l!==(l=r[0][r[2].id]))&&j(e,"aria-labelledby",l)},i(r){t||(F(o),t=!0)},o(r){U(o),t=!1},d(r){r&&u(e),o&&o.d()}}}function Nn(n,e,l){let t,o,{$$slots:r={},$$scope:s}=e;const i={id:sn()},{registerPanel:f,selectedPanel:c,labeledBy:_}=ln(Pt);return Ze(n,c,p=>l(1,o=p)),Ze(n,_,p=>l(0,t=p)),f(i),n.$$set=p=>{"$$scope"in p&&l(5,s=p.$$scope)},[t,o,i,c,_,s,r]}class pt extends Se{constructor(e){super(),Ie(this,e,Nn,Cn,Ce,{})}}function Be(n){const{x:e,y:l}=n;if(e<0||e>2||l<0||l>2)throw new Error(`Invalid coords (${e},${l})`);return 8-(3*l+e)}function yt(n){if(n<0||n>8)throw new Error("Invalid index ${i}");return{x:2-n%3,y:2-Math.floor(n/3)}}const Tn=[448,56,7,292,146,73,273,84],An=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],Mn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],On=[{p:2,o:5},{p:2,o:144}],ze=(n,e)=>(n&e)===e;function Bt(n){let e=n,l=0;for(;e;)l+=e&1,e>>=1;return l}function Ht(n,e){const l=Be(e);return z(n,l)}function z(n,e){return!(n&1<<e)}function vt(n,e){return n+2**e}const gt=n=>{for(const e of Tn)if(ze(n,e))return!0;return!1};var Y=(n=>(n[n.player=1]="player",n[n.computer=2]="computer",n))(Y||{});function an(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function We(n,e){return e===Y.player?n.player:n.computer}function Ue(n,e){return e===Y.player?n.computer:n.player}function ot(n,e){if(!e&&!Bn(n))return"invalid_board";const l=gt(n.player),t=gt(n.computer);return l&&t?"draw":l?"player_win":t?"computer_win":Gn(n)?"not_over":"over"}function xe(n,e,l){if(!Hn(n,l))throw new Error(`Impossible move. player: ${n==null?void 0:n.player}, computer: ${n==null?void 0:n.computer}, index ${l} `);e===Y.player?n.player=vt(n.player,l):n.computer=vt(n.computer,l)}function Bn(n){if(n.player&n.computer)return!1;const e=Bt(n.player),l=Bt(n.computer);return!(Math.abs(e-l)>1)}function Hn(n,e){return z(n.player,e)&&z(n.computer,e)}function Gn(n){return(n.player|n.computer)!==511}function wt(n){let e=n.player|n.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const l=[];let t=0;for(;t<9;)e&1||l.push(t),t++,e>>=1;return l}const Dn=[2,5,8,1,4,7,0,3,6];function Gt(n){let e=0;return Dn.forEach((l,t)=>{z(n,t)||(e=vt(e,l))}),e}function rt(n,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...n};e=e%4;const l={...n};for(let t=0;t<e;t++)l.player=Gt(l.player),l.computer=Gt(l.computer);return l}function Fe(n,e){const l=We(n,e);return gt(l)}function St(n){return(n==null?void 0:n.y)===1&&(n==null?void 0:n.x)===1}function st(n,e,l){const t=Be(l),o=We(n,e),r=Ue(n,e);if(t===4){const s=z(r,5)&&!z(o,3)||!z(o,5)&&z(r,3)?1:0,i=z(r,7)&&!z(o,1)||!z(o,7)&&z(r,1)?1:0,f=z(r,8)&&!z(o,0)||!z(o,8)&&z(r,0)?1:0,c=z(r,6)&&!z(o,2)||!z(o,6)&&z(r,2)?1:0;return s+i+f+c>=2}if(ht.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,i=rt(n,s),f=We(i,e),c=Ue(i,e),_=z(c,2)&&!z(f,1)||!z(f,2)&&z(c,1),p=z(c,6)&&!z(f,3)||!z(f,6)&&z(c,3);return _&&p}if(It.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,i=rt(n,s),f=We(i,e),c=Ue(i,e),_=z(c,2)&&!z(f,0)||!z(f,2)&&z(c,0),p=z(c,7)&&!z(f,4)||!z(f,7)&&z(c,4);return _&&p}return!1}function bt(n,e,l){const t=We(n,e),r={player:Ue(n,e),computer:t};return st(r,Y.player,l)}function qe(n,e,l){const t=Be(l),o=We(n,e),r=Ue(n,e);if(t===4){for(const{o:s,p:i}of An)if(ze(o,i)&&ze(r,s))return!0}if(ht.has(t)){const s={0:0,2:3,6:1,8:2}[t]||0,i=rt(n,s),f=We(i,e),c=Ue(i,e);for(const{o:_,p}of Mn)if(ze(f,p)&&ze(c,_))return!0}if(It.has(t)){const s={1:0,3:1,5:3,7:2}[t]||0,i=rt(n,s),f=We(i,e),c=Ue(i,e);for(const{o:_,p}of On)if(ze(f,p)&&ze(c,_))return!0}return!1}const ht=new Set([0,2,6,8]),It=new Set([1,3,5,7]);function at(n,e,l){const t=Be(l);if(!ht.has(t))return!1;const o=8-t,r=Ue(n,e);return!z(r,o)}function Ct(n){const e=Be(n);return ht.has(e)}function fn(n){const e=Be(n);return It.has(e)}function Vn(n,e){const l=wt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=yt(o);xe(r,e,o);const i=Ln(r,e,s);i.score>((t==null?void 0:t.score)??-1)&&(t=i)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Ln(n,e,l){return Fe(n,e)?{score:8,reason:"win",move:l}:qe(n,e,l)?{score:7,reason:"block_opponent",move:l}:st(n,e,l)?{score:6,reason:"create_fork",move:l}:bt(n,e,l)?{score:5,reason:"block_opponent_fork",move:l}:St(l)?{score:4,reason:"take_center",move:l}:at(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:Ct(l)?{score:2,reason:"take_corner",move:l}:fn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Rn(n,e){const l=wt(n);if(l.length===0)throw new Error("No available moves");let t;for(const o of l){const r={...n},s=yt(o);xe(r,e,o);const i=Fn(r,e,s);i.score>((t==null?void 0:t.score)??-1)&&(t=i)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Fn(n,e,l){return Fe(n,Y.player)?{score:8,reason:"win",move:l}:qe(n,e,l)?{score:7,reason:"block_opponent",move:l}:St(l)?{score:4,reason:"take_center",move:l}:at(n,e,l)?{score:3,reason:"take_opposite_corner",move:l}:Ct(l)?{score:2,reason:"take_corner",move:l}:fn(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Wn(n){const e=wt(n);if(e.length===0)throw new Error("No available moves");const l=Math.floor(Math.random()*e.length),t=e[l];return{score:0,reason:"random",move:yt(t)}}const Je={random:Wn,hardcodedRules:Rn,hardcodedRulesComplete:Vn},cn=n=>({board:an(),currentPlayer:n??Y.player,state:"not_over",moveHistory:[]});function un(n){n.currentPlayer=n.currentPlayer===Y.player?Y.computer:Y.player}const Un=(n,e,l)=>{n.state==="not_over"&&(xe(n.board,e,Be(l)),n.state=ot(n.board),n.moveHistory.push({board:{...n.board},moveCoord:l,player:e,method:"manual"}),un(n))},Qe=(n,e,l)=>{if(n.state!=="not_over")return;const t=Je[l],o=t(n.board,e);xe(n.board,e,Be(o.move)),n.state=ot(n.board),n.moveHistory.push({board:{...n.board},moveCoord:o.move,player:e,method:l,aiChoice:o}),un(n)},Xn="#FF0000",jn="#64ccfc";function $t(n,e,l){var _;const t=n.width/3,o=n.height/3,{height:r,width:s}=n,{drawSelection:i,selection:f,currentPlayer:c}=l||{};n.rectMode(n.CENTER),n.noFill(),n.stroke(255),n.strokeWeight(1),n.line(t,0,t,r),n.line(t*2,0,t*2,r),n.line(0,o,s,o),n.line(0,o*2,s,o*2),n.stroke(155),n.strokeWeight(3),n.rect(n.width/2,n.height/2,n.width,n.height),n.strokeWeight(4);for(let p=0;p<3;p++)for(let w=0;w<3;w++)((_=l==null?void 0:l.highlightCell)==null?void 0:_.x)===w&&(l==null?void 0:l.highlightCell.y)===p&&(n.noStroke(),n.fill(30,250,80,80),n.rect(w*t+t/2,p*o+o/2,t*.95,o*.95),n.noFill()),(!Ht(e.player,{x:w,y:p})||i&&c===Y.player&&(f==null?void 0:f.x)===w&&(f==null?void 0:f.y)===p)&&(n.stroke(jn),n.circle(w*t+t/2,p*o+o/2,o/2)),(!Ht(e.computer,{x:w,y:p})||i&&c===Y.computer&&(f==null?void 0:f.x)===w&&(f==null?void 0:f.y)===p)&&(n.stroke(Xn),n.line(w*t+t*.3,p*o+o*.3,w*t+t*.7,p*o+o*.7),n.line(w*t+t*.7,p*o+o*.3,w*t+t*.3,p*o+o*.7))}function it(n){const{mouseX:e,mouseY:l,width:t,height:o}=n,r=Math.floor(n.map(e,0,t,0,3)),s=Math.floor(n.map(l,0,o,0,3));return{x:r,y:s}}function Dt(n){let e,l,t,o,r,s=ot(n[0])+"",i,f,c,_,p,w,N,C,m,d,$=n[0].player.toString(2).padStart(9,"0")+"",y,R,O,B=n[0].player+"",A,W,Q,Z,J,V=Fe(n[0],Y.player)?"✅":"❌",re,q,T,M,X,H,ee,me,x,pe,_e=n[0].computer.toString(2).padStart(9,"0")+"",he,ge,ve,be=n[0].computer+"",ne,we,le,$e,te,Ae=Fe(n[0],Y.computer)?"✅":"❌",Ne;return{c(){e=v("div"),l=v("span"),t=E("State:"),o=S(),r=v("span"),i=E(s),f=S(),c=v("div"),_=v("span"),p=E("Player 1"),w=v("span"),N=E("Player, O"),C=S(),m=v("span"),d=E("0b"),y=E($),R=S(),O=v("span"),A=E(B),W=S(),Q=v("span"),Z=E("Wins"),J=v("span"),re=E(V),q=S(),T=v("div"),M=v("span"),X=E("Player 2"),H=v("span"),ee=E("Computer, X"),me=S(),x=v("span"),pe=E("0b"),he=E(_e),ge=S(),ve=v("span"),ne=E(be),we=S(),le=v("span"),$e=E("Wins"),te=v("span"),Ne=E(Ae),this.h()},l(oe){e=g(oe,"DIV",{class:!0});var D=b(e);l=g(D,"SPAN",{});var K=b(l);t=P(K,"State:"),K.forEach(u),o=I(D),r=g(D,"SPAN",{});var h=b(r);i=P(h,s),h.forEach(u),f=I(D),c=g(D,"DIV",{class:!0});var L=b(c);_=g(L,"SPAN",{});var k=b(_);p=P(k,"Player 1"),k.forEach(u),w=g(L,"SPAN",{});var ue=b(w);N=P(ue,"Player, O"),ue.forEach(u),C=I(L),m=g(L,"SPAN",{});var ye=b(m);d=P(ye,"0b"),y=P(ye,$),ye.forEach(u),R=I(L),O=g(L,"SPAN",{});var He=b(O);A=P(He,B),He.forEach(u),W=I(L),Q=g(L,"SPAN",{});var Ge=b(Q);Z=P(Ge,"Wins"),Ge.forEach(u),J=g(L,"SPAN",{});var De=b(J);re=P(De,V),De.forEach(u),L.forEach(u),q=I(D),T=g(D,"DIV",{class:!0});var ke=b(T);M=g(ke,"SPAN",{});var Me=b(M);X=P(Me,"Player 2"),Me.forEach(u),H=g(ke,"SPAN",{});var Ve=b(H);ee=P(Ve,"Computer, X"),Ve.forEach(u),me=I(ke),x=g(ke,"SPAN",{});var Oe=b(x);pe=P(Oe,"0b"),he=P(Oe,_e),Oe.forEach(u),ge=I(ke),ve=g(ke,"SPAN",{});var Ee=b(ve);ne=P(Ee,be),Ee.forEach(u),we=I(ke),le=g(ke,"SPAN",{});var Le=b(le);$e=P(Le,"Wins"),Le.forEach(u),te=g(ke,"SPAN",{});var Ke=b(te);Ne=P(Ke,Ae),Ke.forEach(u),ke.forEach(u),D.forEach(u),this.h()},h(){j(c,"class","grid2cols svelte-1lw5ne4"),j(T,"class","grid2cols svelte-1lw5ne4"),j(e,"class","grid2cols svelte-1lw5ne4")},m(oe,D){G(oe,e,D),a(e,l),a(l,t),a(e,o),a(e,r),a(r,i),a(e,f),a(e,c),a(c,_),a(_,p),a(c,w),a(w,N),a(c,C),a(c,m),a(m,d),a(m,y),a(c,R),a(c,O),a(O,A),a(c,W),a(c,Q),a(Q,Z),a(c,J),a(J,re),a(e,q),a(e,T),a(T,M),a(M,X),a(T,H),a(H,ee),a(T,me),a(T,x),a(x,pe),a(x,he),a(T,ge),a(T,ve),a(ve,ne),a(T,we),a(T,le),a(le,$e),a(T,te),a(te,Ne)},p(oe,D){D&1&&s!==(s=ot(oe[0])+"")&&se(i,s),D&1&&$!==($=oe[0].player.toString(2).padStart(9,"0")+"")&&se(y,$),D&1&&B!==(B=oe[0].player+"")&&se(A,B),D&1&&V!==(V=Fe(oe[0],Y.player)?"✅":"❌")&&se(re,V),D&1&&_e!==(_e=oe[0].computer.toString(2).padStart(9,"0")+"")&&se(he,_e),D&1&&be!==(be=oe[0].computer+"")&&se(ne,be),D&1&&Ae!==(Ae=Fe(oe[0],Y.computer)?"✅":"❌")&&se(Ne,Ae)},d(oe){oe&&u(e)}}}function zn(n){let e,l,t,o,r=n[0]&&Dt(n);return{c(){e=v("div"),l=v("h4"),t=E("Board info"),o=S(),r&&r.c()},l(s){e=g(s,"DIV",{});var i=b(e);l=g(i,"H4",{});var f=b(l);t=P(f,"Board info"),f.forEach(u),o=I(i),r&&r.l(i),i.forEach(u)},m(s,i){G(s,e,i),a(e,l),a(l,t),a(e,o),r&&r.m(e,null)},p(s,[i]){s[0]?r?r.p(s,i):(r=Dt(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:Te,o:Te,d(s){s&&u(e),r&&r.d()}}}function Yn(n,e,l){let{board:t}=e;return n.$$set=o=>{"board"in o&&l(0,t=o.board)},[t]}class _n extends Se{constructor(e){super(),Ie(this,e,Yn,zn,Ce,{board:0})}}function Jn(n){let e,l,t=JSON.stringify(n[0])+"",o;return{c(){e=v("p"),l=E("Board is undefined "),o=E(t)},l(r){e=g(r,"P",{});var s=b(e);l=P(s,"Board is undefined "),o=P(s,t),s.forEach(u)},m(r,s){G(r,e,s),a(e,l),a(e,o)},p(r,s){s&1&&t!==(t=JSON.stringify(r[0])+"")&&se(o,t)},i:Te,o:Te,d(r){r&&u(e)}}}function qn(n){let e,l;return e=new rn({props:{sketch:n[1]}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},p:Te,i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function Kn(n){let e,l,t,o;const r=[qn,Jn],s=[];function i(f,c){return f[0]?0:1}return l=i(n),t=s[l]=r[l](n),{c(){e=v("div"),t.c()},l(f){e=g(f,"DIV",{});var c=b(e);t.l(c),c.forEach(u)},m(f,c){G(f,e,c),s[l].m(e,null),o=!0},p(f,[c]){let _=l;l=i(f),l===_?s[l].p(f,c):(Xe(),U(s[_],1,1,()=>{s[_]=null}),je(),t=s[l],t?t.p(f,c):(t=s[l]=r[l](f),t.c()),F(t,1),t.m(e,null))},i(f){o||(F(t),o=!0)},o(f){U(t),o=!1},d(f){f&&u(e),s[l].d()}}}function Qn(n,e,l){let{dimensionPx:t}=e,{board:o}=e,{highlightCell:r=void 0}=e,{highlightMouse:s=!1}=e,{onClick:i=()=>{}}=e,f;const c=_=>{_.setup=()=>{f=_,_.createCanvas(t.width,t.height)},_.draw=()=>{_.background(0),s?$t(_,o,{highlightCell:it(_)}):$t(_,o,{highlightCell:r})},_.mousePressed=()=>{_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height||i("manual",it(_))}};return kt(()=>{f==null||f.remove()}),n.$$set=_=>{"dimensionPx"in _&&l(2,t=_.dimensionPx),"board"in _&&l(0,o=_.board),"highlightCell"in _&&l(3,r=_.highlightCell),"highlightMouse"in _&&l(4,s=_.highlightMouse),"onClick"in _&&l(5,i=_.onClick)},[o,c,t,r,s,i]}class Nt extends Se{constructor(e){super(),Ie(this,e,Qn,Kn,Ce,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function mt(n){const e=n.slice(),l=e[0];return e[1]=l.moveCoord,e[2]=l.player,e[3]=l.board,e}function Vt(n){let e,l,t,o,r,s,i,f,c,_,p,w=Fe(n[3],n[2])?"✅":"❌",N,C,m,d,$,y,R=qe(n[3],n[2],n[1])?"✅":"❌",O,B,A,W,Q,Z,J=st(n[3],n[2],n[1])?"✅":"❌",V,re,q,T,M,X,H=bt(n[3],n[2],n[1])?"✅":"❌",ee,me,x,pe,_e,he,ge=at(n[3],n[2],n[1])?"✅":"❌",ve,be,ne,we,le,$e,te=qe(n[3],n[2],n[1])?"✅":"❌",Ae;function Ne(K,h){return h&1&&(r=null),h&1&&(s=null),r==null&&(r=!!St(K[1])),r?el:(s==null&&(s=!!Ct(K[1])),s?xn:Zn)}let oe=Ne(n,-1),D=oe(n);return{c(){e=v("div"),l=v("span"),t=E("Position"),o=S(),D.c(),i=S(),f=v("span"),c=E("Player win"),_=S(),p=v("span"),N=E(w),C=S(),m=v("span"),d=E("Move blocks opponent"),$=S(),y=v("span"),O=E(R),B=S(),A=v("span"),W=E("Move creates fork"),Q=S(),Z=v("span"),V=E(J),re=S(),q=v("span"),T=E("Move blocks opponent's fork"),M=S(),X=v("span"),ee=E(H),me=S(),x=v("span"),pe=E("Took opposite corner"),_e=S(),he=v("span"),ve=E(ge),be=S(),ne=v("span"),we=E("Last move blocks opponent"),le=S(),$e=v("span"),Ae=E(te),this.h()},l(K){e=g(K,"DIV",{class:!0});var h=b(e);l=g(h,"SPAN",{});var L=b(l);t=P(L,"Position"),L.forEach(u),o=I(h),D.l(h),i=I(h),f=g(h,"SPAN",{});var k=b(f);c=P(k,"Player win"),k.forEach(u),_=I(h),p=g(h,"SPAN",{});var ue=b(p);N=P(ue,w),ue.forEach(u),C=I(h),m=g(h,"SPAN",{});var ye=b(m);d=P(ye,"Move blocks opponent"),ye.forEach(u),$=I(h),y=g(h,"SPAN",{});var He=b(y);O=P(He,R),He.forEach(u),B=I(h),A=g(h,"SPAN",{});var Ge=b(A);W=P(Ge,"Move creates fork"),Ge.forEach(u),Q=I(h),Z=g(h,"SPAN",{});var De=b(Z);V=P(De,J),De.forEach(u),re=I(h),q=g(h,"SPAN",{});var ke=b(q);T=P(ke,"Move blocks opponent's fork"),ke.forEach(u),M=I(h),X=g(h,"SPAN",{});var Me=b(X);ee=P(Me,H),Me.forEach(u),me=I(h),x=g(h,"SPAN",{});var Ve=b(x);pe=P(Ve,"Took opposite corner"),Ve.forEach(u),_e=I(h),he=g(h,"SPAN",{});var Oe=b(he);ve=P(Oe,ge),Oe.forEach(u),be=I(h),ne=g(h,"SPAN",{});var Ee=b(ne);we=P(Ee,"Last move blocks opponent"),Ee.forEach(u),le=I(h),$e=g(h,"SPAN",{});var Le=b($e);Ae=P(Le,te),Le.forEach(u),h.forEach(u),this.h()},h(){j(e,"class","grid2cols svelte-1lw5ne4")},m(K,h){G(K,e,h),a(e,l),a(l,t),a(e,o),D.m(e,null),a(e,i),a(e,f),a(f,c),a(e,_),a(e,p),a(p,N),a(e,C),a(e,m),a(m,d),a(e,$),a(e,y),a(y,O),a(e,B),a(e,A),a(A,W),a(e,Q),a(e,Z),a(Z,V),a(e,re),a(e,q),a(q,T),a(e,M),a(e,X),a(X,ee),a(e,me),a(e,x),a(x,pe),a(e,_e),a(e,he),a(he,ve),a(e,be),a(e,ne),a(ne,we),a(e,le),a(e,$e),a($e,Ae)},p(K,h){oe!==(oe=Ne(K,h))&&(D.d(1),D=oe(K),D&&(D.c(),D.m(e,i))),h&1&&w!==(w=Fe(K[3],K[2])?"✅":"❌")&&se(N,w),h&1&&R!==(R=qe(K[3],K[2],K[1])?"✅":"❌")&&se(O,R),h&1&&J!==(J=st(K[3],K[2],K[1])?"✅":"❌")&&se(V,J),h&1&&H!==(H=bt(K[3],K[2],K[1])?"✅":"❌")&&se(ee,H),h&1&&ge!==(ge=at(K[3],K[2],K[1])?"✅":"❌")&&se(ve,ge),h&1&&te!==(te=qe(K[3],K[2],K[1])?"✅":"❌")&&se(Ae,te)},d(K){K&&u(e),D.d()}}}function Zn(n){let e,l;return{c(){e=v("span"),l=E("Edge")},l(t){e=g(t,"SPAN",{});var o=b(e);l=P(o,"Edge"),o.forEach(u)},m(t,o){G(t,e,o),a(e,l)},d(t){t&&u(e)}}}function xn(n){let e,l;return{c(){e=v("span"),l=E("Corner")},l(t){e=g(t,"SPAN",{});var o=b(e);l=P(o,"Corner"),o.forEach(u)},m(t,o){G(t,e,o),a(e,l)},d(t){t&&u(e)}}}function el(n){let e,l;return{c(){e=v("span"),l=E("Center")},l(t){e=g(t,"SPAN",{});var o=b(e);l=P(o,"Center"),o.forEach(u)},m(t,o){G(t,e,o),a(e,l)},d(t){t&&u(e)}}}function tl(n){let e,l=n[0]&&Vt(mt(n));return{c(){l&&l.c(),e=lt()},l(t){l&&l.l(t),e=lt()},m(t,o){l&&l.m(t,o),G(t,e,o)},p(t,[o]){t[0]?l?l.p(mt(t),o):(l=Vt(mt(t)),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Te,o:Te,d(t){l&&l.d(t),t&&u(e)}}}function nl(n,e,l){let{historyItem:t}=e;return n.$$set=o=>{"historyItem"in o&&l(0,t=o.historyItem)},[t]}class ll extends Se{constructor(e){super(),Ie(this,e,nl,tl,Ce,{historyItem:0})}}function Lt(n,e,l){const t=n.slice();return t[2]=e[l],t}function Rt(n){let e,l,t,o,r,s,i,f,c,_,p,w,N,C,m,d=n[0].length===0&&Ft(),$=[...n[0]].reverse(),y=[];for(let O=0;O<$.length;O+=1)y[O]=Wt(Lt(n,$,O));const R=O=>U(y[O],1,1,()=>{y[O]=null});return{c(){e=v("div"),d&&d.c(),l=S(),t=v("h4"),o=E("Move"),r=S(),s=v("h4"),i=E("Selection"),f=S(),c=v("h4"),_=E("AI"),p=S(),w=v("h4"),N=E("Stats"),C=S();for(let O=0;O<y.length;O+=1)y[O].c();this.h()},l(O){e=g(O,"DIV",{class:!0});var B=b(e);d&&d.l(B),l=I(B),t=g(B,"H4",{});var A=b(t);o=P(A,"Move"),A.forEach(u),r=I(B),s=g(B,"H4",{});var W=b(s);i=P(W,"Selection"),W.forEach(u),f=I(B),c=g(B,"H4",{});var Q=b(c);_=P(Q,"AI"),Q.forEach(u),p=I(B),w=g(B,"H4",{});var Z=b(w);N=P(Z,"Stats"),Z.forEach(u),C=I(B);for(let J=0;J<y.length;J+=1)y[J].l(B);B.forEach(u),this.h()},h(){j(e,"class","grid4cols svelte-1ofp4bt")},m(O,B){G(O,e,B),d&&d.m(e,null),a(e,l),a(e,t),a(t,o),a(e,r),a(e,s),a(s,i),a(e,f),a(e,c),a(c,_),a(e,p),a(e,w),a(w,N),a(e,C);for(let A=0;A<y.length;A+=1)y[A].m(e,null);m=!0},p(O,B){if(O[0].length===0?d||(d=Ft(),d.c(),d.m(e,l)):d&&(d.d(1),d=null),B&1){$=[...O[0]].reverse();let A;for(A=0;A<$.length;A+=1){const W=Lt(O,$,A);y[A]?(y[A].p(W,B),F(y[A],1)):(y[A]=Wt(W),y[A].c(),F(y[A],1),y[A].m(e,null))}for(Xe(),A=$.length;A<y.length;A+=1)R(A);je()}},i(O){if(!m){for(let B=0;B<$.length;B+=1)F(y[B]);m=!0}},o(O){y=y.filter(Boolean);for(let B=0;B<y.length;B+=1)U(y[B]);m=!1},d(O){O&&u(e),d&&d.d(),Ye(y,O)}}}function Ft(n){let e,l;return{c(){e=v("p"),l=E("No move yet.")},l(t){e=g(t,"P",{});var o=b(e);l=P(o,"No move yet."),o.forEach(u)},m(t,o){G(t,e,o),a(e,l)},d(t){t&&u(e)}}}function ol(n){let e;return{c(){e=v("span"),this.h()},l(l){e=g(l,"SPAN",{class:!0}),b(e).forEach(u),this.h()},h(){j(e,"class","item svelte-1ofp4bt")},m(l,t){G(l,e,t)},p:Te,d(l){l&&u(e)}}}function rl(n){let e,l=n[2].aiChoice.score+"",t,o,r=n[2].aiChoice.reason+"",s;return{c(){e=v("span"),t=E(l),o=E(" - "),s=E(r),this.h()},l(i){e=g(i,"SPAN",{class:!0});var f=b(e);t=P(f,l),o=P(f," - "),s=P(f,r),f.forEach(u),this.h()},h(){j(e,"class","item svelte-1ofp4bt")},m(i,f){G(i,e,f),a(e,t),a(e,o),a(e,s)},p(i,f){f&1&&l!==(l=i[2].aiChoice.score+"")&&se(t,l),f&1&&r!==(r=i[2].aiChoice.reason+"")&&se(s,r)},d(i){i&&u(e)}}}function Wt(n){let e,l,t,o,r=n[2].method+"",s,i,f,c,_,p,w;l=new Nt({props:{board:n[2].board,dimensionPx:{width:100,height:100},highlightCell:n[2].moveCoord}});function N(d,$){return d[2].aiChoice?rl:ol}let C=N(n),m=C(n);return _=new ll({props:{historyItem:n[2]}}),{c(){e=v("div"),ae(l.$$.fragment),t=S(),o=v("span"),s=E(r),i=S(),m.c(),f=S(),c=v("div"),ae(_.$$.fragment),p=S(),this.h()},l(d){e=g(d,"DIV",{class:!0});var $=b(e);ie(l.$$.fragment,$),$.forEach(u),t=I(d),o=g(d,"SPAN",{class:!0});var y=b(o);s=P(y,r),y.forEach(u),i=I(d),m.l(d),f=I(d),c=g(d,"DIV",{class:!0});var R=b(c);ie(_.$$.fragment,R),p=I(R),R.forEach(u),this.h()},h(){j(e,"class","item svelte-1ofp4bt"),j(o,"class","item svelte-1ofp4bt"),j(c,"class","item svelte-1ofp4bt")},m(d,$){G(d,e,$),fe(l,e,null),G(d,t,$),G(d,o,$),a(o,s),G(d,i,$),m.m(d,$),G(d,f,$),G(d,c,$),fe(_,c,null),a(c,p),w=!0},p(d,$){const y={};$&1&&(y.board=d[2].board),$&1&&(y.highlightCell=d[2].moveCoord),l.$set(y),(!w||$&1)&&r!==(r=d[2].method+"")&&se(s,r),C===(C=N(d))&&m?m.p(d,$):(m.d(1),m=C(d),m&&(m.c(),m.m(f.parentNode,f)));const R={};$&1&&(R.historyItem=d[2]),_.$set(R)},i(d){w||(F(l.$$.fragment,d),F(_.$$.fragment,d),w=!0)},o(d){U(l.$$.fragment,d),U(_.$$.fragment,d),w=!1},d(d){d&&u(e),ce(l),d&&u(t),d&&u(o),d&&u(i),m.d(d),d&&u(f),d&&u(c),ce(_)}}}function sl(n){let e,l,t=n[1]&&Rt(n);return{c(){e=v("div"),t&&t.c()},l(o){e=g(o,"DIV",{});var r=b(e);t&&t.l(r),r.forEach(u)},m(o,r){G(o,e,r),t&&t.m(e,null),l=!0},p(o,[r]){o[1]?t?(t.p(o,r),r&2&&F(t,1)):(t=Rt(o),t.c(),F(t,1),t.m(e,null)):t&&(Xe(),U(t,1,1,()=>{t=null}),je())},i(o){l||(F(t),l=!0)},o(o){U(t),l=!1},d(o){o&&u(e),t&&t.d()}}}function al(n,e,l){let{history:t}=e,{showMoveHistory:o}=e;return n.$$set=r=>{"history"in r&&l(0,t=r.history),"showMoveHistory"in r&&l(1,o=r.showMoveHistory)},[t,o]}class il extends Se{constructor(e){super(),Ie(this,e,al,sl,Ce,{history:0,showMoveHistory:1})}}function fl(n){let e,l;return e=new Nt({props:{board:n[0].board,dimensionPx:{width:100,height:100}}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.board=t[0].board),e.$set(r)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function cl(n){let e,l;return e=new il({props:{history:n[0].moveHistory,showMoveHistory:n[1]}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.history=t[0].moveHistory),o&2&&(r.showMoveHistory=t[1]),e.$set(r)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function ul(n){let e,l,t,o,r,s=n[2](n[0])+"",i,f,c,_=n[1]?"Hide":"Show",p,w,N,C,m,d,$,y;const R=[cl,fl],O=[];function B(A,W){return A[1]?0:1}return C=B(n),m=O[C]=R[C](n),{c(){e=v("div"),l=v("h4"),t=E("Game info"),o=S(),r=v("span"),i=E(s),f=S(),c=v("button"),p=E(_),w=E(" move history"),N=S(),m.c()},l(A){e=g(A,"DIV",{});var W=b(e);l=g(W,"H4",{});var Q=b(l);t=P(Q,"Game info"),Q.forEach(u),o=I(W),r=g(W,"SPAN",{});var Z=b(r);i=P(Z,s),Z.forEach(u),f=I(W),c=g(W,"BUTTON",{});var J=b(c);p=P(J,_),w=P(J," move history"),J.forEach(u),N=I(W),m.l(W),W.forEach(u)},m(A,W){G(A,e,W),a(e,l),a(l,t),a(e,o),a(e,r),a(r,i),a(e,f),a(e,c),a(c,p),a(c,w),a(e,N),O[C].m(e,null),d=!0,$||(y=Pe(c,"click",n[3]),$=!0)},p(A,[W]){(!d||W&1)&&s!==(s=A[2](A[0])+"")&&se(i,s),(!d||W&2)&&_!==(_=A[1]?"Hide":"Show")&&se(p,_);let Q=C;C=B(A),C===Q?O[C].p(A,W):(Xe(),U(O[Q],1,1,()=>{O[Q]=null}),je(),m=O[C],m?m.p(A,W):(m=O[C]=R[C](A),m.c()),F(m,1),m.m(e,null))},i(A){d||(F(m),d=!0)},o(A){U(m),d=!1},d(A){A&&u(e),O[C].d(),$=!1,y()}}}function _l(n,e,l){let{game:t}=e,o=!1;const r=i=>!i||!i.state?"N/A":i.state==="not_over"?"Turn: "+(i.currentPlayer===Y.player?"Player":"Computer"):i.state==="player_win"?"Player Win":i.state==="computer_win"?"Computer Win":i.state==="draw"?"Draw":i.state==="over"?"Game Over":"Invalid Game",s=()=>l(1,o=!o);return n.$$set=i=>{"game"in i&&l(0,t=i.game)},[t,o,r,s]}class hn extends Se{constructor(e){super(),Ie(this,e,_l,ul,Ce,{game:0})}}function Ut(n,e,l){const t=n.slice();return t[12]=e[l],t}function Xt(n){let e,l,t,o;return{c(){e=v("p"),l=E("Restarting in "),t=E(n[1]),o=E(" seconds")},l(r){e=g(r,"P",{});var s=b(e);l=P(s,"Restarting in "),t=P(s,n[1]),o=P(s," seconds"),s.forEach(u)},m(r,s){G(r,e,s),a(e,l),a(e,t),a(e,o)},p(r,s){s&2&&se(t,r[1])},d(r){r&&u(e)}}}function jt(n){let e,l=n[12]+"",t,o;return{c(){e=v("option"),t=E(l),o=S(),this.h()},l(r){e=g(r,"OPTION",{});var s=b(e);t=P(s,l),o=I(s),s.forEach(u),this.h()},h(){e.__value=n[12],e.value=e.__value},m(r,s){G(r,e,s),a(e,t),a(e,o)},p:Te,d(r){r&&u(e)}}}function zt(n){let e,l,t,o,r,s,i;return l=new Nt({props:{board:n[0].board,dimensionPx:{width:400,height:400},onClick:n[3],highlightMouse:!0}}),o=new _n({props:{board:n[0].board}}),s=new hn({props:{game:n[0],showMoveInfo:!0}}),{c(){e=v("div"),ae(l.$$.fragment),t=S(),ae(o.$$.fragment),r=S(),ae(s.$$.fragment),this.h()},l(f){e=g(f,"DIV",{class:!0});var c=b(e);ie(l.$$.fragment,c),t=I(c),ie(o.$$.fragment,c),c.forEach(u),r=I(f),ie(s.$$.fragment,f),this.h()},h(){j(e,"class","grid2colsResponsive svelte-1epiyf5")},m(f,c){G(f,e,c),fe(l,e,null),a(e,t),fe(o,e,null),G(f,r,c),fe(s,f,c),i=!0},p(f,c){const _={};c&1&&(_.board=f[0].board),l.$set(_);const p={};c&1&&(p.board=f[0].board),o.$set(p);const w={};c&1&&(w.game=f[0]),s.$set(w)},i(f){i||(F(l.$$.fragment,f),F(o.$$.fragment,f),F(s.$$.fragment,f),i=!0)},o(f){U(l.$$.fragment,f),U(o.$$.fragment,f),U(s.$$.fragment,f),i=!1},d(f){f&&u(e),ce(l),ce(o),f&&u(r),ce(s,f)}}}function hl(n){let e,l,t,o,r,s,i,f,c,_,p,w,N,C,m,d,$,y,R,O,B,A,W,Q,Z,J,V=n[1]>0&&Xt(n),re=Object.keys(Je),q=[];for(let M=0;M<re.length;M+=1)q[M]=jt(Ut(n,re,M));let T=n[0].board&&zt(n);return{c(){e=v("h2"),l=E("Game"),t=S(),o=v("div"),V&&V.c(),r=S(),s=v("label"),i=E("AI type"),f=S(),c=v("select");for(let M=0;M<q.length;M+=1)q[M].c();_=S(),p=v("div"),w=v("span"),N=E("Player automatic move"),C=S(),m=v("button"),d=E("Random move"),$=S(),y=v("button"),R=E("Hardcoded rules"),O=S(),B=v("button"),A=E("Complete hardcoded rules"),W=S(),T&&T.c(),this.h()},l(M){e=g(M,"H2",{});var X=b(e);l=P(X,"Game"),X.forEach(u),t=I(M),o=g(M,"DIV",{});var H=b(o);V&&V.l(H),r=I(H),s=g(H,"LABEL",{for:!0});var ee=b(s);i=P(ee,"AI type"),ee.forEach(u),f=I(H),c=g(H,"SELECT",{id:!0});var me=b(c);for(let ve=0;ve<q.length;ve+=1)q[ve].l(me);me.forEach(u),_=I(H),p=g(H,"DIV",{});var x=b(p);w=g(x,"SPAN",{});var pe=b(w);N=P(pe,"Player automatic move"),pe.forEach(u),C=I(x),m=g(x,"BUTTON",{});var _e=b(m);d=P(_e,"Random move"),_e.forEach(u),$=I(x),y=g(x,"BUTTON",{});var he=b(y);R=P(he,"Hardcoded rules"),he.forEach(u),O=I(x),B=g(x,"BUTTON",{});var ge=b(B);A=P(ge,"Complete hardcoded rules"),ge.forEach(u),x.forEach(u),W=I(H),T&&T.l(H),H.forEach(u),this.h()},h(){j(s,"for","aiType"),j(c,"id","aiType"),n[2]===void 0&&tt(()=>n[4].call(c))},m(M,X){G(M,e,X),a(e,l),G(M,t,X),G(M,o,X),V&&V.m(o,null),a(o,r),a(o,s),a(s,i),a(o,f),a(o,c);for(let H=0;H<q.length;H+=1)q[H].m(c,null);Re(c,n[2]),a(o,_),a(o,p),a(p,w),a(w,N),a(p,C),a(p,m),a(m,d),a(p,$),a(p,y),a(y,R),a(p,O),a(p,B),a(B,A),a(o,W),T&&T.m(o,null),Q=!0,Z||(J=[Pe(c,"change",n[4]),Pe(m,"click",n[5]),Pe(y,"click",n[6]),Pe(B,"click",n[7])],Z=!0)},p(M,[X]){if(M[1]>0?V?V.p(M,X):(V=Xt(M),V.c(),V.m(o,r)):V&&(V.d(1),V=null),X&0){re=Object.keys(Je);let H;for(H=0;H<re.length;H+=1){const ee=Ut(M,re,H);q[H]?q[H].p(ee,X):(q[H]=jt(ee),q[H].c(),q[H].m(c,null))}for(;H<q.length;H+=1)q[H].d(1);q.length=re.length}X&4&&Re(c,M[2]),M[0].board?T?(T.p(M,X),X&1&&F(T,1)):(T=zt(M),T.c(),F(T,1),T.m(o,null)):T&&(Xe(),U(T,1,1,()=>{T=null}),je())},i(M){Q||(F(T),Q=!0)},o(M){U(T),Q=!1},d(M){M&&u(e),M&&u(t),M&&u(o),V&&V.d(),Ye(q,M),T&&T.d(),Z=!1,Et(J)}}}function dl(n,e,l){let t,o,r,s="hardcodedRulesComplete",i=!1;f();function f(){l(0,t=cn(i?Y.computer:Y.player)),i&&Qe(t,Y.computer,s),o=t.currentPlayer,i=!i}const c=(m,d)=>{if(o===Y.player){if(m==="manual"){if(!d)return;Un(t,Y.player,d)}else Qe(t,Y.player,m);l(0,t),o=t.currentPlayer,setTimeout(()=>{if(Qe(t,Y.computer,s),l(0,t),o=t.currentPlayer,t.state!=="not_over"){l(1,r=4);const $=setInterval(()=>{l(1,r--,r),r===0&&(f(),clearInterval($))},1e3)}},500)}},_=(m,d)=>{c(m,d)};function p(){s=nt(this),l(2,s)}return[t,r,s,_,p,()=>_("random"),()=>_("hardcodedRules"),()=>_("hardcodedRulesComplete")]}class pl extends Se{constructor(e){super(),Ie(this,e,dl,hl,Ce,{})}}function Yt(n,e,l){const t=n.slice();return t[12]=e[l],t}function ml(n,e,l){const t=n.slice();return t[15]=e[l],t}function Jt(n,e,l){const t=n.slice();return t[18]=e[l],t}function qt(n,e,l){const t=n.slice();return t[21]=e[l],t}function Kt(n,e,l){const t=n.slice();return t[21]=e[l],t}function Qt(n){let e,l=n[21]+"",t,o;return{c(){e=v("option"),t=E(l),o=S(),this.h()},l(r){e=g(r,"OPTION",{});var s=b(e);t=P(s,l),o=I(s),s.forEach(u),this.h()},h(){e.__value=n[21],e.value=e.__value},m(r,s){G(r,e,s),a(e,t),a(e,o)},p:Te,d(r){r&&u(e)}}}function Zt(n){let e,l=n[21]+"",t,o;return{c(){e=v("option"),t=E(l),o=S(),this.h()},l(r){e=g(r,"OPTION",{});var s=b(e);t=P(s,l),o=I(s),s.forEach(u),this.h()},h(){e.__value=n[21],e.value=e.__value},m(r,s){G(r,e,s),a(e,t),a(e,o)},p:Te,d(r){r&&u(e)}}}function xt(n){let e,l=n[18]+"",t,o,r,s=n[5][n[18]]+"",i,f,c,_=100*n[5][n[18]]/n[5].total+"",p,w;return{c(){e=v("span"),t=E(l),o=S(),r=v("span"),i=E(s),f=S(),c=v("span"),p=E(_),w=E(" %")},l(N){e=g(N,"SPAN",{});var C=b(e);t=P(C,l),C.forEach(u),o=I(N),r=g(N,"SPAN",{});var m=b(r);i=P(m,s),m.forEach(u),f=I(N),c=g(N,"SPAN",{});var d=b(c);p=P(d,_),w=P(d," %"),d.forEach(u)},m(N,C){G(N,e,C),a(e,t),G(N,o,C),G(N,r,C),a(r,i),G(N,f,C),G(N,c,C),a(c,p),a(c,w)},p(N,C){C&32&&l!==(l=N[18]+"")&&se(t,l),C&32&&s!==(s=N[5][N[18]]+"")&&se(i,s),C&32&&_!==(_=100*N[5][N[18]]/N[5].total+"")&&se(p,_)},d(N){N&&u(e),N&&u(o),N&&u(r),N&&u(f),N&&u(c)}}}function vl(n){let e,l,t;return{c(){e=v("option"),l=E(n[15]),t=S(),this.h()},l(o){e=g(o,"OPTION",{});var r=b(e);l=P(r,n[15]),t=I(r),r.forEach(u),this.h()},h(){e.__value=n[15],e.value=e.__value},m(o,r){G(o,e,r),a(e,l),a(e,t)},p:Te,d(o){o&&u(e)}}}function en(n){let e,l;return e=new hn({props:{game:n[12]}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},p(t,o){const r={};o&1&&(r.game=t[12]),e.$set(r)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function tn(n){let e,l,t=(n[3]==="all"||n[3]===n[12].state)&&en(n);return{c(){t&&t.c(),e=lt()},l(o){t&&t.l(o),e=lt()},m(o,r){t&&t.m(o,r),G(o,e,r),l=!0},p(o,r){o[3]==="all"||o[3]===o[12].state?t?(t.p(o,r),r&9&&F(t,1)):(t=en(o),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(Xe(),U(t,1,1,()=>{t=null}),je())},i(o){l||(F(t),l=!0)},o(o){U(t),l=!1},d(o){t&&t.d(o),o&&u(e)}}}function gl(n){let e,l,t,o,r,s,i,f,c,_,p,w,N,C,m,d,$,y,R,O,B,A,W,Q,Z,J,V,re,q,T,M,X,H,ee,me,x=JSON.stringify(n[3])+"",pe,_e,he,ge,ve,be=Object.keys(Je),ne=[];for(let h=0;h<be.length;h+=1)ne[h]=Qt(Kt(n,be,h));let we=Object.keys(Je),le=[];for(let h=0;h<we.length;h+=1)le[h]=Zt(qt(n,we,h));let $e=Object.keys(n[5]).sort(),te=[];for(let h=0;h<$e.length;h+=1)te[h]=xt(Jt(n,$e,h));let Ae=["all","player_win","computer_win","draw","over"],Ne=[];for(let h=0;h<5;h+=1)Ne[h]=vl(ml(n,Ae,h));let oe=n[0],D=[];for(let h=0;h<oe.length;h+=1)D[h]=tn(Yt(n,oe,h));const K=h=>U(D[h],1,1,()=>{D[h]=null});return{c(){e=v("div"),l=v("h2"),t=E("Generator"),o=S(),r=v("button"),s=E("Create games"),i=S(),f=v("input"),c=S(),_=v("div"),p=v("label"),w=E("AI type"),N=S(),C=v("select");for(let h=0;h<ne.length;h+=1)ne[h].c();m=S(),d=v("label"),$=E("AI type"),y=S(),R=v("select");for(let h=0;h<le.length;h+=1)le[h].c();O=S(),B=v("div"),A=v("h3"),W=E("Stats"),Q=S(),Z=v("div");for(let h=0;h<te.length;h+=1)te[h].c();J=S(),V=v("div"),re=v("h3"),q=E("Games"),T=S(),M=v("label"),X=E("Filter state"),H=S(),ee=v("select");for(let h=0;h<5;h+=1)Ne[h].c();me=S(),pe=E(x),_e=S();for(let h=0;h<D.length;h+=1)D[h].c();this.h()},l(h){e=g(h,"DIV",{});var L=b(e);l=g(L,"H2",{});var k=b(l);t=P(k,"Generator"),k.forEach(u),o=I(L),r=g(L,"BUTTON",{});var ue=b(r);s=P(ue,"Create games"),ue.forEach(u),i=I(L),f=g(L,"INPUT",{type:!0}),c=I(L),_=g(L,"DIV",{});var ye=b(_);p=g(ye,"LABEL",{for:!0});var He=b(p);w=P(He,"AI type"),He.forEach(u),N=I(ye),C=g(ye,"SELECT",{id:!0});var Ge=b(C);for(let de=0;de<ne.length;de+=1)ne[de].l(Ge);Ge.forEach(u),m=I(ye),d=g(ye,"LABEL",{for:!0});var De=b(d);$=P(De,"AI type"),De.forEach(u),y=I(ye),R=g(ye,"SELECT",{id:!0});var ke=b(R);for(let de=0;de<le.length;de+=1)le[de].l(ke);ke.forEach(u),ye.forEach(u),O=I(L),B=g(L,"DIV",{});var Me=b(B);A=g(Me,"H3",{});var Ve=b(A);W=P(Ve,"Stats"),Ve.forEach(u),Q=I(Me),Z=g(Me,"DIV",{class:!0});var Oe=b(Z);for(let de=0;de<te.length;de+=1)te[de].l(Oe);Oe.forEach(u),Me.forEach(u),J=I(L),V=g(L,"DIV",{});var Ee=b(V);re=g(Ee,"H3",{});var Le=b(re);q=P(Le,"Games"),Le.forEach(u),T=I(Ee),M=g(Ee,"LABEL",{for:!0});var Ke=b(M);X=P(Ke,"Filter state"),Ke.forEach(u),H=I(Ee),ee=g(Ee,"SELECT",{id:!0});var Tt=b(ee);for(let de=0;de<5;de+=1)Ne[de].l(Tt);Tt.forEach(u),me=I(Ee),pe=P(Ee,x),_e=I(Ee);for(let de=0;de<D.length;de+=1)D[de].l(Ee);Ee.forEach(u),L.forEach(u),this.h()},h(){j(f,"type","number"),j(p,"for","aiType"),j(C,"id","aiType"),n[1]===void 0&&tt(()=>n[8].call(C)),j(d,"for","aiType"),j(R,"id","aiType"),n[2]===void 0&&tt(()=>n[9].call(R)),j(Z,"class","grid3cols svelte-14twtn6"),j(M,"for","stateFilter"),j(ee,"id","stateFilter"),n[3]===void 0&&tt(()=>n[10].call(ee))},m(h,L){G(h,e,L),a(e,l),a(l,t),a(e,o),a(e,r),a(r,s),a(e,i),a(e,f),Mt(f,n[4]),a(e,c),a(e,_),a(_,p),a(p,w),a(_,N),a(_,C);for(let k=0;k<ne.length;k+=1)ne[k].m(C,null);Re(C,n[1]),a(_,m),a(_,d),a(d,$),a(_,y),a(_,R);for(let k=0;k<le.length;k+=1)le[k].m(R,null);Re(R,n[2]),a(e,O),a(e,B),a(B,A),a(A,W),a(B,Q),a(B,Z);for(let k=0;k<te.length;k+=1)te[k].m(Z,null);a(e,J),a(e,V),a(V,re),a(re,q),a(V,T),a(V,M),a(M,X),a(V,H),a(V,ee);for(let k=0;k<5;k+=1)Ne[k].m(ee,null);Re(ee,n[3]),a(V,me),a(V,pe),a(V,_e);for(let k=0;k<D.length;k+=1)D[k].m(V,null);he=!0,ge||(ve=[Pe(r,"click",n[6]),Pe(f,"input",n[7]),Pe(C,"change",n[8]),Pe(R,"change",n[9]),Pe(ee,"change",n[10])],ge=!0)},p(h,[L]){if(L&16&&on(f.value)!==h[4]&&Mt(f,h[4]),L&0){be=Object.keys(Je);let k;for(k=0;k<be.length;k+=1){const ue=Kt(h,be,k);ne[k]?ne[k].p(ue,L):(ne[k]=Qt(ue),ne[k].c(),ne[k].m(C,null))}for(;k<ne.length;k+=1)ne[k].d(1);ne.length=be.length}if(L&2&&Re(C,h[1]),L&0){we=Object.keys(Je);let k;for(k=0;k<we.length;k+=1){const ue=qt(h,we,k);le[k]?le[k].p(ue,L):(le[k]=Zt(ue),le[k].c(),le[k].m(R,null))}for(;k<le.length;k+=1)le[k].d(1);le.length=we.length}if(L&4&&Re(R,h[2]),L&32){$e=Object.keys(h[5]).sort();let k;for(k=0;k<$e.length;k+=1){const ue=Jt(h,$e,k);te[k]?te[k].p(ue,L):(te[k]=xt(ue),te[k].c(),te[k].m(Z,null))}for(;k<te.length;k+=1)te[k].d(1);te.length=$e.length}if(L&8&&Re(ee,h[3]),(!he||L&8)&&x!==(x=JSON.stringify(h[3])+"")&&se(pe,x),L&9){oe=h[0];let k;for(k=0;k<oe.length;k+=1){const ue=Yt(h,oe,k);D[k]?(D[k].p(ue,L),F(D[k],1)):(D[k]=tn(ue),D[k].c(),F(D[k],1),D[k].m(V,null))}for(Xe(),k=oe.length;k<D.length;k+=1)K(k);je()}},i(h){if(!he){for(let L=0;L<oe.length;L+=1)F(D[L]);he=!0}},o(h){D=D.filter(Boolean);for(let L=0;L<D.length;L+=1)U(D[L]);he=!1},d(h){h&&u(e),Ye(ne,h),Ye(le,h),Ye(te,h),Ye(Ne,h),Ye(D,h),ge=!1,Et(ve)}}}function bl(n,e,l){let t=[],o="random",r="hardcodedRulesComplete",s,i=10;const f=()=>{const m=cn();for(;m.state==="not_over";)Qe(m,Y.player,o),Qe(m,Y.computer,r);return m};let c={total:0};const _=()=>{l(0,t=[]),l(5,c={total:0});for(let m=0;m<i;m++){const d=f();l(0,t=[d,...t]),c[d.state]||l(5,c[d.state]=0,c),l(5,c[d.state]+=1,c),l(5,c.total+=1,c)}};function p(){i=on(this.value),l(4,i)}function w(){o=nt(this),l(1,o)}function N(){r=nt(this),l(2,r)}function C(){s=nt(this),l(3,s)}return[t,o,r,s,i,c,_,p,w,N,C]}class $l extends Se{constructor(e){super(),Ie(this,e,bl,gl,Ce,{})}}function kl(n){let e,l,t,o,r,s,i,f,c,_,p,w,N,C,m,d,$,y,R,O,B,A,W,Q,Z,J,V,re,q;return r=new rn({props:{sketch:n[6]}}),J=new _n({props:{board:n[1],lastMove:n[3]}}),{c(){e=v("h2"),l=E("Analyzer"),t=S(),o=v("div"),ae(r.$$.fragment),s=S(),i=v("div"),f=v("h4"),c=E("Controls"),_=S(),p=v("button"),w=E("Play O"),C=S(),m=v("button"),d=E("Play X"),y=S(),R=v("button"),O=E("Previous"),A=S(),W=v("button"),Q=E("Reset"),Z=S(),ae(J.$$.fragment),this.h()},l(T){e=g(T,"H2",{});var M=b(e);l=P(M,"Analyzer"),M.forEach(u),t=I(T),o=g(T,"DIV",{});var X=b(o);ie(r.$$.fragment,X),s=I(X),i=g(X,"DIV",{});var H=b(i);f=g(H,"H4",{});var ee=b(f);c=P(ee,"Controls"),ee.forEach(u),_=I(H),p=g(H,"BUTTON",{});var me=b(p);w=P(me,"Play O"),me.forEach(u),C=I(H),m=g(H,"BUTTON",{});var x=b(m);d=P(x,"Play X"),x.forEach(u),y=I(H),R=g(H,"BUTTON",{});var pe=b(R);O=P(pe,"Previous"),pe.forEach(u),A=I(H),W=g(H,"BUTTON",{});var _e=b(W);Q=P(_e,"Reset"),_e.forEach(u),H.forEach(u),Z=I(X),ie(J.$$.fragment,X),X.forEach(u),this.h()},h(){p.disabled=N=n[2]===Y.player,m.disabled=$=n[2]===Y.computer,R.disabled=B=(n[0]||[]).length<2},m(T,M){G(T,e,M),a(e,l),G(T,t,M),G(T,o,M),fe(r,o,null),a(o,s),a(o,i),a(i,f),a(f,c),a(i,_),a(i,p),a(p,w),a(i,C),a(i,m),a(m,d),a(i,y),a(i,R),a(R,O),a(i,A),a(i,W),a(W,Q),a(o,Z),fe(J,o,null),V=!0,re||(q=[Pe(p,"click",n[7]),Pe(m,"click",n[8]),Pe(R,"click",n[5]),Pe(W,"click",n[4])],re=!0)},p(T,[M]){(!V||M&4&&N!==(N=T[2]===Y.player))&&(p.disabled=N),(!V||M&4&&$!==($=T[2]===Y.computer))&&(m.disabled=$),(!V||M&1&&B!==(B=(T[0]||[]).length<2))&&(R.disabled=B);const X={};M&2&&(X.board=T[1]),M&8&&(X.lastMove=T[3]),J.$set(X)},i(T){V||(F(r.$$.fragment,T),F(J.$$.fragment,T),V=!0)},o(T){U(r.$$.fragment,T),U(J.$$.fragment,T),V=!1},d(T){T&&u(e),T&&u(t),T&&u(o),ce(r),ce(J),re=!1,Et(q)}}}function El(n,e,l){let t,o,r,s=Y.player,i;function f(m,d){xe(r,m,Be(d)),l(3,i=d),l(1,r),o.push({...r}),l(0,o),c()}function c(){l(2,s=s===Y.player?Y.computer:Y.player)}function _(){l(1,r=an()),l(0,o=[{...r}]),l(3,i={x:-1,y:-1})}function p(){o.length<=1||(o.pop(),l(0,o),l(1,r={...o[o.length-1]}))}const w=m=>{m.setup=()=>{t=m,m.createCanvas(400,400),_()},m.draw=()=>{m.background(0),$t(m,r,{drawSelection:!0,selection:it(m),currentPlayer:s})},m.mousePressed=()=>{if(m.mouseX<0||m.mouseX>m.width||m.mouseY<0||m.mouseY>m.height)return;const d=it(m);f(s,d)}};return kt(()=>{t==null||t.remove()}),[o,r,s,i,_,p,w,()=>l(2,s=Y.player),()=>l(2,s=Y.computer)]}class Pl extends Se{constructor(e){super(),Ie(this,e,El,kl,Ce,{})}}function yl(n){let e;return{c(){e=E("Game")},l(l){e=P(l,"Game")},m(l,t){G(l,e,t)},d(l){l&&u(e)}}}function wl(n){let e;return{c(){e=E("Generator")},l(l){e=P(l,"Generator")},m(l,t){G(l,e,t)},d(l){l&&u(e)}}}function Sl(n){let e;return{c(){e=E("Analyzer")},l(l){e=P(l,"Analyzer")},m(l,t){G(l,e,t)},d(l){l&&u(e)}}}function Il(n){let e,l,t,o,r,s;return e=new dt({props:{$$slots:{default:[yl]},$$scope:{ctx:n}}}),t=new dt({props:{$$slots:{default:[wl]},$$scope:{ctx:n}}}),r=new dt({props:{$$slots:{default:[Sl]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment),l=S(),ae(t.$$.fragment),o=S(),ae(r.$$.fragment)},l(i){ie(e.$$.fragment,i),l=I(i),ie(t.$$.fragment,i),o=I(i),ie(r.$$.fragment,i)},m(i,f){fe(e,i,f),G(i,l,f),fe(t,i,f),G(i,o,f),fe(r,i,f),s=!0},p(i,f){const c={};f&1&&(c.$$scope={dirty:f,ctx:i}),e.$set(c);const _={};f&1&&(_.$$scope={dirty:f,ctx:i}),t.$set(_);const p={};f&1&&(p.$$scope={dirty:f,ctx:i}),r.$set(p)},i(i){s||(F(e.$$.fragment,i),F(t.$$.fragment,i),F(r.$$.fragment,i),s=!0)},o(i){U(e.$$.fragment,i),U(t.$$.fragment,i),U(r.$$.fragment,i),s=!1},d(i){ce(e,i),i&&u(l),ce(t,i),i&&u(o),ce(r,i)}}}function Cl(n){let e,l;return e=new pl({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function Nl(n){let e,l;return e=new $l({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function Tl(n){let e,l;return e=new Pl({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function Al(n){let e,l,t,o,r,s,i,f;return e=new In({props:{$$slots:{default:[Il]},$$scope:{ctx:n}}}),t=new pt({props:{$$slots:{default:[Cl]},$$scope:{ctx:n}}}),r=new pt({props:{$$slots:{default:[Nl]},$$scope:{ctx:n}}}),i=new pt({props:{$$slots:{default:[Tl]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment),l=S(),ae(t.$$.fragment),o=S(),ae(r.$$.fragment),s=S(),ae(i.$$.fragment)},l(c){ie(e.$$.fragment,c),l=I(c),ie(t.$$.fragment,c),o=I(c),ie(r.$$.fragment,c),s=I(c),ie(i.$$.fragment,c)},m(c,_){fe(e,c,_),G(c,l,_),fe(t,c,_),G(c,o,_),fe(r,c,_),G(c,s,_),fe(i,c,_),f=!0},p(c,_){const p={};_&1&&(p.$$scope={dirty:_,ctx:c}),e.$set(p);const w={};_&1&&(w.$$scope={dirty:_,ctx:c}),t.$set(w);const N={};_&1&&(N.$$scope={dirty:_,ctx:c}),r.$set(N);const C={};_&1&&(C.$$scope={dirty:_,ctx:c}),i.$set(C)},i(c){f||(F(e.$$.fragment,c),F(t.$$.fragment,c),F(r.$$.fragment,c),F(i.$$.fragment,c),f=!0)},o(c){U(e.$$.fragment,c),U(t.$$.fragment,c),U(r.$$.fragment,c),U(i.$$.fragment,c),f=!1},d(c){ce(e,c),c&&u(l),ce(t,c),c&&u(o),ce(r,c),c&&u(s),ce(i,c)}}}function Ml(n){let e,l;return e=new En({props:{$$slots:{default:[Al]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},p(t,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}class Ol extends Se{constructor(e){super(),Ie(this,e,null,Ml,Ce,{})}}function Bl(n){let e,l;return e=new Ol({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,o){fe(e,t,o),l=!0},p:Te,i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}class Vl extends Se{constructor(e){super(),Ie(this,e,null,Bl,Ce,{})}}export{Vl as default};
