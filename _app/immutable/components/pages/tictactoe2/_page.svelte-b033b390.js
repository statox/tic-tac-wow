import{S as de,i as me,s as ve,C as et,k as g,l as k,m as y,h as _,n as J,b as N,N as pe,E as tt,F as nt,G as lt,f as H,t as R,H as Fe,a0 as un,o as xt,j as _n,W as ht,I as Ct,a1 as en,A as pn,$ as hn,g as Ie,d as Ce,q as w,a as A,r as S,c as M,D as u,B as ge,u as ee,w as te,x as ne,y as le,z as oe,J as Le,e as He,K as ft,M as Be,P as dt,Q as ct}from"../../../chunks/index-1d785069.js";import{w as Xe}from"../../../chunks/index-c5a64178.js";import{P as tn}from"../../../chunks/P5-76a6b36f.js";let dn=1;function nn(){return`svelte-tabs-${dn++}`}function mn(t){let e,l,n,o;const r=t[4].default,s=et(r,t,t[3],null);return{c(){e=g("div"),s&&s.c(),this.h()},l(i){e=k(i,"DIV",{class:!0});var a=y(e);s&&s.l(a),a.forEach(_),this.h()},h(){J(e,"class","svelte-tabs")},m(i,a){N(i,e,a),s&&s.m(e,null),l=!0,n||(o=pe(e,"keydown",t[1]),n=!0)},p(i,[a]){s&&s.p&&(!l||a&8)&&tt(s,r,i,i[3],l?lt(r,i[3],a,null):nt(i[3]),null)},i(i){l||(H(s,i),l=!0)},o(i){R(s,i),l=!1},d(i){i&&_(e),s&&s.d(i),n=!1,o()}}}const mt={};function vn(t,e,l){const n=t.indexOf(e);t.splice(n,1),l.update(o=>o===e?t[n]||t[t.length-1]:o)}function $n(t,e,l){let n,{$$slots:o={},$$scope:r}=e,{initialSelectedIndex:s=0}=e;const i=[],a=[],f=[],c=Xe({}),h=Xe({}),p=Xe(null);Fe(t,p,v=>l(5,n=v));const $=Xe(null);function P(v,I,B){v.push(I),B.update(W=>W||I),ht(()=>vn(v,I,B))}function d(v){const I=a.indexOf(v);p.set(v),$.set(f[I])}un(mt,{registerTab(v){P(a,v,p)},registerTabElement(v){i.push(v)},registerPanel(v){P(f,v,$)},selectTab:d,selectedTab:p,selectedPanel:$,controls:c,labeledBy:h}),xt(()=>{d(a[s])}),_n(()=>{for(let v=0;v<a.length;v++)c.update(I=>({...I,[a[v].id]:f[v].id})),h.update(I=>({...I,[f[v].id]:a[v].id}))});async function V(v){if(v.target.classList.contains("svelte-tabs__tab")){let I=a.indexOf(n);switch(v.key){case"ArrowRight":I+=1,I>a.length-1&&(I=0),d(a[I]),i[I].focus();break;case"ArrowLeft":I-=1,I<0&&(I=a.length-1),d(a[I]),i[I].focus()}}}return t.$$set=v=>{"initialSelectedIndex"in v&&l(2,s=v.initialSelectedIndex),"$$scope"in v&&l(3,r=v.$$scope)},[p,V,s,r,o]}class bn extends de{constructor(e){super(),me(this,e,$n,mn,ve,{initialSelectedIndex:2})}}function gn(t){let e,l,n,o,r,s;const i=t[9].default,a=et(i,t,t[8],null);return{c(){e=g("li"),a&&a.c(),this.h()},l(f){e=k(f,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var c=y(e);a&&a.l(c),c.forEach(_),this.h()},h(){J(e,"role","tab"),J(e,"id",t[3].id),J(e,"aria-controls",l=t[2][t[3].id]),J(e,"aria-selected",t[1]),J(e,"tabindex",n=t[1]?0:-1),J(e,"class","svelte-tabs__tab svelte-1fbofsd"),Ct(e,"svelte-tabs__selected",t[1])},m(f,c){N(f,e,c),a&&a.m(e,null),t[10](e),o=!0,r||(s=pe(e,"click",t[11]),r=!0)},p(f,[c]){a&&a.p&&(!o||c&256)&&tt(a,i,f,f[8],o?lt(i,f[8],c,null):nt(f[8]),null),(!o||c&4&&l!==(l=f[2][f[3].id]))&&J(e,"aria-controls",l),(!o||c&2)&&J(e,"aria-selected",f[1]),(!o||c&2&&n!==(n=f[1]?0:-1))&&J(e,"tabindex",n),(!o||c&2)&&Ct(e,"svelte-tabs__selected",f[1])},i(f){o||(H(a,f),o=!0)},o(f){R(a,f),o=!1},d(f){f&&_(e),a&&a.d(f),t[10](null),r=!1,s()}}}function kn(t,e,l){let n,o,{$$slots:r={},$$scope:s}=e,i;const a={id:nn()},{registerTab:f,registerTabElement:c,selectTab:h,selectedTab:p,controls:$}=en(mt);Fe(t,p,v=>l(7,n=v)),Fe(t,$,v=>l(2,o=v));let P;f(a),xt(async()=>{await pn(),c(i)});function d(v){hn[v?"unshift":"push"](()=>{i=v,l(0,i)})}const V=()=>h(a);return t.$$set=v=>{"$$scope"in v&&l(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&l(1,P=n===a)},[i,P,o,a,h,p,$,n,s,r,d,V]}class st extends de{constructor(e){super(),me(this,e,kn,gn,ve,{})}}function yn(t){let e,l;const n=t[1].default,o=et(n,t,t[0],null);return{c(){e=g("ul"),o&&o.c(),this.h()},l(r){e=k(r,"UL",{role:!0,class:!0});var s=y(e);o&&o.l(s),s.forEach(_),this.h()},h(){J(e,"role","tablist"),J(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,s){N(r,e,s),o&&o.m(e,null),l=!0},p(r,[s]){o&&o.p&&(!l||s&1)&&tt(o,n,r,r[0],l?lt(n,r[0],s,null):nt(r[0]),null)},i(r){l||(H(o,r),l=!0)},o(r){R(o,r),l=!1},d(r){r&&_(e),o&&o.d(r)}}}function Pn(t,e,l){let{$$slots:n={},$$scope:o}=e;return t.$$set=r=>{"$$scope"in r&&l(0,o=r.$$scope)},[o,n]}class En extends de{constructor(e){super(),me(this,e,Pn,yn,ve,{})}}function Tt(t){let e;const l=t[6].default,n=et(l,t,t[5],null);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,r){n&&n.m(o,r),e=!0},p(o,r){n&&n.p&&(!e||r&32)&&tt(n,l,o,o[5],e?lt(l,o[5],r,null):nt(o[5]),null)},i(o){e||(H(n,o),e=!0)},o(o){R(n,o),e=!1},d(o){n&&n.d(o)}}}function wn(t){let e,l,n,o=t[1]===t[2]&&Tt(t);return{c(){e=g("div"),o&&o.c(),this.h()},l(r){e=k(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=y(e);o&&o.l(s),s.forEach(_),this.h()},h(){J(e,"id",t[2].id),J(e,"aria-labelledby",l=t[0][t[2].id]),J(e,"class","svelte-tabs__tab-panel svelte-epfyet"),J(e,"role","tabpanel")},m(r,s){N(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){r[1]===r[2]?o?(o.p(r,s),s&2&&H(o,1)):(o=Tt(r),o.c(),H(o,1),o.m(e,null)):o&&(Ie(),R(o,1,1,()=>{o=null}),Ce()),(!n||s&1&&l!==(l=r[0][r[2].id]))&&J(e,"aria-labelledby",l)},i(r){n||(H(o),n=!0)},o(r){R(o),n=!1},d(r){r&&_(e),o&&o.d()}}}function Sn(t,e,l){let n,o,{$$slots:r={},$$scope:s}=e;const i={id:nn()},{registerPanel:a,selectedPanel:f,labeledBy:c}=en(mt);return Fe(t,f,h=>l(1,o=h)),Fe(t,c,h=>l(0,n=h)),a(i),t.$$set=h=>{"$$scope"in h&&l(5,s=h.$$scope)},[n,o,i,f,c,s,r]}class at extends de{constructor(e){super(),me(this,e,Sn,wn,ve,{})}}function Pe(t){const{x:e,y:l}=t;if(e<0||e>2||l<0||l>2)throw new Error(`Invalid coords (${e},${l})`);return 8-(3*l+e)}function vt(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const In=[448,56,7,292,146,73,273,84],Cn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],Tn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],Nn=[{p:2,o:5},{p:2,o:144}],Ne=(t,e)=>(t&e)===e;function Nt(t){let e=t,l=0;for(;e;)l+=e&1,e>>=1;return l}function At(t,e){const l=Pe(e);return j(t,l)}function j(t,e){return!(t&1<<e)}function ut(t,e){return t+2**e}const _t=t=>{for(const e of In)if(Ne(t,e))return!0;return!1};var L=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(L||{});function ln(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function we(t,e){return e===L.player?t.player:t.computer}function Se(t,e){return e===L.player?t.computer:t.player}function ze(t,e){if(!e&&!An(t))return"invalid_board";const l=_t(t.player),n=_t(t.computer);return l&&n?"draw":l?"player_win":n?"computer_win":Bn(t)?"not_over":"over"}function Ue(t,e,l){if(!Mn(t,l))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${l} `);e===L.player?t.player=ut(t.player,l):t.computer=ut(t.computer,l)}function An(t){if(t.player&t.computer)return!1;const e=Nt(t.player),l=Nt(t.computer);return!(Math.abs(e-l)>1)}function Mn(t,e){return j(t.player,e)&&j(t.computer,e)}function Bn(t){return(t.player|t.computer)!==511}function $t(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const l=[];let n=0;for(;n<9;)e&1||l.push(n),n++,e>>=1;return l}const On=[2,5,8,1,4,7,0,3,6];function Mt(t){let e=0;return On.forEach((l,n)=>{j(t,n)||(e=ut(e,l))}),e}function Ye(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const l={...t};for(let n=0;n<e;n++)l.player=Mt(l.player),l.computer=Mt(l.computer);return l}function Oe(t,e){const l=we(t,e);return _t(l)}function Je(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function on(t,e,l){const n=Pe(l),o=we(t,e),r=Se(t,e);if(n===4){const s=j(r,5)&&!j(o,3)||!j(o,5)&&j(r,3)?1:0,i=j(r,7)&&!j(o,1)||!j(o,7)&&j(r,1)?1:0,a=j(r,8)&&!j(o,0)||!j(o,8)&&j(r,0)?1:0,f=j(r,6)&&!j(o,2)||!j(o,6)&&j(r,2)?1:0;return s+i+a+f>=2}if(ot.has(n)){const s={0:0,2:3,6:1,8:2}[n]||0,i=Ye(t,s),a=we(i,e),f=Se(i,e),c=j(f,2)&&!j(a,1)||!j(a,2)&&j(f,1),h=j(f,6)&&!j(a,3)||!j(a,6)&&j(f,3);return c&&h}if(bt.has(n)){const s={1:0,3:1,5:3,7:2}[n]||0,i=Ye(t,s),a=we(i,e),f=Se(i,e),c=j(f,2)&&!j(a,0)||!j(a,2)&&j(f,0),h=j(f,7)&&!j(a,4)||!j(a,7)&&j(f,4);return c&&h}return!1}function Hn(t,e,l){const n=we(t,e),r={player:Se(t,e),computer:n};return on(r,L.player,l)}function qe(t,e,l){const n=Pe(l),o=we(t,e),r=Se(t,e);if(n===4){for(const{o:s,p:i}of Cn)if(Ne(o,i)&&Ne(r,s))return!0}if(ot.has(n)){const s={0:0,2:3,6:1,8:2}[n]||0,i=Ye(t,s),a=we(i,e),f=Se(i,e);for(const{o:c,p:h}of Tn)if(Ne(a,h)&&Ne(f,c))return!0}if(bt.has(n)){const s={1:0,3:1,5:3,7:2}[n]||0,i=Ye(t,s),a=we(i,e),f=Se(i,e);for(const{o:c,p:h}of Nn)if(Ne(a,h)&&Ne(f,c))return!0}return!1}const ot=new Set([0,2,6,8]),bt=new Set([1,3,5,7]);function Ke(t,e,l){const n=Pe(l);if(!ot.has(n))return!1;const o=8-n,r=Se(t,e);return!j(r,o)}function Qe(t){const e=Pe(t);return ot.has(e)}function Ze(t){const e=Pe(t);return bt.has(e)}function Dn(t,e){const l=$t(t);if(l.length===0)throw new Error("No available moves");let n;for(const o of l){const r={...t},s=vt(o);Ue(r,e,o);const i=Gn(r,e,s);i.score>((n==null?void 0:n.score)??-1)&&(n=i)}if(!n)throw new Error("Error in getMoveHardcoded");return n}function Gn(t,e,l){return Oe(t,e)?{score:8,reason:"win",move:l}:qe(t,e,l)?{score:7,reason:"block_opponent",move:l}:on(t,e,l)?{score:6,reason:"create_fork",move:l}:Hn(t,e,l)?{score:5,reason:"block_opponent_fork",move:l}:Je(l)?{score:4,reason:"take_center",move:l}:Ke(t,e,l)?{score:3,reason:"take_opposite_corner",move:l}:Qe(l)?{score:2,reason:"take_corner",move:l}:Ze(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Rn(t,e){const l=$t(t);if(l.length===0)throw new Error("No available moves");let n;for(const o of l){const r={...t},s=vt(o);Ue(r,e,o);const i=Vn(r,e,s);i.score>((n==null?void 0:n.score)??-1)&&(n=i)}if(!n)throw new Error("Error in getMoveHardcoded");return n}function Vn(t,e,l){return Oe(t,L.player)?{score:8,reason:"win",move:l}:qe(t,e,l)?{score:7,reason:"block_opponent",move:l}:Je(l)?{score:4,reason:"take_center",move:l}:Ke(t,e,l)?{score:3,reason:"take_opposite_corner",move:l}:Qe(l)?{score:2,reason:"take_corner",move:l}:Ze(l)?{score:1,reason:"take_edge",move:l}:{score:0,reason:"default_choice",move:l}}function Ln(t){const e=$t(t);if(e.length===0)throw new Error("No available moves");const l=Math.floor(Math.random()*e.length),n=e[l];return{score:0,reason:"random",move:vt(n)}}const Ae={random:Ln,hardcodedRules:Rn,hardcodedRulesComplete:Dn},rn=t=>({board:ln(),currentPlayer:t??L.player,state:"not_over",moveHistory:[]});function sn(t){t.currentPlayer=t.currentPlayer===L.player?L.computer:L.player}const Wn=(t,e,l)=>{t.state==="not_over"&&(Ue(t.board,e,Pe(l)),t.state=ze(t.board),t.moveHistory.push({board:{...t.board},moveCoord:l,player:e,method:"manual"}),sn(t))},We=(t,e,l)=>{if(t.state!=="not_over")return;const n=Ae[l],o=n(t.board,e);Ue(t.board,e,Pe(o.move)),t.state=ze(t.board),t.moveHistory.push({board:{...t.board},moveCoord:o.move,player:e,method:l,aiChoice:o}),sn(t)},je=(t,e)=>{if(t.moveHistory.length>0){const l=t.moveHistory[t.moveHistory.length-1];if(l.player===e)return l}if(t.moveHistory.length>1){const l=t.moveHistory[t.moveHistory.length-2];if(l.player===e)return l}return null},Fn="#FF0000",Un="#64ccfc";function pt(t,e,l){var c;const n=t.width/3,o=t.height/3,{height:r,width:s}=t,{drawSelection:i,selection:a,currentPlayer:f}=l||{};t.rectMode(t.CENTER),t.noFill(),t.stroke(255),t.strokeWeight(1),t.line(n,0,n,r),t.line(n*2,0,n*2,r),t.line(0,o,s,o),t.line(0,o*2,s,o*2),t.stroke(155),t.strokeWeight(3),t.rect(t.width/2,t.height/2,t.width,t.height),t.strokeWeight(4);for(let h=0;h<3;h++)for(let p=0;p<3;p++)((c=l==null?void 0:l.highlightCell)==null?void 0:c.x)===p&&(l==null?void 0:l.highlightCell.y)===h&&(t.noStroke(),t.fill(30,250,80,80),t.rect(p*n+n/2,h*o+o/2,n*.95,o*.95),t.noFill()),(!At(e.player,{x:p,y:h})||i&&f===L.player&&(a==null?void 0:a.x)===p&&(a==null?void 0:a.y)===h)&&(t.stroke(Un),t.circle(p*n+n/2,h*o+o/2,o/2)),(!At(e.computer,{x:p,y:h})||i&&f===L.computer&&(a==null?void 0:a.x)===p&&(a==null?void 0:a.y)===h)&&(t.stroke(Fn),t.line(p*n+n*.3,h*o+o*.3,p*n+n*.7,h*o+o*.7),t.line(p*n+n*.7,h*o+o*.3,p*n+n*.3,h*o+o*.7))}function xe(t){const{mouseX:e,mouseY:l,width:n,height:o}=t,r=Math.floor(t.map(e,0,n,0,3)),s=Math.floor(t.map(l,0,o,0,3));return{x:r,y:s}}function Bt(t){let e,l,n,o,r,s=ze(t[0])+"",i,a,f,c,h,p,$,P,d,V,v=t[0].player.toString(2).padStart(9,"0")+"",I,B,W,q=t[0].player+"",K,Z,re,se,Y,O=Oe(t[0],L.player)?"✅":"❌",Q,D,C,E,U,m,G,T,X,ce,x=t[0].computer.toString(2).padStart(9,"0")+"",ie,_e,fe,$e=t[0].computer+"",he,z,b,F,ke,Ee=Oe(t[0],L.computer)?"✅":"❌",Te;return{c(){e=g("div"),l=g("span"),n=w("State:"),o=A(),r=g("span"),i=w(s),a=A(),f=g("div"),c=g("span"),h=w("Player 1"),p=g("span"),$=w("Player, O"),P=A(),d=g("span"),V=w("0b"),I=w(v),B=A(),W=g("span"),K=w(q),Z=A(),re=g("span"),se=w("Wins"),Y=g("span"),Q=w(O),D=A(),C=g("div"),E=g("span"),U=w("Player 2"),m=g("span"),G=w("Computer, X"),T=A(),X=g("span"),ce=w("0b"),ie=w(x),_e=A(),fe=g("span"),he=w($e),z=A(),b=g("span"),F=w("Wins"),ke=g("span"),Te=w(Ee),this.h()},l(ue){e=k(ue,"DIV",{class:!0});var ae=y(e);l=k(ae,"SPAN",{});var De=y(l);n=S(De,"State:"),De.forEach(_),o=M(ae),r=k(ae,"SPAN",{});var Ge=y(r);i=S(Ge,s),Ge.forEach(_),a=M(ae),f=k(ae,"DIV",{class:!0});var be=y(f);c=k(be,"SPAN",{});var Re=y(c);h=S(Re,"Player 1"),Re.forEach(_),p=k(be,"SPAN",{});var Ve=y(p);$=S(Ve,"Player, O"),Ve.forEach(_),P=M(be),d=k(be,"SPAN",{});var Me=y(d);V=S(Me,"0b"),I=S(Me,v),Me.forEach(_),B=M(be),W=k(be,"SPAN",{});var gt=y(W);K=S(gt,q),gt.forEach(_),Z=M(be),re=k(be,"SPAN",{});var kt=y(re);se=S(kt,"Wins"),kt.forEach(_),Y=k(be,"SPAN",{});var yt=y(Y);Q=S(yt,O),yt.forEach(_),be.forEach(_),D=M(ae),C=k(ae,"DIV",{class:!0});var ye=y(C);E=k(ye,"SPAN",{});var Pt=y(E);U=S(Pt,"Player 2"),Pt.forEach(_),m=k(ye,"SPAN",{});var Et=y(m);G=S(Et,"Computer, X"),Et.forEach(_),T=M(ye),X=k(ye,"SPAN",{});var rt=y(X);ce=S(rt,"0b"),ie=S(rt,x),rt.forEach(_),_e=M(ye),fe=k(ye,"SPAN",{});var wt=y(fe);he=S(wt,$e),wt.forEach(_),z=M(ye),b=k(ye,"SPAN",{});var St=y(b);F=S(St,"Wins"),St.forEach(_),ke=k(ye,"SPAN",{});var It=y(ke);Te=S(It,Ee),It.forEach(_),ye.forEach(_),ae.forEach(_),this.h()},h(){J(f,"class","grid2cols svelte-1lw5ne4"),J(C,"class","grid2cols svelte-1lw5ne4"),J(e,"class","grid2cols svelte-1lw5ne4")},m(ue,ae){N(ue,e,ae),u(e,l),u(l,n),u(e,o),u(e,r),u(r,i),u(e,a),u(e,f),u(f,c),u(c,h),u(f,p),u(p,$),u(f,P),u(f,d),u(d,V),u(d,I),u(f,B),u(f,W),u(W,K),u(f,Z),u(f,re),u(re,se),u(f,Y),u(Y,Q),u(e,D),u(e,C),u(C,E),u(E,U),u(C,m),u(m,G),u(C,T),u(C,X),u(X,ce),u(X,ie),u(C,_e),u(C,fe),u(fe,he),u(C,z),u(C,b),u(b,F),u(C,ke),u(ke,Te)},p(ue,ae){ae&1&&s!==(s=ze(ue[0])+"")&&ee(i,s),ae&1&&v!==(v=ue[0].player.toString(2).padStart(9,"0")+"")&&ee(I,v),ae&1&&q!==(q=ue[0].player+"")&&ee(K,q),ae&1&&O!==(O=Oe(ue[0],L.player)?"✅":"❌")&&ee(Q,O),ae&1&&x!==(x=ue[0].computer.toString(2).padStart(9,"0")+"")&&ee(ie,x),ae&1&&$e!==($e=ue[0].computer+"")&&ee(he,$e),ae&1&&Ee!==(Ee=Oe(ue[0],L.computer)?"✅":"❌")&&ee(Te,Ee)},d(ue){ue&&_(e)}}}function Xn(t){let e,l,n,o,r=t[0]&&Bt(t);return{c(){e=g("div"),l=g("h4"),n=w("Board info"),o=A(),r&&r.c()},l(s){e=k(s,"DIV",{});var i=y(e);l=k(i,"H4",{});var a=y(l);n=S(a,"Board info"),a.forEach(_),o=M(i),r&&r.l(i),i.forEach(_)},m(s,i){N(s,e,i),u(e,l),u(l,n),u(e,o),r&&r.m(e,null)},p(s,[i]){s[0]?r?r.p(s,i):(r=Bt(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ge,o:ge,d(s){s&&_(e),r&&r.d()}}}function jn(t,e,l){let{board:n}=e;return t.$$set=o=>{"board"in o&&l(0,n=o.board)},[n]}class an extends de{constructor(e){super(),me(this,e,jn,Xn,ve,{board:0})}}function zn(t){let e,l,n=JSON.stringify(t[0])+"",o;return{c(){e=g("p"),l=w("Board is undefined "),o=w(n)},l(r){e=k(r,"P",{});var s=y(e);l=S(s,"Board is undefined "),o=S(s,n),s.forEach(_)},m(r,s){N(r,e,s),u(e,l),u(e,o)},p(r,s){s&1&&n!==(n=JSON.stringify(r[0])+"")&&ee(o,n)},i:ge,o:ge,d(r){r&&_(e)}}}function Yn(t){let e,l;return e=new tn({props:{sketch:t[1]}}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},p:ge,i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}function Jn(t){let e,l,n,o;const r=[Yn,zn],s=[];function i(a,f){return a[0]?0:1}return l=i(t),n=s[l]=r[l](t),{c(){e=g("div"),n.c()},l(a){e=k(a,"DIV",{});var f=y(e);n.l(f),f.forEach(_)},m(a,f){N(a,e,f),s[l].m(e,null),o=!0},p(a,[f]){let c=l;l=i(a),l===c?s[l].p(a,f):(Ie(),R(s[c],1,1,()=>{s[c]=null}),Ce(),n=s[l],n?n.p(a,f):(n=s[l]=r[l](a),n.c()),H(n,1),n.m(e,null))},i(a){o||(H(n),o=!0)},o(a){R(n),o=!1},d(a){a&&_(e),s[l].d()}}}function qn(t,e,l){let{dimensionPx:n}=e,{board:o}=e,{highlightCell:r=void 0}=e,{highlightMouse:s=!1}=e,{onClick:i=()=>{}}=e,a;const f=c=>{c.setup=()=>{a=c,c.createCanvas(n.width,n.height)},c.draw=()=>{c.background(0),s?pt(c,o,{highlightCell:xe(c)}):pt(c,o,{highlightCell:r})},c.mousePressed=()=>{c.mouseX<0||c.mouseX>c.width||c.mouseY<0||c.mouseY>c.height||i("manual",xe(c))}};return ht(()=>{a==null||a.remove()}),t.$$set=c=>{"dimensionPx"in c&&l(2,n=c.dimensionPx),"board"in c&&l(0,o=c.board),"highlightCell"in c&&l(3,r=c.highlightCell),"highlightMouse"in c&&l(4,s=c.highlightMouse),"onClick"in c&&l(5,i=c.onClick)},[o,f,n,r,s,i]}class fn extends de{constructor(e){super(),me(this,e,qn,Jn,ve,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function Ot(t,e,l){const n=t.slice();return n[3]=e[l],n}function Ht(t){let e,l,n,o,r,s,i,a,f,c,h,p,$=t[0].length===0&&Dt(),P=[...t[0]].reverse(),d=[];for(let v=0;v<P.length;v+=1)d[v]=Gt(Ot(t,P,v));const V=v=>R(d[v],1,1,()=>{d[v]=null});return{c(){e=g("div"),$&&$.c(),l=A(),n=g("h4"),o=w("Move"),r=A(),s=g("h4"),i=w("Selection"),a=A(),f=g("h4"),c=w("AI"),h=A();for(let v=0;v<d.length;v+=1)d[v].c();this.h()},l(v){e=k(v,"DIV",{class:!0});var I=y(e);$&&$.l(I),l=M(I),n=k(I,"H4",{});var B=y(n);o=S(B,"Move"),B.forEach(_),r=M(I),s=k(I,"H4",{});var W=y(s);i=S(W,"Selection"),W.forEach(_),a=M(I),f=k(I,"H4",{});var q=y(f);c=S(q,"AI"),q.forEach(_),h=M(I);for(let K=0;K<d.length;K+=1)d[K].l(I);I.forEach(_),this.h()},h(){J(e,"class","grid4cols svelte-1b41g2d")},m(v,I){N(v,e,I),$&&$.m(e,null),u(e,l),u(e,n),u(n,o),u(e,r),u(e,s),u(s,i),u(e,a),u(e,f),u(f,c),u(e,h);for(let B=0;B<d.length;B+=1)d[B].m(e,null);p=!0},p(v,I){if(v[0].length===0?$||($=Dt(),$.c(),$.m(e,l)):$&&($.d(1),$=null),I&1){P=[...v[0]].reverse();let B;for(B=0;B<P.length;B+=1){const W=Ot(v,P,B);d[B]?(d[B].p(W,I),H(d[B],1)):(d[B]=Gt(W),d[B].c(),H(d[B],1),d[B].m(e,null))}for(Ie(),B=P.length;B<d.length;B+=1)V(B);Ce()}},i(v){if(!p){for(let I=0;I<P.length;I+=1)H(d[I]);p=!0}},o(v){d=d.filter(Boolean);for(let I=0;I<d.length;I+=1)R(d[I]);p=!1},d(v){v&&_(e),$&&$.d(),Le(d,v)}}}function Dt(t){let e,l;return{c(){e=g("p"),l=w("No move yet.")},l(n){e=k(n,"P",{});var o=y(e);l=S(o,"No move yet."),o.forEach(_)},m(n,o){N(n,e,o),u(e,l)},d(n){n&&_(e)}}}function Kn(t){let e;return{c(){e=g("span")},l(l){e=k(l,"SPAN",{}),y(e).forEach(_)},m(l,n){N(l,e,n)},p:ge,d(l){l&&_(e)}}}function Qn(t){let e,l=t[3].aiChoice.score+"",n,o,r=t[3].aiChoice.reason+"",s;return{c(){e=g("span"),n=w(l),o=w(" - "),s=w(r)},l(i){e=k(i,"SPAN",{});var a=y(e);n=S(a,l),o=S(a," - "),s=S(a,r),a.forEach(_)},m(i,a){N(i,e,a),u(e,n),u(e,o),u(e,s)},p(i,a){a&1&&l!==(l=i[3].aiChoice.score+"")&&ee(n,l),a&1&&r!==(r=i[3].aiChoice.reason+"")&&ee(s,r)},d(i){i&&_(e)}}}function Gt(t){let e,l,n,o=t[3].method+"",r,s,i,a;e=new fn({props:{board:t[3].board,dimensionPx:{width:90,height:90},highlightCell:t[3].moveCoord}});function f(p,$){return p[3].aiChoice?Qn:Kn}let c=f(t),h=c(t);return{c(){te(e.$$.fragment),l=A(),n=g("span"),r=w(o),s=A(),h.c(),i=He()},l(p){ne(e.$$.fragment,p),l=M(p),n=k(p,"SPAN",{});var $=y(n);r=S($,o),$.forEach(_),s=M(p),h.l(p),i=He()},m(p,$){le(e,p,$),N(p,l,$),N(p,n,$),u(n,r),N(p,s,$),h.m(p,$),N(p,i,$),a=!0},p(p,$){const P={};$&1&&(P.board=p[3].board),$&1&&(P.highlightCell=p[3].moveCoord),e.$set(P),(!a||$&1)&&o!==(o=p[3].method+"")&&ee(r,o),c===(c=f(p))&&h?h.p(p,$):(h.d(1),h=c(p),h&&(h.c(),h.m(i.parentNode,i)))},i(p){a||(H(e.$$.fragment,p),a=!0)},o(p){R(e.$$.fragment,p),a=!1},d(p){oe(e,p),p&&_(l),p&&_(n),p&&_(s),h.d(p),p&&_(i)}}}function Zn(t){let e,l,n=t[1]?"Hide":"Show",o,r,s,i,a,f,c=t[1]&&Ht(t);return{c(){e=g("div"),l=g("button"),o=w(n),r=w(" move history"),s=A(),c&&c.c()},l(h){e=k(h,"DIV",{});var p=y(e);l=k(p,"BUTTON",{});var $=y(l);o=S($,n),r=S($," move history"),$.forEach(_),s=M(p),c&&c.l(p),p.forEach(_)},m(h,p){N(h,e,p),u(e,l),u(l,o),u(l,r),u(e,s),c&&c.m(e,null),i=!0,a||(f=pe(l,"click",t[2]),a=!0)},p(h,[p]){(!i||p&2)&&n!==(n=h[1]?"Hide":"Show")&&ee(o,n),h[1]?c?(c.p(h,p),p&2&&H(c,1)):(c=Ht(h),c.c(),H(c,1),c.m(e,null)):c&&(Ie(),R(c,1,1,()=>{c=null}),Ce())},i(h){i||(H(c),i=!0)},o(h){R(c),i=!1},d(h){h&&_(e),c&&c.d(),a=!1,f()}}}function xn(t,e,l){let{history:n}=e,o=!0;const r=()=>l(1,o=!o);return t.$$set=s=>{"history"in s&&l(0,n=s.history)},[n,o,r]}class el extends de{constructor(e){super(),me(this,e,xn,Zn,ve,{history:0})}}function it(t){const e=t.slice(),l=e[0];return e[1]=l.moveCoord,e[2]=l.player,e[3]=l.board,e[4]=l.aiChoice,e}function Rt(t){let e,l,n,o,r=t[1].x+"",s,i,a=t[1].y+"",f,c,h,p,$,P=Je(t[1])?"✅":"❌",d,V,v,I,B,W=Qe(t[1])?"✅":"❌",q,K,Z,re,se,Y=Ze(t[1])?"✅":"❌",O,Q,D,C,E,U,m=Ke(t[3],t[2],t[1])?"✅":"❌",G,T,X,ce,x,ie,_e=qe(t[3],t[2],t[1])?"✅":"❌",fe,$e,he,z=t[4]&&Vt(t);return{c(){e=g("span"),l=w("Last move:"),n=A(),o=g("span"),s=w(r),i=w(", "),f=w(a),c=A(),h=g("span"),p=w("center"),$=g("span"),d=w(P),V=A(),v=g("span"),I=w("corner"),B=g("span"),q=w(W),K=A(),Z=g("span"),re=w("side"),se=g("span"),O=w(Y),Q=A(),D=g("span"),C=w("Took opposite corner"),E=A(),U=g("span"),G=w(m),T=A(),X=g("span"),ce=w("Last move blocks opponent"),x=A(),ie=g("span"),fe=w(_e),$e=A(),z&&z.c(),he=He()},l(b){e=k(b,"SPAN",{});var F=y(e);l=S(F,"Last move:"),F.forEach(_),n=M(b),o=k(b,"SPAN",{});var ke=y(o);s=S(ke,r),i=S(ke,", "),f=S(ke,a),ke.forEach(_),c=M(b),h=k(b,"SPAN",{});var Ee=y(h);p=S(Ee,"center"),Ee.forEach(_),$=k(b,"SPAN",{});var Te=y($);d=S(Te,P),Te.forEach(_),V=M(b),v=k(b,"SPAN",{});var ue=y(v);I=S(ue,"corner"),ue.forEach(_),B=k(b,"SPAN",{});var ae=y(B);q=S(ae,W),ae.forEach(_),K=M(b),Z=k(b,"SPAN",{});var De=y(Z);re=S(De,"side"),De.forEach(_),se=k(b,"SPAN",{});var Ge=y(se);O=S(Ge,Y),Ge.forEach(_),Q=M(b),D=k(b,"SPAN",{});var be=y(D);C=S(be,"Took opposite corner"),be.forEach(_),E=M(b),U=k(b,"SPAN",{});var Re=y(U);G=S(Re,m),Re.forEach(_),T=M(b),X=k(b,"SPAN",{});var Ve=y(X);ce=S(Ve,"Last move blocks opponent"),Ve.forEach(_),x=M(b),ie=k(b,"SPAN",{});var Me=y(ie);fe=S(Me,_e),Me.forEach(_),$e=M(b),z&&z.l(b),he=He()},m(b,F){N(b,e,F),u(e,l),N(b,n,F),N(b,o,F),u(o,s),u(o,i),u(o,f),N(b,c,F),N(b,h,F),u(h,p),N(b,$,F),u($,d),N(b,V,F),N(b,v,F),u(v,I),N(b,B,F),u(B,q),N(b,K,F),N(b,Z,F),u(Z,re),N(b,se,F),u(se,O),N(b,Q,F),N(b,D,F),u(D,C),N(b,E,F),N(b,U,F),u(U,G),N(b,T,F),N(b,X,F),u(X,ce),N(b,x,F),N(b,ie,F),u(ie,fe),N(b,$e,F),z&&z.m(b,F),N(b,he,F)},p(b,F){F&1&&r!==(r=b[1].x+"")&&ee(s,r),F&1&&a!==(a=b[1].y+"")&&ee(f,a),F&1&&P!==(P=Je(b[1])?"✅":"❌")&&ee(d,P),F&1&&W!==(W=Qe(b[1])?"✅":"❌")&&ee(q,W),F&1&&Y!==(Y=Ze(b[1])?"✅":"❌")&&ee(O,Y),F&1&&m!==(m=Ke(b[3],b[2],b[1])?"✅":"❌")&&ee(G,m),F&1&&_e!==(_e=qe(b[3],b[2],b[1])?"✅":"❌")&&ee(fe,_e),b[4]?z?z.p(b,F):(z=Vt(b),z.c(),z.m(he.parentNode,he)):z&&(z.d(1),z=null)},d(b){b&&_(e),b&&_(n),b&&_(o),b&&_(c),b&&_(h),b&&_($),b&&_(V),b&&_(v),b&&_(B),b&&_(K),b&&_(Z),b&&_(se),b&&_(Q),b&&_(D),b&&_(E),b&&_(U),b&&_(T),b&&_(X),b&&_(x),b&&_(ie),b&&_($e),z&&z.d(b),b&&_(he)}}}function Vt(t){let e,l,n,o,r=t[4].score+"",s,i,a,f,c,h,p=t[4].reason+"",$;return{c(){e=g("span"),l=w("Score"),n=A(),o=g("span"),s=w(r),i=A(),a=g("span"),f=w("Reason"),c=A(),h=g("span"),$=w(p)},l(P){e=k(P,"SPAN",{});var d=y(e);l=S(d,"Score"),d.forEach(_),n=M(P),o=k(P,"SPAN",{});var V=y(o);s=S(V,r),V.forEach(_),i=M(P),a=k(P,"SPAN",{});var v=y(a);f=S(v,"Reason"),v.forEach(_),c=M(P),h=k(P,"SPAN",{});var I=y(h);$=S(I,p),I.forEach(_)},m(P,d){N(P,e,d),u(e,l),N(P,n,d),N(P,o,d),u(o,s),N(P,i,d),N(P,a,d),u(a,f),N(P,c,d),N(P,h,d),u(h,$)},p(P,d){d&1&&r!==(r=P[4].score+"")&&ee(s,r),d&1&&p!==(p=P[4].reason+"")&&ee($,p)},d(P){P&&_(e),P&&_(n),P&&_(o),P&&_(i),P&&_(a),P&&_(c),P&&_(h)}}}function tl(t){let e,l=t[0]&&Rt(it(t));return{c(){e=g("div"),l&&l.c(),this.h()},l(n){e=k(n,"DIV",{class:!0});var o=y(e);l&&l.l(o),o.forEach(_),this.h()},h(){J(e,"class","grid2cols svelte-1lw5ne4")},m(n,o){N(n,e,o),l&&l.m(e,null)},p(n,[o]){n[0]?l?l.p(it(n),o):(l=Rt(it(n)),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:ge,o:ge,d(n){n&&_(e),l&&l.d()}}}function nl(t,e,l){let{historyItem:n}=e;return t.$$set=o=>{"historyItem"in o&&l(0,n=o.historyItem)},[n]}class Lt extends de{constructor(e){super(),me(this,e,nl,tl,ve,{historyItem:0})}}function Wt(t){let e,l,n,o,r;return l=new Lt({props:{historyItem:je(t[0],L.player)}}),o=new Lt({props:{historyItem:je(t[0],L.computer)}}),{c(){e=g("div"),te(l.$$.fragment),n=A(),te(o.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=y(e);ne(l.$$.fragment,i),n=M(i),ne(o.$$.fragment,i),i.forEach(_),this.h()},h(){J(e,"class","grid2cols svelte-1lw5ne4")},m(s,i){N(s,e,i),le(l,e,null),u(e,n),le(o,e,null),r=!0},p(s,i){const a={};i&1&&(a.historyItem=je(s[0],L.player)),l.$set(a);const f={};i&1&&(f.historyItem=je(s[0],L.computer)),o.$set(f)},i(s){r||(H(l.$$.fragment,s),H(o.$$.fragment,s),r=!0)},o(s){R(l.$$.fragment,s),R(o.$$.fragment,s),r=!1},d(s){s&&_(e),oe(l),oe(o)}}}function ll(t){let e,l,n,o,r,s=t[2](t[0])+"",i,a,f,c,h,p=t[1]&&Wt(t);return c=new el({props:{history:t[0].moveHistory}}),{c(){e=g("div"),l=g("h4"),n=w("Game info"),o=A(),r=g("span"),i=w(s),a=A(),p&&p.c(),f=A(),te(c.$$.fragment)},l($){e=k($,"DIV",{});var P=y(e);l=k(P,"H4",{});var d=y(l);n=S(d,"Game info"),d.forEach(_),o=M(P),r=k(P,"SPAN",{});var V=y(r);i=S(V,s),V.forEach(_),a=M(P),p&&p.l(P),f=M(P),ne(c.$$.fragment,P),P.forEach(_)},m($,P){N($,e,P),u(e,l),u(l,n),u(e,o),u(e,r),u(r,i),u(e,a),p&&p.m(e,null),u(e,f),le(c,e,null),h=!0},p($,[P]){(!h||P&1)&&s!==(s=$[2]($[0])+"")&&ee(i,s),$[1]?p?(p.p($,P),P&2&&H(p,1)):(p=Wt($),p.c(),H(p,1),p.m(e,f)):p&&(Ie(),R(p,1,1,()=>{p=null}),Ce());const d={};P&1&&(d.history=$[0].moveHistory),c.$set(d)},i($){h||(H(p),H(c.$$.fragment,$),h=!0)},o($){R(p),R(c.$$.fragment,$),h=!1},d($){$&&_(e),p&&p.d(),oe(c)}}}function ol(t,e,l){let{game:n}=e,{showMoveInfo:o=!1}=e;const r=s=>!s||!s.state?"N/A":s.state==="not_over"?"Turn: "+(s.currentPlayer===L.player?"Player":"Computer"):s.state==="player_win"?"Player Win":s.state==="computer_win"?"Computer Win":s.state==="draw"?"Draw":s.state==="over"?"Game Over":"Invalid Game";return t.$$set=s=>{"game"in s&&l(0,n=s.game),"showMoveInfo"in s&&l(1,o=s.showMoveInfo)},[n,o,r]}class cn extends de{constructor(e){super(),me(this,e,ol,ll,ve,{game:0,showMoveInfo:1})}}function Ft(t,e,l){const n=t.slice();return n[12]=e[l],n}function Ut(t){let e,l,n,o;return{c(){e=g("p"),l=w("Restarting in "),n=w(t[1]),o=w(" seconds")},l(r){e=k(r,"P",{});var s=y(e);l=S(s,"Restarting in "),n=S(s,t[1]),o=S(s," seconds"),s.forEach(_)},m(r,s){N(r,e,s),u(e,l),u(e,n),u(e,o)},p(r,s){s&2&&ee(n,r[1])},d(r){r&&_(e)}}}function Xt(t){let e,l=t[12]+"",n,o;return{c(){e=g("option"),n=w(l),o=A(),this.h()},l(r){e=k(r,"OPTION",{});var s=y(e);n=S(s,l),o=M(s),s.forEach(_),this.h()},h(){e.__value=t[12],e.value=e.__value},m(r,s){N(r,e,s),u(e,n),u(e,o)},p:ge,d(r){r&&_(e)}}}function jt(t){let e,l,n,o,r,s,i;return l=new fn({props:{board:t[0].board,dimensionPx:{width:400,height:400},onClick:t[3],highlightMouse:!0}}),o=new an({props:{board:t[0].board}}),s=new cn({props:{game:t[0],showMoveInfo:!0}}),{c(){e=g("div"),te(l.$$.fragment),n=A(),te(o.$$.fragment),r=A(),te(s.$$.fragment),this.h()},l(a){e=k(a,"DIV",{class:!0});var f=y(e);ne(l.$$.fragment,f),n=M(f),ne(o.$$.fragment,f),f.forEach(_),r=M(a),ne(s.$$.fragment,a),this.h()},h(){J(e,"class","grid2colsResponsive svelte-1epiyf5")},m(a,f){N(a,e,f),le(l,e,null),u(e,n),le(o,e,null),N(a,r,f),le(s,a,f),i=!0},p(a,f){const c={};f&1&&(c.board=a[0].board),l.$set(c);const h={};f&1&&(h.board=a[0].board),o.$set(h);const p={};f&1&&(p.game=a[0]),s.$set(p)},i(a){i||(H(l.$$.fragment,a),H(o.$$.fragment,a),H(s.$$.fragment,a),i=!0)},o(a){R(l.$$.fragment,a),R(o.$$.fragment,a),R(s.$$.fragment,a),i=!1},d(a){a&&_(e),oe(l),oe(o),a&&_(r),oe(s,a)}}}function rl(t){let e,l,n,o,r,s,i,a,f,c,h,p,$,P,d,V,v,I,B,W,q,K,Z,re,se,Y,O=t[1]>0&&Ut(t),Q=Object.keys(Ae),D=[];for(let E=0;E<Q.length;E+=1)D[E]=Xt(Ft(t,Q,E));let C=t[0].board&&jt(t);return{c(){e=g("h2"),l=w("Game"),n=A(),o=g("div"),O&&O.c(),r=A(),s=g("label"),i=w("AI type"),a=A(),f=g("select");for(let E=0;E<D.length;E+=1)D[E].c();c=A(),h=g("div"),p=g("span"),$=w("Player automatic move"),P=A(),d=g("button"),V=w("Random move"),v=A(),I=g("button"),B=w("Hardcoded rules"),W=A(),q=g("button"),K=w("Complete hardcoded rules"),Z=A(),C&&C.c(),this.h()},l(E){e=k(E,"H2",{});var U=y(e);l=S(U,"Game"),U.forEach(_),n=M(E),o=k(E,"DIV",{});var m=y(o);O&&O.l(m),r=M(m),s=k(m,"LABEL",{for:!0});var G=y(s);i=S(G,"AI type"),G.forEach(_),a=M(m),f=k(m,"SELECT",{id:!0});var T=y(f);for(let fe=0;fe<D.length;fe+=1)D[fe].l(T);T.forEach(_),c=M(m),h=k(m,"DIV",{});var X=y(h);p=k(X,"SPAN",{});var ce=y(p);$=S(ce,"Player automatic move"),ce.forEach(_),P=M(X),d=k(X,"BUTTON",{});var x=y(d);V=S(x,"Random move"),x.forEach(_),v=M(X),I=k(X,"BUTTON",{});var ie=y(I);B=S(ie,"Hardcoded rules"),ie.forEach(_),W=M(X),q=k(X,"BUTTON",{});var _e=y(q);K=S(_e,"Complete hardcoded rules"),_e.forEach(_),X.forEach(_),Z=M(m),C&&C.l(m),m.forEach(_),this.h()},h(){J(s,"for","aiType"),J(f,"id","aiType"),t[2]===void 0&&ft(()=>t[4].call(f))},m(E,U){N(E,e,U),u(e,l),N(E,n,U),N(E,o,U),O&&O.m(o,null),u(o,r),u(o,s),u(s,i),u(o,a),u(o,f);for(let m=0;m<D.length;m+=1)D[m].m(f,null);Be(f,t[2]),u(o,c),u(o,h),u(h,p),u(p,$),u(h,P),u(h,d),u(d,V),u(h,v),u(h,I),u(I,B),u(h,W),u(h,q),u(q,K),u(o,Z),C&&C.m(o,null),re=!0,se||(Y=[pe(f,"change",t[4]),pe(d,"click",t[5]),pe(I,"click",t[6]),pe(q,"click",t[7])],se=!0)},p(E,[U]){if(E[1]>0?O?O.p(E,U):(O=Ut(E),O.c(),O.m(o,r)):O&&(O.d(1),O=null),U&0){Q=Object.keys(Ae);let m;for(m=0;m<Q.length;m+=1){const G=Ft(E,Q,m);D[m]?D[m].p(G,U):(D[m]=Xt(G),D[m].c(),D[m].m(f,null))}for(;m<D.length;m+=1)D[m].d(1);D.length=Q.length}U&4&&Be(f,E[2]),E[0].board?C?(C.p(E,U),U&1&&H(C,1)):(C=jt(E),C.c(),H(C,1),C.m(o,null)):C&&(Ie(),R(C,1,1,()=>{C=null}),Ce())},i(E){re||(H(C),re=!0)},o(E){R(C),re=!1},d(E){E&&_(e),E&&_(n),E&&_(o),O&&O.d(),Le(D,E),C&&C.d(),se=!1,dt(Y)}}}function sl(t,e,l){let n,o,r,s="hardcodedRulesComplete",i=!1;a();function a(){l(0,n=rn(i?L.computer:L.player)),i&&We(n,L.computer,s),o=n.currentPlayer,i=!i}const f=(d,V)=>{if(o===L.player){if(d==="manual"){if(!V)return;Wn(n,L.player,V)}else We(n,L.player,d);l(0,n),o=n.currentPlayer,setTimeout(()=>{if(We(n,L.computer,s),l(0,n),o=n.currentPlayer,n.state!=="not_over"){l(1,r=4);const v=setInterval(()=>{l(1,r--,r),r===0&&(a(),clearInterval(v))},1e3)}},500)}},c=(d,V)=>{f(d,V)};function h(){s=ct(this),l(2,s)}return[n,r,s,c,h,()=>c("random"),()=>c("hardcodedRules"),()=>c("hardcodedRulesComplete")]}class al extends de{constructor(e){super(),me(this,e,sl,rl,ve,{})}}function zt(t,e,l){const n=t.slice();return n[7]=e[l],n}function Yt(t,e,l){const n=t.slice();return n[10]=e[l],n}function Jt(t,e,l){const n=t.slice();return n[10]=e[l],n}function qt(t){let e,l=t[10]+"",n,o;return{c(){e=g("option"),n=w(l),o=A(),this.h()},l(r){e=k(r,"OPTION",{});var s=y(e);n=S(s,l),o=M(s),s.forEach(_),this.h()},h(){e.__value=t[10],e.value=e.__value},m(r,s){N(r,e,s),u(e,n),u(e,o)},p:ge,d(r){r&&_(e)}}}function Kt(t){let e,l=t[10]+"",n,o;return{c(){e=g("option"),n=w(l),o=A(),this.h()},l(r){e=k(r,"OPTION",{});var s=y(e);n=S(s,l),o=M(s),s.forEach(_),this.h()},h(){e.__value=t[10],e.value=e.__value},m(r,s){N(r,e,s),u(e,n),u(e,o)},p:ge,d(r){r&&_(e)}}}function Qt(t){let e,l;return e=new cn({props:{game:t[7]}}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},p(n,o){const r={};o&1&&(r.game=n[7]),e.$set(r)},i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}function Zt(t){let e,l,n=t[7].board&&Qt(t);return{c(){n&&n.c(),e=He()},l(o){n&&n.l(o),e=He()},m(o,r){n&&n.m(o,r),N(o,e,r),l=!0},p(o,r){o[7].board?n?(n.p(o,r),r&1&&H(n,1)):(n=Qt(o),n.c(),H(n,1),n.m(e.parentNode,e)):n&&(Ie(),R(n,1,1,()=>{n=null}),Ce())},i(o){l||(H(n),l=!0)},o(o){R(n),l=!1},d(o){n&&n.d(o),o&&_(e)}}}function il(t){let e,l,n,o,r,s,i,a,f,c,h,p,$,P,d,V,v,I,B,W,q,K,Z,re,se,Y=Object.keys(Ae),O=[];for(let m=0;m<Y.length;m+=1)O[m]=qt(Jt(t,Y,m));let Q=Object.keys(Ae),D=[];for(let m=0;m<Q.length;m+=1)D[m]=Kt(Yt(t,Q,m));let C=t[0],E=[];for(let m=0;m<C.length;m+=1)E[m]=Zt(zt(t,C,m));const U=m=>R(E[m],1,1,()=>{E[m]=null});return{c(){e=g("div"),l=g("h2"),n=w("Generator"),o=A(),r=g("button"),s=w("Delete games"),i=A(),a=g("button"),f=w("Create game"),c=A(),h=g("div"),p=g("label"),$=w("AI type"),P=A(),d=g("select");for(let m=0;m<O.length;m+=1)O[m].c();V=A(),v=g("label"),I=w("AI type"),B=A(),W=g("select");for(let m=0;m<D.length;m+=1)D[m].c();q=A(),K=g("div");for(let m=0;m<E.length;m+=1)E[m].c();this.h()},l(m){e=k(m,"DIV",{});var G=y(e);l=k(G,"H2",{});var T=y(l);n=S(T,"Generator"),T.forEach(_),o=M(G),r=k(G,"BUTTON",{});var X=y(r);s=S(X,"Delete games"),X.forEach(_),i=M(G),a=k(G,"BUTTON",{});var ce=y(a);f=S(ce,"Create game"),ce.forEach(_),c=M(G),h=k(G,"DIV",{});var x=y(h);p=k(x,"LABEL",{for:!0});var ie=y(p);$=S(ie,"AI type"),ie.forEach(_),P=M(x),d=k(x,"SELECT",{id:!0});var _e=y(d);for(let z=0;z<O.length;z+=1)O[z].l(_e);_e.forEach(_),V=M(x),v=k(x,"LABEL",{for:!0});var fe=y(v);I=S(fe,"AI type"),fe.forEach(_),B=M(x),W=k(x,"SELECT",{id:!0});var $e=y(W);for(let z=0;z<D.length;z+=1)D[z].l($e);$e.forEach(_),x.forEach(_),q=M(G),K=k(G,"DIV",{});var he=y(K);for(let z=0;z<E.length;z+=1)E[z].l(he);he.forEach(_),G.forEach(_),this.h()},h(){J(p,"for","aiType"),J(d,"id","aiType"),t[1]===void 0&&ft(()=>t[5].call(d)),J(v,"for","aiType"),J(W,"id","aiType"),t[2]===void 0&&ft(()=>t[6].call(W))},m(m,G){N(m,e,G),u(e,l),u(l,n),u(e,o),u(e,r),u(r,s),u(e,i),u(e,a),u(a,f),u(e,c),u(e,h),u(h,p),u(p,$),u(h,P),u(h,d);for(let T=0;T<O.length;T+=1)O[T].m(d,null);Be(d,t[1]),u(h,V),u(h,v),u(v,I),u(h,B),u(h,W);for(let T=0;T<D.length;T+=1)D[T].m(W,null);Be(W,t[2]),u(e,q),u(e,K);for(let T=0;T<E.length;T+=1)E[T].m(K,null);Z=!0,re||(se=[pe(r,"click",t[4]),pe(a,"click",t[3]),pe(d,"change",t[5]),pe(W,"change",t[6])],re=!0)},p(m,[G]){if(G&0){Y=Object.keys(Ae);let T;for(T=0;T<Y.length;T+=1){const X=Jt(m,Y,T);O[T]?O[T].p(X,G):(O[T]=qt(X),O[T].c(),O[T].m(d,null))}for(;T<O.length;T+=1)O[T].d(1);O.length=Y.length}if(G&2&&Be(d,m[1]),G&0){Q=Object.keys(Ae);let T;for(T=0;T<Q.length;T+=1){const X=Yt(m,Q,T);D[T]?D[T].p(X,G):(D[T]=Kt(X),D[T].c(),D[T].m(W,null))}for(;T<D.length;T+=1)D[T].d(1);D.length=Q.length}if(G&4&&Be(W,m[2]),G&1){C=m[0];let T;for(T=0;T<C.length;T+=1){const X=zt(m,C,T);E[T]?(E[T].p(X,G),H(E[T],1)):(E[T]=Zt(X),E[T].c(),H(E[T],1),E[T].m(K,null))}for(Ie(),T=C.length;T<E.length;T+=1)U(T);Ce()}},i(m){if(!Z){for(let G=0;G<C.length;G+=1)H(E[G]);Z=!0}},o(m){E=E.filter(Boolean);for(let G=0;G<E.length;G+=1)R(E[G]);Z=!1},d(m){m&&_(e),Le(O,m),Le(D,m),Le(E,m),re=!1,dt(se)}}}function fl(t,e,l){let n=[],o="random",r="hardcodedRulesComplete";const s=()=>{const c=rn();for(;c.state==="not_over";)We(c,L.player,o),We(c,L.computer,r);l(0,n=[c,...n])},i=()=>{l(0,n=[])};function a(){o=ct(this),l(1,o)}function f(){r=ct(this),l(2,r)}return[n,o,r,s,i,a,f]}class cl extends de{constructor(e){super(),me(this,e,fl,il,ve,{})}}function ul(t){let e,l,n,o,r,s,i,a,f,c,h,p,$,P,d,V,v,I,B,W,q,K,Z,re,se,Y,O,Q,D;return r=new tn({props:{sketch:t[6]}}),Y=new an({props:{board:t[1],lastMove:t[3]}}),{c(){e=g("h2"),l=w("Analyzer"),n=A(),o=g("div"),te(r.$$.fragment),s=A(),i=g("div"),a=g("h4"),f=w("Controls"),c=A(),h=g("button"),p=w("Play O"),P=A(),d=g("button"),V=w("Play X"),I=A(),B=g("button"),W=w("Previous"),K=A(),Z=g("button"),re=w("Reset"),se=A(),te(Y.$$.fragment),this.h()},l(C){e=k(C,"H2",{});var E=y(e);l=S(E,"Analyzer"),E.forEach(_),n=M(C),o=k(C,"DIV",{});var U=y(o);ne(r.$$.fragment,U),s=M(U),i=k(U,"DIV",{});var m=y(i);a=k(m,"H4",{});var G=y(a);f=S(G,"Controls"),G.forEach(_),c=M(m),h=k(m,"BUTTON",{});var T=y(h);p=S(T,"Play O"),T.forEach(_),P=M(m),d=k(m,"BUTTON",{});var X=y(d);V=S(X,"Play X"),X.forEach(_),I=M(m),B=k(m,"BUTTON",{});var ce=y(B);W=S(ce,"Previous"),ce.forEach(_),K=M(m),Z=k(m,"BUTTON",{});var x=y(Z);re=S(x,"Reset"),x.forEach(_),m.forEach(_),se=M(U),ne(Y.$$.fragment,U),U.forEach(_),this.h()},h(){h.disabled=$=t[2]===L.player,d.disabled=v=t[2]===L.computer,B.disabled=q=(t[0]||[]).length<2},m(C,E){N(C,e,E),u(e,l),N(C,n,E),N(C,o,E),le(r,o,null),u(o,s),u(o,i),u(i,a),u(a,f),u(i,c),u(i,h),u(h,p),u(i,P),u(i,d),u(d,V),u(i,I),u(i,B),u(B,W),u(i,K),u(i,Z),u(Z,re),u(o,se),le(Y,o,null),O=!0,Q||(D=[pe(h,"click",t[7]),pe(d,"click",t[8]),pe(B,"click",t[5]),pe(Z,"click",t[4])],Q=!0)},p(C,[E]){(!O||E&4&&$!==($=C[2]===L.player))&&(h.disabled=$),(!O||E&4&&v!==(v=C[2]===L.computer))&&(d.disabled=v),(!O||E&1&&q!==(q=(C[0]||[]).length<2))&&(B.disabled=q);const U={};E&2&&(U.board=C[1]),E&8&&(U.lastMove=C[3]),Y.$set(U)},i(C){O||(H(r.$$.fragment,C),H(Y.$$.fragment,C),O=!0)},o(C){R(r.$$.fragment,C),R(Y.$$.fragment,C),O=!1},d(C){C&&_(e),C&&_(n),C&&_(o),oe(r),oe(Y),Q=!1,dt(D)}}}function _l(t,e,l){let n,o,r,s=L.player,i;function a(d,V){Ue(r,d,Pe(V)),l(3,i=V),l(1,r),o.push({...r}),l(0,o),f()}function f(){l(2,s=s===L.player?L.computer:L.player)}function c(){l(1,r=ln()),l(0,o=[{...r}]),l(3,i={x:-1,y:-1})}function h(){o.length<=1||(o.pop(),l(0,o),l(1,r={...o[o.length-1]}))}const p=d=>{d.setup=()=>{n=d,d.createCanvas(400,400),c()},d.draw=()=>{d.background(0),pt(d,r,{drawSelection:!0,selection:xe(d),currentPlayer:s})},d.mousePressed=()=>{if(d.mouseX<0||d.mouseX>d.width||d.mouseY<0||d.mouseY>d.height)return;const V=xe(d);a(s,V)}};return ht(()=>{n==null||n.remove()}),[o,r,s,i,c,h,p,()=>l(2,s=L.player),()=>l(2,s=L.computer)]}class pl extends de{constructor(e){super(),me(this,e,_l,ul,ve,{})}}function hl(t){let e;return{c(){e=w("Game")},l(l){e=S(l,"Game")},m(l,n){N(l,e,n)},d(l){l&&_(e)}}}function dl(t){let e;return{c(){e=w("Generator")},l(l){e=S(l,"Generator")},m(l,n){N(l,e,n)},d(l){l&&_(e)}}}function ml(t){let e;return{c(){e=w("Analyzer")},l(l){e=S(l,"Analyzer")},m(l,n){N(l,e,n)},d(l){l&&_(e)}}}function vl(t){let e,l,n,o,r,s;return e=new st({props:{$$slots:{default:[hl]},$$scope:{ctx:t}}}),n=new st({props:{$$slots:{default:[dl]},$$scope:{ctx:t}}}),r=new st({props:{$$slots:{default:[ml]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),l=A(),te(n.$$.fragment),o=A(),te(r.$$.fragment)},l(i){ne(e.$$.fragment,i),l=M(i),ne(n.$$.fragment,i),o=M(i),ne(r.$$.fragment,i)},m(i,a){le(e,i,a),N(i,l,a),le(n,i,a),N(i,o,a),le(r,i,a),s=!0},p(i,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a&1&&(c.$$scope={dirty:a,ctx:i}),n.$set(c);const h={};a&1&&(h.$$scope={dirty:a,ctx:i}),r.$set(h)},i(i){s||(H(e.$$.fragment,i),H(n.$$.fragment,i),H(r.$$.fragment,i),s=!0)},o(i){R(e.$$.fragment,i),R(n.$$.fragment,i),R(r.$$.fragment,i),s=!1},d(i){oe(e,i),i&&_(l),oe(n,i),i&&_(o),oe(r,i)}}}function $l(t){let e,l;return e=new al({}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}function bl(t){let e,l;return e=new cl({}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}function gl(t){let e,l;return e=new pl({}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}function kl(t){let e,l,n,o,r,s,i,a;return e=new En({props:{$$slots:{default:[vl]},$$scope:{ctx:t}}}),n=new at({props:{$$slots:{default:[$l]},$$scope:{ctx:t}}}),r=new at({props:{$$slots:{default:[bl]},$$scope:{ctx:t}}}),i=new at({props:{$$slots:{default:[gl]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),l=A(),te(n.$$.fragment),o=A(),te(r.$$.fragment),s=A(),te(i.$$.fragment)},l(f){ne(e.$$.fragment,f),l=M(f),ne(n.$$.fragment,f),o=M(f),ne(r.$$.fragment,f),s=M(f),ne(i.$$.fragment,f)},m(f,c){le(e,f,c),N(f,l,c),le(n,f,c),N(f,o,c),le(r,f,c),N(f,s,c),le(i,f,c),a=!0},p(f,c){const h={};c&1&&(h.$$scope={dirty:c,ctx:f}),e.$set(h);const p={};c&1&&(p.$$scope={dirty:c,ctx:f}),n.$set(p);const $={};c&1&&($.$$scope={dirty:c,ctx:f}),r.$set($);const P={};c&1&&(P.$$scope={dirty:c,ctx:f}),i.$set(P)},i(f){a||(H(e.$$.fragment,f),H(n.$$.fragment,f),H(r.$$.fragment,f),H(i.$$.fragment,f),a=!0)},o(f){R(e.$$.fragment,f),R(n.$$.fragment,f),R(r.$$.fragment,f),R(i.$$.fragment,f),a=!1},d(f){oe(e,f),f&&_(l),oe(n,f),f&&_(o),oe(r,f),f&&_(s),oe(i,f)}}}function yl(t){let e,l;return e=new bn({props:{$$slots:{default:[kl]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},p(n,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}class Pl extends de{constructor(e){super(),me(this,e,null,yl,ve,{})}}function El(t){let e,l;return e=new Pl({}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){le(e,n,o),l=!0},p:ge,i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){oe(e,n)}}}class Cl extends de{constructor(e){super(),me(this,e,null,El,ve,{})}}export{Cl as default};
