import{S as ne,i as le,s as re,C as ft,k as h,l as v,m as $,h as c,n as V,b as D,N as me,E as ut,F as ct,G as pt,f as R,t as X,H as he,a0 as Hn,o as Cn,j as Un,W as Jt,I as bn,a1 as Ln,A as zn,$ as Yn,g as qn,d as jn,q as b,a as E,r as g,c as w,D as o,B as Ut,u as H,w as j,x as J,y as K,z as Q,P as Jn}from"../../../chunks/index-1d785069.js";import{w as ze}from"../../../chunks/index-c5a64178.js";import{P as On}from"../../../chunks/P5-76a6b36f.js";let Kn=1;function Dn(){return`svelte-tabs-${Kn++}`}function Qn(t){let e,r,n,l;const s=t[4].default,i=ft(s,t,t[3],null);return{c(){e=h("div"),i&&i.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var f=$(e);i&&i.l(f),f.forEach(c),this.h()},h(){V(e,"class","svelte-tabs")},m(a,f){D(a,e,f),i&&i.m(e,null),r=!0,n||(l=me(e,"keydown",t[1]),n=!0)},p(a,[f]){i&&i.p&&(!r||f&8)&&ut(i,s,a,a[3],r?pt(s,a[3],f,null):ct(a[3]),null)},i(a){r||(R(i,a),r=!0)},o(a){X(i,a),r=!1},d(a){a&&c(e),i&&i.d(a),n=!1,l()}}}const Kt={};function Zn(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(l=>l===e?t[n]||t[t.length-1]:l)}function xn(t,e,r){let n,{$$slots:l={},$$scope:s}=e,{initialSelectedIndex:i=0}=e;const a=[],f=[],d=[],m=ze({}),y=ze({}),S=ze(null);he(t,S,p=>r(5,n=p));const T=ze(null);function I(p,_,B){p.push(_),B.update(L=>L||_),Jt(()=>Zn(p,_,B))}function u(p){const _=f.indexOf(p);S.set(p),T.set(d[_])}Hn(Kt,{registerTab(p){I(f,p,S)},registerTabElement(p){a.push(p)},registerPanel(p){I(d,p,T)},selectTab:u,selectedTab:S,selectedPanel:T,controls:m,labeledBy:y}),Cn(()=>{u(f[i])}),Un(()=>{for(let p=0;p<f.length;p++)m.update(_=>({..._,[f[p].id]:d[p].id})),y.update(_=>({..._,[d[p].id]:f[p].id}))});async function P(p){if(p.target.classList.contains("svelte-tabs__tab")){let _=f.indexOf(n);switch(p.key){case"ArrowRight":_+=1,_>f.length-1&&(_=0),u(f[_]),a[_].focus();break;case"ArrowLeft":_-=1,_<0&&(_=f.length-1),u(f[_]),a[_].focus()}}}return t.$$set=p=>{"initialSelectedIndex"in p&&r(2,i=p.initialSelectedIndex),"$$scope"in p&&r(3,s=p.$$scope)},[S,P,i,s,l]}class el extends ne{constructor(e){super(),le(this,e,xn,Qn,re,{initialSelectedIndex:2})}}function tl(t){let e,r,n,l,s,i;const a=t[9].default,f=ft(a,t,t[8],null);return{c(){e=h("li"),f&&f.c(),this.h()},l(d){e=v(d,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var m=$(e);f&&f.l(m),m.forEach(c),this.h()},h(){V(e,"role","tab"),V(e,"id",t[3].id),V(e,"aria-controls",r=t[2][t[3].id]),V(e,"aria-selected",t[1]),V(e,"tabindex",n=t[1]?0:-1),V(e,"class","svelte-tabs__tab svelte-1fbofsd"),bn(e,"svelte-tabs__selected",t[1])},m(d,m){D(d,e,m),f&&f.m(e,null),t[10](e),l=!0,s||(i=me(e,"click",t[11]),s=!0)},p(d,[m]){f&&f.p&&(!l||m&256)&&ut(f,a,d,d[8],l?pt(a,d[8],m,null):ct(d[8]),null),(!l||m&4&&r!==(r=d[2][d[3].id]))&&V(e,"aria-controls",r),(!l||m&2)&&V(e,"aria-selected",d[1]),(!l||m&2&&n!==(n=d[1]?0:-1))&&V(e,"tabindex",n),(!l||m&2)&&bn(e,"svelte-tabs__selected",d[1])},i(d){l||(R(f,d),l=!0)},o(d){X(f,d),l=!1},d(d){d&&c(e),f&&f.d(d),t[10](null),s=!1,i()}}}function nl(t,e,r){let n,l,{$$slots:s={},$$scope:i}=e,a;const f={id:Dn()},{registerTab:d,registerTabElement:m,selectTab:y,selectedTab:S,controls:T}=Ln(Kt);he(t,S,p=>r(7,n=p)),he(t,T,p=>r(2,l=p));let I;d(f),Cn(async()=>{await zn(),m(a)});function u(p){Yn[p?"unshift":"push"](()=>{a=p,r(0,a)})}const P=()=>y(f);return t.$$set=p=>{"$$scope"in p&&r(8,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,I=n===f)},[a,I,l,f,y,S,T,n,i,s,u,P]}class gn extends ne{constructor(e){super(),le(this,e,nl,tl,re,{})}}function ll(t){let e,r;const n=t[1].default,l=ft(n,t,t[0],null);return{c(){e=h("ul"),l&&l.c(),this.h()},l(s){e=v(s,"UL",{role:!0,class:!0});var i=$(e);l&&l.l(i),i.forEach(c),this.h()},h(){V(e,"role","tablist"),V(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(s,i){D(s,e,i),l&&l.m(e,null),r=!0},p(s,[i]){l&&l.p&&(!r||i&1)&&ut(l,n,s,s[0],r?pt(n,s[0],i,null):ct(s[0]),null)},i(s){r||(R(l,s),r=!0)},o(s){X(l,s),r=!1},d(s){s&&c(e),l&&l.d(s)}}}function rl(t,e,r){let{$$slots:n={},$$scope:l}=e;return t.$$set=s=>{"$$scope"in s&&r(0,l=s.$$scope)},[l,n]}class sl extends ne{constructor(e){super(),le(this,e,rl,ll,re,{})}}function yn(t){let e;const r=t[6].default,n=ft(r,t,t[5],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&ut(n,r,l,l[5],e?pt(r,l[5],s,null):ct(l[5]),null)},i(l){e||(R(n,l),e=!0)},o(l){X(n,l),e=!1},d(l){n&&n.d(l)}}}function al(t){let e,r,n,l=t[1]===t[2]&&yn(t);return{c(){e=h("div"),l&&l.c(),this.h()},l(s){e=v(s,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var i=$(e);l&&l.l(i),i.forEach(c),this.h()},h(){V(e,"id",t[2].id),V(e,"aria-labelledby",r=t[0][t[2].id]),V(e,"class","svelte-tabs__tab-panel svelte-epfyet"),V(e,"role","tabpanel")},m(s,i){D(s,e,i),l&&l.m(e,null),n=!0},p(s,[i]){s[1]===s[2]?l?(l.p(s,i),i&2&&R(l,1)):(l=yn(s),l.c(),R(l,1),l.m(e,null)):l&&(qn(),X(l,1,1,()=>{l=null}),jn()),(!n||i&1&&r!==(r=s[0][s[2].id]))&&V(e,"aria-labelledby",r)},i(s){n||(R(l),n=!0)},o(s){X(l),n=!1},d(s){s&&c(e),l&&l.d()}}}function ol(t,e,r){let n,l,{$$slots:s={},$$scope:i}=e;const a={id:Dn()},{registerPanel:f,selectedPanel:d,labeledBy:m}=Ln(Kt);return he(t,d,y=>r(1,l=y)),he(t,m,y=>r(0,n=y)),f(a),t.$$set=y=>{"$$scope"in y&&r(5,i=y.$$scope)},[n,l,a,d,m,i,s]}class Pn extends ne{constructor(e){super(),le(this,e,ol,al,re,{})}}function qe(t){const{x:e,y:r}=t;return e<0||e>2||r<0||r>2?new Error(`Invalid coords (${e},${r})`):8-(3*r+e)}function il(t){return t<0||t>8?new Error("Invalid index ${i}"):{x:2-t%3,y:2-Math.floor(t/3)}}const fl=[448,56,7,292,146,73,273,84],ul=[{p:256,o:192},{p:32,o:24},{p:4,o:3},{p:128,o:320},{p:16,o:40},{p:2,o:5},{p:64,o:384},{p:8,o:48},{p:1,o:6},{p:256,o:36},{p:128,o:18},{p:64,o:9},{p:32,o:260},{p:16,o:130},{p:8,o:65},{p:4,o:288},{p:2,o:144},{p:1,o:72},{p:256,o:17},{p:16,o:257},{p:1,o:272},{p:64,o:20},{p:16,o:68},{p:4,o:80}],zt=(t,e)=>(t&e)===e;function En(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function it(t,e){const r=qe(e);if(r instanceof Error)throw r;return!(t&1<<r)}function cl(t,e){return!(t&1<<e)}function wn(t,e){const r=qe(e);if(r instanceof Error)throw r;return t+2**r}const Yt=t=>{for(const e of fl)if(zt(t,e))return!0;return!1};var k=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(k||{});function Vn(){return{player:0,computer:0}}function Rn(t,e){return e===k.player?t.player:t.computer}function Xn(t,e){return e===k.player?t.computer:t.player}function Ye(t,e){if(!e&&!pl(t))return"invalid_board";const r=Yt(t.player),n=Yt(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":_l(t)?"not_over":"over"}function qt(t,e,r){if(!dl(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(r)} `);e===k.player?t.player=wn(t.player,r):t.computer=wn(t.computer,r)}function pl(t){if(t.player&t.computer)return!1;const e=En(t.player),r=En(t.computer);return!(Math.abs(e-r)>1)}function dl(t,e){return it(t.player,e)&&it(t.computer,e)}function _l(t){return(t.player|t.computer)!==511}function ml(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}function Wn(t,e,r){const n=t.width/3,l=t.height/3,{height:s,width:i}=t,{drawSelection:a,selection:f,currentPlayer:d}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,s),t.line(n*2,0,n*2,s),t.line(0,l,i,l),t.line(0,l*2,i,l*2);for(let m=0;m<3;m++)for(let y=0;y<3;y++)(!it(e.player,{x:y,y:m})||a&&d===k.player&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===m)&&(t.stroke("blue"),t.circle(y*n+n/2,m*l+l/2,l/2)),(!it(e.computer,{x:y,y:m})||a&&d===k.computer&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===m)&&(t.stroke("red"),t.line(y*n+n*.3,m*l+l*.3,y*n+n*.7,m*l+l*.7),t.line(y*n+n*.7,m*l+l*.3,y*n+n*.3,m*l+l*.7))}function jt(t){const{mouseX:e,mouseY:r,width:n,height:l}=t,s=Math.floor(t.map(e,0,n,0,3)),i=Math.floor(t.map(r,0,l,0,3));return{x:s,y:i}}function hl(t){const e=ml(t);if(e.length===0)throw new Error("No available moves");const r=Math.floor(Math.random()*e.length),n=e[r],l=il(n);if(l instanceof Error)throw l;return l}function st(t,e){const r=Rn(t,e);return Yt(r)}function at(t,e){const r=Rn(t,e),n=Xn(t,e);for(const{o:l,p:s}of ul)if(zt(r,s)&&zt(n,l))return!0;return!1}function Sn(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}const Fn=new Set([0,2,6,8]),vl=new Set([1,3,5,7]);function ot(t,e,r){const n=qe(r);if(n instanceof Error||!Fn.has(n))return!1;const l=8-n,s=Xn(t,e);return!cl(s,l)}function kn(t){const e=qe(t);return!(e instanceof Error||!Fn.has(e))}function In(t){const e=qe(t);return!(e instanceof Error||!vl.has(e))}function An(t){var Qt,Zt;let e,r,n,l,s,i=Ye(t[0])+"",a,f,d,m,y,S,T,I=((Qt=t[1])==null?void 0:Qt.x)+"",u,P,p=((Zt=t[1])==null?void 0:Zt.y)+"",_,B,L,G,te=Sn(t[1])?"✅":"❌",x,fe,ee,Z,q=kn(t[1])?"✅":"❌",se,ue,N,U,z=In(t[1])?"✅":"❌",Y,ce,M,ae,pe,oe,dt,_t,de,mt,ve=t[0].player.toString(2).padStart(9,"0")+"",je,ht,$e,be=t[0].player+"",Je,vt,ge,$t,ye,Pe=st(t[0],k.player)?"✅":"❌",Ke,bt,Ee,gt,yt,we,Se=at(t[0],k.player)?"✅":"❌",Qe,Pt,ke,Et,wt,Ie,Ae=ot(t[0],k.player,t[1])?"✅":"❌",Ze,St,O,Ne,kt,Te,It,At,_e,Nt,Be=t[0].computer.toString(2).padStart(9,"0")+"",xe,Tt,Me,Ce=t[0].computer+"",et,Bt,Le,Mt,Oe,De=st(t[0],k.computer)?"✅":"❌",tt,Ct,Ve,Lt,Ot,Re,Xe=at(t[0],k.computer)?"✅":"❌",nt,Dt,We,Vt,Rt,Fe,Ge=ot(t[0],k.computer,t[1])?"✅":"❌",lt;return{c(){e=h("div"),r=h("span"),n=b("State:"),l=E(),s=h("span"),a=b(i),f=E(),d=h("span"),m=b("Last move"),y=E(),S=h("ul"),T=h("li"),u=b(I),P=b(","),_=b(p),B=E(),L=h("li"),G=b("center "),x=b(te),fe=E(),ee=h("li"),Z=b("corner "),se=b(q),ue=E(),N=h("li"),U=b("side "),Y=b(z),ce=E(),M=h("div"),ae=h("span"),pe=b("Player 1"),oe=h("span"),dt=b("Player, O"),_t=E(),de=h("span"),mt=b("0b"),je=b(ve),ht=E(),$e=h("span"),Je=b(be),vt=E(),ge=h("span"),$t=b("Wins"),ye=h("span"),Ke=b(Pe),bt=E(),Ee=h("span"),gt=b("Blocks opponent"),yt=E(),we=h("span"),Qe=b(Se),Pt=E(),ke=h("span"),Et=b("Last move took opposite corner"),wt=E(),Ie=h("span"),Ze=b(Ae),St=E(),O=h("div"),Ne=h("span"),kt=b("Player 2"),Te=h("span"),It=b("Computer, X"),At=E(),_e=h("span"),Nt=b("0b"),xe=b(Be),Tt=E(),Me=h("span"),et=b(Ce),Bt=E(),Le=h("span"),Mt=b("Wins"),Oe=h("span"),tt=b(De),Ct=E(),Ve=h("span"),Lt=b("Blocks opponent"),Ot=E(),Re=h("span"),nt=b(Xe),Dt=E(),We=h("span"),Vt=b("Last move took opposite corner"),Rt=E(),Fe=h("span"),lt=b(Ge),this.h()},l(C){e=v(C,"DIV",{class:!0});var A=$(e);r=v(A,"SPAN",{});var He=$(r);n=g(He,"State:"),He.forEach(c),l=w(A),s=v(A,"SPAN",{});var Ue=$(s);a=g(Ue,i),Ue.forEach(c),f=w(A),d=v(A,"SPAN",{});var xt=$(d);m=g(xt,"Last move"),xt.forEach(c),y=w(A),S=v(A,"UL",{});var ie=$(S);T=v(ie,"LI",{});var rt=$(T);u=g(rt,I),P=g(rt,","),_=g(rt,p),rt.forEach(c),B=w(ie),L=v(ie,"LI",{});var Xt=$(L);G=g(Xt,"center "),x=g(Xt,te),Xt.forEach(c),fe=w(ie),ee=v(ie,"LI",{});var Wt=$(ee);Z=g(Wt,"corner "),se=g(Wt,q),Wt.forEach(c),ue=w(ie),N=v(ie,"LI",{});var Ft=$(N);U=g(Ft,"side "),Y=g(Ft,z),Ft.forEach(c),ie.forEach(c),ce=w(A),M=v(A,"DIV",{class:!0});var W=$(M);ae=v(W,"SPAN",{});var en=$(ae);pe=g(en,"Player 1"),en.forEach(c),oe=v(W,"SPAN",{});var tn=$(oe);dt=g(tn,"Player, O"),tn.forEach(c),_t=w(W),de=v(W,"SPAN",{});var Gt=$(de);mt=g(Gt,"0b"),je=g(Gt,ve),Gt.forEach(c),ht=w(W),$e=v(W,"SPAN",{});var nn=$($e);Je=g(nn,be),nn.forEach(c),vt=w(W),ge=v(W,"SPAN",{});var ln=$(ge);$t=g(ln,"Wins"),ln.forEach(c),ye=v(W,"SPAN",{});var rn=$(ye);Ke=g(rn,Pe),rn.forEach(c),bt=w(W),Ee=v(W,"SPAN",{});var sn=$(Ee);gt=g(sn,"Blocks opponent"),sn.forEach(c),yt=w(W),we=v(W,"SPAN",{});var an=$(we);Qe=g(an,Se),an.forEach(c),Pt=w(W),ke=v(W,"SPAN",{});var on=$(ke);Et=g(on,"Last move took opposite corner"),on.forEach(c),wt=w(W),Ie=v(W,"SPAN",{});var fn=$(Ie);Ze=g(fn,Ae),fn.forEach(c),W.forEach(c),St=w(A),O=v(A,"DIV",{class:!0});var F=$(O);Ne=v(F,"SPAN",{});var un=$(Ne);kt=g(un,"Player 2"),un.forEach(c),Te=v(F,"SPAN",{});var cn=$(Te);It=g(cn,"Computer, X"),cn.forEach(c),At=w(F),_e=v(F,"SPAN",{});var Ht=$(_e);Nt=g(Ht,"0b"),xe=g(Ht,Be),Ht.forEach(c),Tt=w(F),Me=v(F,"SPAN",{});var pn=$(Me);et=g(pn,Ce),pn.forEach(c),Bt=w(F),Le=v(F,"SPAN",{});var dn=$(Le);Mt=g(dn,"Wins"),dn.forEach(c),Oe=v(F,"SPAN",{});var _n=$(Oe);tt=g(_n,De),_n.forEach(c),Ct=w(F),Ve=v(F,"SPAN",{});var mn=$(Ve);Lt=g(mn,"Blocks opponent"),mn.forEach(c),Ot=w(F),Re=v(F,"SPAN",{});var hn=$(Re);nt=g(hn,Xe),hn.forEach(c),Dt=w(F),We=v(F,"SPAN",{});var vn=$(We);Vt=g(vn,"Last move took opposite corner"),vn.forEach(c),Rt=w(F),Fe=v(F,"SPAN",{});var $n=$(Fe);lt=g($n,Ge),$n.forEach(c),F.forEach(c),A.forEach(c),this.h()},h(){V(M,"class","grid2cols svelte-1lw5ne4"),V(O,"class","grid2cols svelte-1lw5ne4"),V(e,"class","grid2cols svelte-1lw5ne4")},m(C,A){D(C,e,A),o(e,r),o(r,n),o(e,l),o(e,s),o(s,a),o(e,f),o(e,d),o(d,m),o(e,y),o(e,S),o(S,T),o(T,u),o(T,P),o(T,_),o(S,B),o(S,L),o(L,G),o(L,x),o(S,fe),o(S,ee),o(ee,Z),o(ee,se),o(S,ue),o(S,N),o(N,U),o(N,Y),o(e,ce),o(e,M),o(M,ae),o(ae,pe),o(M,oe),o(oe,dt),o(M,_t),o(M,de),o(de,mt),o(de,je),o(M,ht),o(M,$e),o($e,Je),o(M,vt),o(M,ge),o(ge,$t),o(M,ye),o(ye,Ke),o(M,bt),o(M,Ee),o(Ee,gt),o(M,yt),o(M,we),o(we,Qe),o(M,Pt),o(M,ke),o(ke,Et),o(M,wt),o(M,Ie),o(Ie,Ze),o(e,St),o(e,O),o(O,Ne),o(Ne,kt),o(O,Te),o(Te,It),o(O,At),o(O,_e),o(_e,Nt),o(_e,xe),o(O,Tt),o(O,Me),o(Me,et),o(O,Bt),o(O,Le),o(Le,Mt),o(O,Oe),o(Oe,tt),o(O,Ct),o(O,Ve),o(Ve,Lt),o(O,Ot),o(O,Re),o(Re,nt),o(O,Dt),o(O,We),o(We,Vt),o(O,Rt),o(O,Fe),o(Fe,lt)},p(C,A){var He,Ue;A&1&&i!==(i=Ye(C[0])+"")&&H(a,i),A&2&&I!==(I=((He=C[1])==null?void 0:He.x)+"")&&H(u,I),A&2&&p!==(p=((Ue=C[1])==null?void 0:Ue.y)+"")&&H(_,p),A&2&&te!==(te=Sn(C[1])?"✅":"❌")&&H(x,te),A&2&&q!==(q=kn(C[1])?"✅":"❌")&&H(se,q),A&2&&z!==(z=In(C[1])?"✅":"❌")&&H(Y,z),A&1&&ve!==(ve=C[0].player.toString(2).padStart(9,"0")+"")&&H(je,ve),A&1&&be!==(be=C[0].player+"")&&H(Je,be),A&1&&Pe!==(Pe=st(C[0],k.player)?"✅":"❌")&&H(Ke,Pe),A&1&&Se!==(Se=at(C[0],k.player)?"✅":"❌")&&H(Qe,Se),A&3&&Ae!==(Ae=ot(C[0],k.player,C[1])?"✅":"❌")&&H(Ze,Ae),A&1&&Be!==(Be=C[0].computer.toString(2).padStart(9,"0")+"")&&H(xe,Be),A&1&&Ce!==(Ce=C[0].computer+"")&&H(et,Ce),A&1&&De!==(De=st(C[0],k.computer)?"✅":"❌")&&H(tt,De),A&1&&Xe!==(Xe=at(C[0],k.computer)?"✅":"❌")&&H(nt,Xe),A&3&&Ge!==(Ge=ot(C[0],k.computer,C[1])?"✅":"❌")&&H(lt,Ge)},d(C){C&&c(e)}}}function $l(t){let e,r,n,l,s=t[0]&&An(t);return{c(){e=h("div"),r=h("h4"),n=b("Board info"),l=E(),s&&s.c()},l(i){e=v(i,"DIV",{});var a=$(e);r=v(a,"H4",{});var f=$(r);n=g(f,"Board info"),f.forEach(c),l=w(a),s&&s.l(a),a.forEach(c)},m(i,a){D(i,e,a),o(e,r),o(r,n),o(e,l),s&&s.m(e,null)},p(i,[a]){i[0]?s?s.p(i,a):(s=An(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Ut,o:Ut,d(i){i&&c(e),s&&s.d()}}}function bl(t,e,r){let{board:n}=e,{lastMove:l}=e;return t.$$set=s=>{"board"in s&&r(0,n=s.board),"lastMove"in s&&r(1,l=s.lastMove)},[n,l]}class Gn extends ne{constructor(e){super(),le(this,e,bl,$l,re,{board:0,lastMove:1})}}function Nn(t){let e,r;return{c(){e=h("span"),r=b("Player wins!")},l(n){e=v(n,"SPAN",{});var l=$(e);r=g(l,"Player wins!"),l.forEach(c)},m(n,l){D(n,e,l),o(e,r)},d(n){n&&c(e)}}}function Tn(t){let e,r;return{c(){e=h("span"),r=b("Computer wins!")},l(n){e=v(n,"SPAN",{});var l=$(e);r=g(l,"Computer wins!"),l.forEach(c)},m(n,l){D(n,e,l),o(e,r)},d(n){n&&c(e)}}}function Bn(t){let e,r;return{c(){e=h("span"),r=b("Draw")},l(n){e=v(n,"SPAN",{});var l=$(e);r=g(l,"Draw"),l.forEach(c)},m(n,l){D(n,e,l),o(e,r)},d(n){n&&c(e)}}}function Mn(t){let e,r,n,l;return{c(){e=h("span"),r=b("Restarting in "),n=b(t[2]),l=b(" seconds")},l(s){e=v(s,"SPAN",{});var i=$(e);r=g(i,"Restarting in "),n=g(i,t[2]),l=g(i," seconds"),i.forEach(c)},m(s,i){D(s,e,i),o(e,r),o(e,n),o(e,l)},p(s,i){i&4&&H(n,s[2])},d(s){s&&c(e)}}}function gl(t){let e,r,n,l,s,i,a,f,d,m,y,S,T;s=new On({props:{sketch:t[5]}});let I=t[3]==="player_win"&&Nn(),u=t[3]==="computer_win"&&Tn(),P=t[3]==="draw"&&Bn(),p=t[2]>0&&Mn(t);return S=new Gn({props:{board:t[0],lastMove:t[1]}}),{c(){e=h("h2"),r=b("Game"),n=E(),l=h("div"),j(s.$$.fragment),i=E(),a=h("div"),I&&I.c(),f=E(),u&&u.c(),d=E(),P&&P.c(),m=E(),p&&p.c(),y=E(),j(S.$$.fragment)},l(_){e=v(_,"H2",{});var B=$(e);r=g(B,"Game"),B.forEach(c),n=w(_),l=v(_,"DIV",{});var L=$(l);J(s.$$.fragment,L),i=w(L),a=v(L,"DIV",{});var G=$(a);I&&I.l(G),f=w(G),u&&u.l(G),d=w(G),P&&P.l(G),m=w(G),p&&p.l(G),G.forEach(c),y=w(L),J(S.$$.fragment,L),L.forEach(c)},m(_,B){D(_,e,B),o(e,r),D(_,n,B),D(_,l,B),K(s,l,null),o(l,i),o(l,a),I&&I.m(a,null),o(a,f),u&&u.m(a,null),o(a,d),P&&P.m(a,null),o(a,m),p&&p.m(a,null),o(l,y),K(S,l,null),T=!0},p(_,[B]){_[3]==="player_win"?I||(I=Nn(),I.c(),I.m(a,f)):I&&(I.d(1),I=null),_[3]==="computer_win"?u||(u=Tn(),u.c(),u.m(a,d)):u&&(u.d(1),u=null),_[3]==="draw"?P||(P=Bn(),P.c(),P.m(a,m)):P&&(P.d(1),P=null),_[2]>0?p?p.p(_,B):(p=Mn(_),p.c(),p.m(a,null)):p&&(p.d(1),p=null);const L={};B&1&&(L.board=_[0]),B&2&&(L.lastMove=_[1]),S.$set(L)},i(_){T||(R(s.$$.fragment,_),R(S.$$.fragment,_),T=!0)},o(_){X(s.$$.fragment,_),X(S.$$.fragment,_),T=!1},d(_){_&&c(e),_&&c(n),_&&c(l),Q(s),I&&I.d(),u&&u.d(),P&&P.d(),p&&p.d(),Q(S)}}}function yl(t,e,r){let n,l,s,i,a;const f=ze();he(t,f,u=>r(3,n=u));let d=0;function m(u,P){n==="not_over"&&(qt(s,u,P),r(1,a=P),r(0,s),f.set(Ye(s)),S())}function y(u){n==="not_over"&&setTimeout(()=>{const P=hl(s);r(1,a=P),qt(s,u,P),r(0,s),f.set(Ye(s)),S()},500)}function S(){i=i===k.player?k.computer:k.player}function T(){r(0,s=Vn()),i=k.player,f.set(Ye(s)),r(1,a={x:-1,y:-1})}const I=u=>{u.setup=()=>{l=u,u.createCanvas(400,400),T()},u.draw=()=>{u.background(0),Wn(u,s)},u.mousePressed=()=>{if(!(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)&&i===k.player){const P=jt(u);m(k.player,P),y(k.computer)}}};return f.subscribe(u=>{if(!u||u==="not_over")return;r(2,d=4);const P=setInterval(()=>{r(2,d--,d),d===0&&(T(),clearInterval(P))},1e3)}),Jt(()=>{l==null||l.remove()}),[s,a,d,n,f,I]}class Pl extends ne{constructor(e){super(),le(this,e,yl,gl,re,{})}}function El(t){let e,r,n,l,s,i,a,f,d,m,y,S,T,I,u,P,p,_,B,L,G,te,x,fe,ee,Z,q,se,ue;return s=new On({props:{sketch:t[6]}}),Z=new Gn({props:{board:t[1],lastMove:t[3]}}),{c(){e=h("h2"),r=b("Analyzer"),n=E(),l=h("div"),j(s.$$.fragment),i=E(),a=h("div"),f=h("h4"),d=b("Controls"),m=E(),y=h("button"),S=b("Play O"),I=E(),u=h("button"),P=b("Play X"),_=E(),B=h("button"),L=b("Previous"),te=E(),x=h("button"),fe=b("Reset"),ee=E(),j(Z.$$.fragment),this.h()},l(N){e=v(N,"H2",{});var U=$(e);r=g(U,"Analyzer"),U.forEach(c),n=w(N),l=v(N,"DIV",{});var z=$(l);J(s.$$.fragment,z),i=w(z),a=v(z,"DIV",{});var Y=$(a);f=v(Y,"H4",{});var ce=$(f);d=g(ce,"Controls"),ce.forEach(c),m=w(Y),y=v(Y,"BUTTON",{});var M=$(y);S=g(M,"Play O"),M.forEach(c),I=w(Y),u=v(Y,"BUTTON",{});var ae=$(u);P=g(ae,"Play X"),ae.forEach(c),_=w(Y),B=v(Y,"BUTTON",{});var pe=$(B);L=g(pe,"Previous"),pe.forEach(c),te=w(Y),x=v(Y,"BUTTON",{});var oe=$(x);fe=g(oe,"Reset"),oe.forEach(c),Y.forEach(c),ee=w(z),J(Z.$$.fragment,z),z.forEach(c),this.h()},h(){y.disabled=T=t[2]===k.player,u.disabled=p=t[2]===k.computer,B.disabled=G=(t[0]||[]).length<2},m(N,U){D(N,e,U),o(e,r),D(N,n,U),D(N,l,U),K(s,l,null),o(l,i),o(l,a),o(a,f),o(f,d),o(a,m),o(a,y),o(y,S),o(a,I),o(a,u),o(u,P),o(a,_),o(a,B),o(B,L),o(a,te),o(a,x),o(x,fe),o(l,ee),K(Z,l,null),q=!0,se||(ue=[me(y,"click",t[7]),me(u,"click",t[8]),me(B,"click",t[5]),me(x,"click",t[4])],se=!0)},p(N,[U]){(!q||U&4&&T!==(T=N[2]===k.player))&&(y.disabled=T),(!q||U&4&&p!==(p=N[2]===k.computer))&&(u.disabled=p),(!q||U&1&&G!==(G=(N[0]||[]).length<2))&&(B.disabled=G);const z={};U&2&&(z.board=N[1]),U&8&&(z.lastMove=N[3]),Z.$set(z)},i(N){q||(R(s.$$.fragment,N),R(Z.$$.fragment,N),q=!0)},o(N){X(s.$$.fragment,N),X(Z.$$.fragment,N),q=!1},d(N){N&&c(e),N&&c(n),N&&c(l),Q(s),Q(Z),se=!1,Jn(ue)}}}function wl(t,e,r){let n,l,s,i=k.player,a;function f(u,P){qt(s,u,P),r(3,a=P),r(1,s),l.push({...s}),r(0,l),d()}function d(){r(2,i=i===k.player?k.computer:k.player)}function m(){r(1,s=Vn()),r(0,l=[{...s}]),r(3,a={x:-1,y:-1})}function y(){l.length<=1||(l.pop(),r(0,l),r(1,s={...l[l.length-1]}))}const S=u=>{u.setup=()=>{n=u,u.createCanvas(400,400),m()},u.draw=()=>{u.background(0),Wn(u,s,{drawSelection:!0,selection:jt(u),currentPlayer:i})},u.mousePressed=()=>{if(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)return;const P=jt(u);f(i,P)}};return Jt(()=>{n==null||n.remove()}),[l,s,i,a,m,y,S,()=>r(2,i=k.player),()=>r(2,i=k.computer)]}class Sl extends ne{constructor(e){super(),le(this,e,wl,El,re,{})}}function kl(t){let e;return{c(){e=b("Game")},l(r){e=g(r,"Game")},m(r,n){D(r,e,n)},d(r){r&&c(e)}}}function Il(t){let e;return{c(){e=b("Analyzer")},l(r){e=g(r,"Analyzer")},m(r,n){D(r,e,n)},d(r){r&&c(e)}}}function Al(t){let e,r,n,l;return e=new gn({props:{$$slots:{default:[kl]},$$scope:{ctx:t}}}),n=new gn({props:{$$slots:{default:[Il]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=E(),j(n.$$.fragment)},l(s){J(e.$$.fragment,s),r=w(s),J(n.$$.fragment,s)},m(s,i){K(e,s,i),D(s,r,i),K(n,s,i),l=!0},p(s,i){const a={};i&1&&(a.$$scope={dirty:i,ctx:s}),e.$set(a);const f={};i&1&&(f.$$scope={dirty:i,ctx:s}),n.$set(f)},i(s){l||(R(e.$$.fragment,s),R(n.$$.fragment,s),l=!0)},o(s){X(e.$$.fragment,s),X(n.$$.fragment,s),l=!1},d(s){Q(e,s),s&&c(r),Q(n,s)}}}function Nl(t){let e,r;return e=new Pl({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function Tl(t){let e,r;return e=new Sl({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function Bl(t){let e,r,n,l,s,i;return e=new sl({props:{$$slots:{default:[Al]},$$scope:{ctx:t}}}),n=new Pn({props:{$$slots:{default:[Nl]},$$scope:{ctx:t}}}),s=new Pn({props:{$$slots:{default:[Tl]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=E(),j(n.$$.fragment),l=E(),j(s.$$.fragment)},l(a){J(e.$$.fragment,a),r=w(a),J(n.$$.fragment,a),l=w(a),J(s.$$.fragment,a)},m(a,f){K(e,a,f),D(a,r,f),K(n,a,f),D(a,l,f),K(s,a,f),i=!0},p(a,f){const d={};f&1&&(d.$$scope={dirty:f,ctx:a}),e.$set(d);const m={};f&1&&(m.$$scope={dirty:f,ctx:a}),n.$set(m);const y={};f&1&&(y.$$scope={dirty:f,ctx:a}),s.$set(y)},i(a){i||(R(e.$$.fragment,a),R(n.$$.fragment,a),R(s.$$.fragment,a),i=!0)},o(a){X(e.$$.fragment,a),X(n.$$.fragment,a),X(s.$$.fragment,a),i=!1},d(a){Q(e,a),a&&c(r),Q(n,a),a&&c(l),Q(s,a)}}}function Ml(t){let e,r;return e=new el({props:{$$slots:{default:[Bl]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class Cl extends ne{constructor(e){super(),le(this,e,null,Ml,re,{})}}function Ll(t){let e,r;return e=new Cl({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},p:Ut,i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class Rl extends ne{constructor(e){super(),le(this,e,null,Ll,re,{})}}export{Rl as default};
