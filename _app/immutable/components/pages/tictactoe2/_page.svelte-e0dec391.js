import{S as oe,i as ae,s as ie,C as De,k as v,l as h,m as b,h as u,n as V,b as P,N as Ee,E as Ge,F as Ve,G as Le,f as M,t as H,H as Ne,a0 as Ot,o as St,j as Dt,W as Ze,I as dt,a1 as It,A as Gt,$ as Vt,g as xe,d as et,q as y,a as I,r as g,c as A,D as c,B as ye,u as U,w as Y,x as q,y as J,z as j,P as Lt}from"../../../chunks/index-1d785069.js";import{w as Ce}from"../../../chunks/index-c5a64178.js";import{P as At}from"../../../chunks/P5-76a6b36f.js";let Wt=1;function Nt(){return`svelte-tabs-${Wt++}`}function Xt(t){let e,r,n,s;const l=t[4].default,a=De(l,t,t[3],null);return{c(){e=v("div"),a&&a.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=b(e);a&&a.l(i),i.forEach(u),this.h()},h(){V(e,"class","svelte-tabs")},m(o,i){P(o,e,i),a&&a.m(e,null),r=!0,n||(s=Ee(e,"keydown",t[1]),n=!0)},p(o,[i]){a&&a.p&&(!r||i&8)&&Ge(a,l,o,o[3],r?Le(l,o[3],i,null):Ve(o[3]),null)},i(o){r||(M(a,o),r=!0)},o(o){H(a,o),r=!1},d(o){o&&u(e),a&&a.d(o),n=!1,s()}}}const tt={};function Ft(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(s=>s===e?t[n]||t[t.length-1]:s)}function zt(t,e,r){let n,{$$slots:s={},$$scope:l}=e,{initialSelectedIndex:a=0}=e;const o=[],i=[],f=[],p=Ce({}),_=Ce({}),N=Ce(null);Ne(t,N,m=>r(5,n=m));const C=Ce(null);function E(m,w,D){m.push(w),D.update(z=>z||w),Ze(()=>Ft(m,w,D))}function $(m){const w=i.indexOf(m);N.set(m),C.set(f[w])}Ot(tt,{registerTab(m){E(i,m,N)},registerTabElement(m){o.push(m)},registerPanel(m){E(f,m,C)},selectTab:$,selectedTab:N,selectedPanel:C,controls:p,labeledBy:_}),St(()=>{$(i[a])}),Dt(()=>{for(let m=0;m<i.length;m++)p.update(w=>({...w,[i[m].id]:f[m].id})),_.update(w=>({...w,[f[m].id]:i[m].id}))});async function B(m){if(m.target.classList.contains("svelte-tabs__tab")){let w=i.indexOf(n);switch(m.key){case"ArrowRight":w+=1,w>i.length-1&&(w=0),$(i[w]),o[w].focus();break;case"ArrowLeft":w-=1,w<0&&(w=i.length-1),$(i[w]),o[w].focus()}}}return t.$$set=m=>{"initialSelectedIndex"in m&&r(2,a=m.initialSelectedIndex),"$$scope"in m&&r(3,l=m.$$scope)},[N,B,a,l,s]}class Rt extends oe{constructor(e){super(),ae(this,e,zt,Xt,ie,{initialSelectedIndex:2})}}function Ut(t){let e,r,n,s,l,a;const o=t[9].default,i=De(o,t,t[8],null);return{c(){e=v("li"),i&&i.c(),this.h()},l(f){e=h(f,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var p=b(e);i&&i.l(p),p.forEach(u),this.h()},h(){V(e,"role","tab"),V(e,"id",t[3].id),V(e,"aria-controls",r=t[2][t[3].id]),V(e,"aria-selected",t[1]),V(e,"tabindex",n=t[1]?0:-1),V(e,"class","svelte-tabs__tab svelte-1fbofsd"),dt(e,"svelte-tabs__selected",t[1])},m(f,p){P(f,e,p),i&&i.m(e,null),t[10](e),s=!0,l||(a=Ee(e,"click",t[11]),l=!0)},p(f,[p]){i&&i.p&&(!s||p&256)&&Ge(i,o,f,f[8],s?Le(o,f[8],p,null):Ve(f[8]),null),(!s||p&4&&r!==(r=f[2][f[3].id]))&&V(e,"aria-controls",r),(!s||p&2)&&V(e,"aria-selected",f[1]),(!s||p&2&&n!==(n=f[1]?0:-1))&&V(e,"tabindex",n),(!s||p&2)&&dt(e,"svelte-tabs__selected",f[1])},i(f){s||(M(i,f),s=!0)},o(f){H(i,f),s=!1},d(f){f&&u(e),i&&i.d(f),t[10](null),l=!1,a()}}}function Yt(t,e,r){let n,s,{$$slots:l={},$$scope:a}=e,o;const i={id:Nt()},{registerTab:f,registerTabElement:p,selectTab:_,selectedTab:N,controls:C}=It(tt);Ne(t,N,m=>r(7,n=m)),Ne(t,C,m=>r(2,s=m));let E;f(i),St(async()=>{await Gt(),p(o)});function $(m){Vt[m?"unshift":"push"](()=>{o=m,r(0,o)})}const B=()=>_(i);return t.$$set=m=>{"$$scope"in m&&r(8,a=m.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,E=n===i)},[o,E,s,i,_,N,C,n,a,l,$,B]}class _t extends oe{constructor(e){super(),ae(this,e,Yt,Ut,ie,{})}}function qt(t){let e,r;const n=t[1].default,s=De(n,t,t[0],null);return{c(){e=v("ul"),s&&s.c(),this.h()},l(l){e=h(l,"UL",{role:!0,class:!0});var a=b(e);s&&s.l(a),a.forEach(u),this.h()},h(){V(e,"role","tablist"),V(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(l,a){P(l,e,a),s&&s.m(e,null),r=!0},p(l,[a]){s&&s.p&&(!r||a&1)&&Ge(s,n,l,l[0],r?Le(n,l[0],a,null):Ve(l[0]),null)},i(l){r||(M(s,l),r=!0)},o(l){H(s,l),r=!1},d(l){l&&u(e),s&&s.d(l)}}}function Jt(t,e,r){let{$$slots:n={},$$scope:s}=e;return t.$$set=l=>{"$$scope"in l&&r(0,s=l.$$scope)},[s,n]}class jt extends oe{constructor(e){super(),ae(this,e,Jt,qt,ie,{})}}function mt(t){let e;const r=t[6].default,n=De(r,t,t[5],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&32)&&Ge(n,r,s,s[5],e?Le(r,s[5],l,null):Ve(s[5]),null)},i(s){e||(M(n,s),e=!0)},o(s){H(n,s),e=!1},d(s){n&&n.d(s)}}}function Kt(t){let e,r,n,s=t[1]===t[2]&&mt(t);return{c(){e=v("div"),s&&s.c(),this.h()},l(l){e=h(l,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var a=b(e);s&&s.l(a),a.forEach(u),this.h()},h(){V(e,"id",t[2].id),V(e,"aria-labelledby",r=t[0][t[2].id]),V(e,"class","svelte-tabs__tab-panel svelte-epfyet"),V(e,"role","tabpanel")},m(l,a){P(l,e,a),s&&s.m(e,null),n=!0},p(l,[a]){l[1]===l[2]?s?(s.p(l,a),a&2&&M(s,1)):(s=mt(l),s.c(),M(s,1),s.m(e,null)):s&&(xe(),H(s,1,1,()=>{s=null}),et()),(!n||a&1&&r!==(r=l[0][l[2].id]))&&V(e,"aria-labelledby",r)},i(l){n||(M(s),n=!0)},o(l){H(s),n=!1},d(l){l&&u(e),s&&s.d()}}}function Qt(t,e,r){let n,s,{$$slots:l={},$$scope:a}=e;const o={id:Nt()},{registerPanel:i,selectedPanel:f,labeledBy:p}=It(tt);return Ne(t,f,_=>r(1,s=_)),Ne(t,p,_=>r(0,n=_)),i(o),t.$$set=_=>{"$$scope"in _&&r(5,a=_.$$scope)},[n,s,o,f,p,a,l]}class $t extends oe{constructor(e){super(),ae(this,e,Qt,Kt,ie,{})}}function ge(t){const{x:e,y:r}=t;if(e<0||e>2||r<0||r>2)throw new Error(`Invalid coords (${e},${r})`);return 8-(3*r+e)}function Zt(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const xt=[448,56,7,292,146,73,273,84],en=[{p:16,o:40},{p:16,o:130}],tn=[{p:1,o:6},{p:1,o:72}],nn=[{p:2,o:5},{p:2,o:144}],ke=(t,e)=>(t&e)===e;function vt(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function ht(t,e){const r=ge(e);return Te(t,r)}function Te(t,e){return!(t&1<<e)}function Re(t,e){return t+2**e}const Ue=t=>{for(const e of xt)if(ke(t,e))return!0;return!1};var T=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(T||{});function Tt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Be(t,e){return e===T.player?t.player:t.computer}function He(t,e){return e===T.player?t.computer:t.player}function Oe(t,e){if(!e&&!rn(t))return"invalid_board";const r=Ue(t.player),n=Ue(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":ln(t)?"not_over":"over"}function We(t,e,r){if(!sn(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${r} `);e===T.player?t.player=Re(t.player,r):t.computer=Re(t.computer,r)}function rn(t){if(t.player&t.computer)return!1;const e=vt(t.player),r=vt(t.computer);return!(Math.abs(e-r)>1)}function sn(t,e){return Te(t.player,e)&&Te(t.computer,e)}function ln(t){return(t.player|t.computer)!==511}function on(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}const an=[2,5,8,1,4,7,0,3,6];function bt(t){let e=0;return an.forEach((r,n)=>{Te(t,n)||(e=Re(e,r))}),e}function yt(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const r={...t};for(let n=0;n<e;n++)r.player=bt(r.player),r.computer=bt(r.computer);return r}function Ae(t,e){const r=Be(t,e);return Ue(r)}function Ye(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function qe(t,e,r){const n=ge(r),s=Be(t,e),l=He(t,e);for(const{o:a,p:o}of en)if(ke(s,o)&&ke(l,a))return!0;if(nt.has(n)){const a={0:0,2:3,6:1,8:2}[n]||0,o=yt(t,a),i=Be(o,e),f=He(o,e);for(const{o:p,p:_}of tn)if(ke(i,_)&&ke(f,p))return!0}if(Ct.has(n)){const a={1:0,3:1,5:3,7:2}[n]||0,o=yt(t,a),i=Be(o,e),f=He(o,e);for(const{o:p,p:_}of nn)if(ke(i,_)&&ke(f,p))return!0}return!1}const nt=new Set([0,2,6,8]),Ct=new Set([1,3,5,7]);function Je(t,e,r){const n=ge(r);if(!nt.has(n))return!1;const s=8-n,l=He(t,e);return!Te(l,s)}function je(t){const e=ge(t);return nt.has(e)}function Ke(t){const e=ge(t);return Ct.has(e)}function fn(t,e){const r=on(t);if(r.length===0)throw new Error("No available moves");let n=0,s;for(const l of r){const a={...t},o=Zt(l);We(a,e,l);const i=un(a,e,o);i>n&&(n=i,s=o)}if(!s)throw new Error("Error in getMoveHardcoded");return s}function un(t,e,r){return Ae(t,T.player)?8:qe(t,e,r)?7:Ye(r)?4:Je(t,e,r)?3:je(r)?2:Ke(r)?1:0}const cn=()=>({board:Tt(),currentPlayer:T.player,state:"not_over",moveHistory:[]});function Mt(t){t.currentPlayer=t.currentPlayer===T.player?T.computer:T.player}const pn=(t,e,r)=>{t.state==="not_over"&&(We(t.board,e,ge(r)),t.state=Oe(t.board),t.moveHistory.push({board:{...t.board},moveCoord:r,player:e}),Mt(t))},dn=(t,e)=>{if(t.state!=="not_over")return;const r=fn(t.board,e);We(t.board,e,ge(r)),t.state=Oe(t.board),t.moveHistory.push({board:{...t.board},moveCoord:r,player:e}),Mt(t)},Me=(t,e)=>{if(t.moveHistory.length>0){const r=t.moveHistory[t.moveHistory.length-1];if(r.player===e)return r}if(t.moveHistory.length>1){const r=t.moveHistory[t.moveHistory.length-2];if(r.player===e)return r}return null};function Bt(t,e,r){const n=t.width/3,s=t.height/3,{height:l,width:a}=t,{drawSelection:o,selection:i,currentPlayer:f}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,l),t.line(n*2,0,n*2,l),t.line(0,s,a,s),t.line(0,s*2,a,s*2);for(let p=0;p<3;p++)for(let _=0;_<3;_++)(!ht(e.player,{x:_,y:p})||o&&f===T.player&&(i==null?void 0:i.x)===_&&(i==null?void 0:i.y)===p)&&(t.stroke("blue"),t.circle(_*n+n/2,p*s+s/2,s/2)),(!ht(e.computer,{x:_,y:p})||o&&f===T.computer&&(i==null?void 0:i.x)===_&&(i==null?void 0:i.y)===p)&&(t.stroke("red"),t.line(_*n+n*.3,p*s+s*.3,_*n+n*.7,p*s+s*.7),t.line(_*n+n*.7,p*s+s*.3,_*n+n*.3,p*s+s*.7))}function Qe(t){const{mouseX:e,mouseY:r,width:n,height:s}=t,l=Math.floor(t.map(e,0,n,0,3)),a=Math.floor(t.map(r,0,s,0,3));return{x:l,y:a}}function gt(t){let e,r,n,s,l,a=Oe(t[0])+"",o,i,f,p,_,N,C,E,$,B,m=t[0].player.toString(2).padStart(9,"0")+"",w,D,z,Z=t[0].player+"",ee,R,te,x,X,F=Ae(t[0],T.player)?"✅":"❌",ne,re,k,O,L,G,fe,ue,K,pe,se=t[0].computer.toString(2).padStart(9,"0")+"",ce,me,de,d=t[0].computer+"",S,$e,ve,we,he,be=Ae(t[0],T.computer)?"✅":"❌",Pe;return{c(){e=v("div"),r=v("span"),n=y("State:"),s=I(),l=v("span"),o=y(a),i=I(),f=v("div"),p=v("span"),_=y("Player 1"),N=v("span"),C=y("Player, O"),E=I(),$=v("span"),B=y("0b"),w=y(m),D=I(),z=v("span"),ee=y(Z),R=I(),te=v("span"),x=y("Wins"),X=v("span"),ne=y(F),re=I(),k=v("div"),O=v("span"),L=y("Player 2"),G=v("span"),fe=y("Computer, X"),ue=I(),K=v("span"),pe=y("0b"),ce=y(se),me=I(),de=v("span"),S=y(d),$e=I(),ve=v("span"),we=y("Wins"),he=v("span"),Pe=y(be),this.h()},l(Q){e=h(Q,"DIV",{class:!0});var W=b(e);r=h(W,"SPAN",{});var Se=b(r);n=g(Se,"State:"),Se.forEach(u),s=A(W),l=h(W,"SPAN",{});var Ie=b(l);o=g(Ie,a),Ie.forEach(u),i=A(W),f=h(W,"DIV",{class:!0});var le=b(f);p=h(le,"SPAN",{});var rt=b(p);_=g(rt,"Player 1"),rt.forEach(u),N=h(le,"SPAN",{});var st=b(N);C=g(st,"Player, O"),st.forEach(u),E=A(le),$=h(le,"SPAN",{});var Xe=b($);B=g(Xe,"0b"),w=g(Xe,m),Xe.forEach(u),D=A(le),z=h(le,"SPAN",{});var lt=b(z);ee=g(lt,Z),lt.forEach(u),R=A(le),te=h(le,"SPAN",{});var ot=b(te);x=g(ot,"Wins"),ot.forEach(u),X=h(le,"SPAN",{});var at=b(X);ne=g(at,F),at.forEach(u),le.forEach(u),re=A(W),k=h(W,"DIV",{class:!0});var _e=b(k);O=h(_e,"SPAN",{});var it=b(O);L=g(it,"Player 2"),it.forEach(u),G=h(_e,"SPAN",{});var ft=b(G);fe=g(ft,"Computer, X"),ft.forEach(u),ue=A(_e),K=h(_e,"SPAN",{});var Fe=b(K);pe=g(Fe,"0b"),ce=g(Fe,se),Fe.forEach(u),me=A(_e),de=h(_e,"SPAN",{});var ut=b(de);S=g(ut,d),ut.forEach(u),$e=A(_e),ve=h(_e,"SPAN",{});var ct=b(ve);we=g(ct,"Wins"),ct.forEach(u),he=h(_e,"SPAN",{});var pt=b(he);Pe=g(pt,be),pt.forEach(u),_e.forEach(u),W.forEach(u),this.h()},h(){V(f,"class","grid2cols svelte-1lw5ne4"),V(k,"class","grid2cols svelte-1lw5ne4"),V(e,"class","grid2cols svelte-1lw5ne4")},m(Q,W){P(Q,e,W),c(e,r),c(r,n),c(e,s),c(e,l),c(l,o),c(e,i),c(e,f),c(f,p),c(p,_),c(f,N),c(N,C),c(f,E),c(f,$),c($,B),c($,w),c(f,D),c(f,z),c(z,ee),c(f,R),c(f,te),c(te,x),c(f,X),c(X,ne),c(e,re),c(e,k),c(k,O),c(O,L),c(k,G),c(G,fe),c(k,ue),c(k,K),c(K,pe),c(K,ce),c(k,me),c(k,de),c(de,S),c(k,$e),c(k,ve),c(ve,we),c(k,he),c(he,Pe)},p(Q,W){W&1&&a!==(a=Oe(Q[0])+"")&&U(o,a),W&1&&m!==(m=Q[0].player.toString(2).padStart(9,"0")+"")&&U(w,m),W&1&&Z!==(Z=Q[0].player+"")&&U(ee,Z),W&1&&F!==(F=Ae(Q[0],T.player)?"✅":"❌")&&U(ne,F),W&1&&se!==(se=Q[0].computer.toString(2).padStart(9,"0")+"")&&U(ce,se),W&1&&d!==(d=Q[0].computer+"")&&U(S,d),W&1&&be!==(be=Ae(Q[0],T.computer)?"✅":"❌")&&U(Pe,be)},d(Q){Q&&u(e)}}}function _n(t){let e,r,n,s,l=t[0]&&gt(t);return{c(){e=v("div"),r=v("h4"),n=y("Board info"),s=I(),l&&l.c()},l(a){e=h(a,"DIV",{});var o=b(e);r=h(o,"H4",{});var i=b(r);n=g(i,"Board info"),i.forEach(u),s=A(o),l&&l.l(o),o.forEach(u)},m(a,o){P(a,e,o),c(e,r),c(r,n),c(e,s),l&&l.m(e,null)},p(a,[o]){a[0]?l?l.p(a,o):(l=gt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:ye,o:ye,d(a){a&&u(e),l&&l.d()}}}function mn(t,e,r){let{board:n}=e;return t.$$set=s=>{"board"in s&&r(0,n=s.board)},[n]}class Ht extends oe{constructor(e){super(),ae(this,e,mn,_n,ie,{board:0})}}function $n(t){let e,r,n=JSON.stringify(t[0])+"",s;return{c(){e=v("p"),r=y("Board is undefined "),s=y(n)},l(l){e=h(l,"P",{});var a=b(e);r=g(a,"Board is undefined "),s=g(a,n),a.forEach(u)},m(l,a){P(l,e,a),c(e,r),c(e,s)},p(l,a){a&1&&n!==(n=JSON.stringify(l[0])+"")&&U(s,n)},i:ye,o:ye,d(l){l&&u(e)}}}function vn(t){let e,r;return e=new At({props:{sketch:t[1]}}),{c(){Y(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){J(e,n,s),r=!0},p:ye,i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function hn(t){let e,r,n,s;const l=[vn,$n],a=[];function o(i,f){return i[0]?0:1}return r=o(t),n=a[r]=l[r](t),{c(){e=v("div"),n.c()},l(i){e=h(i,"DIV",{});var f=b(e);n.l(f),f.forEach(u)},m(i,f){P(i,e,f),a[r].m(e,null),s=!0},p(i,[f]){let p=r;r=o(i),r===p?a[r].p(i,f):(xe(),H(a[p],1,1,()=>{a[p]=null}),et(),n=a[r],n?n.p(i,f):(n=a[r]=l[r](i),n.c()),M(n,1),n.m(e,null))},i(i){s||(M(n),s=!0)},o(i){H(n),s=!1},d(i){i&&u(e),a[r].d()}}}function bn(t,e,r){let{board:n}=e,{onClick:s}=e,l;const a=o=>{o.setup=()=>{l=o,o.createCanvas(400,400)},o.draw=()=>{o.background(0),Bt(o,n)},o.mousePressed=()=>{o.mouseX<0||o.mouseX>o.width||o.mouseY<0||o.mouseY>o.height||s(Qe(o))}};return Ze(()=>{l==null||l.remove()}),t.$$set=o=>{"board"in o&&r(0,n=o.board),"onClick"in o&&r(2,s=o.onClick)},[n,a,s]}class yn extends oe{constructor(e){super(),ae(this,e,bn,hn,ie,{board:0,onClick:2})}}function ze(t){const e=t.slice(),r=e[0];return e[1]=r.moveCoord,e[2]=r.player,e[3]=r.board,e}function Pt(t){let e,r,n,s,l=t[1].x+"",a,o,i=t[1].y+"",f,p,_,N,C,E=Ye(t[1])?"✅":"❌",$,B,m,w,D,z=je(t[1])?"✅":"❌",Z,ee,R,te,x,X=Ke(t[1])?"✅":"❌",F,ne,re,k,O,L,G=Je(t[3],t[2],t[1])?"✅":"❌",fe,ue,K,pe,se,ce,me=qe(t[3],t[2],t[1])?"✅":"❌",de;return{c(){e=v("span"),r=y("Last move:"),n=I(),s=v("span"),a=y(l),o=y(", "),f=y(i),p=I(),_=v("span"),N=y("center"),C=v("span"),$=y(E),B=I(),m=v("span"),w=y("corner"),D=v("span"),Z=y(z),ee=I(),R=v("span"),te=y("side"),x=v("span"),F=y(X),ne=I(),re=v("span"),k=y("Took opposite corner"),O=I(),L=v("span"),fe=y(G),ue=I(),K=v("span"),pe=y("Last move blocks opponent"),se=I(),ce=v("span"),de=y(me)},l(d){e=h(d,"SPAN",{});var S=b(e);r=g(S,"Last move:"),S.forEach(u),n=A(d),s=h(d,"SPAN",{});var $e=b(s);a=g($e,l),o=g($e,", "),f=g($e,i),$e.forEach(u),p=A(d),_=h(d,"SPAN",{});var ve=b(_);N=g(ve,"center"),ve.forEach(u),C=h(d,"SPAN",{});var we=b(C);$=g(we,E),we.forEach(u),B=A(d),m=h(d,"SPAN",{});var he=b(m);w=g(he,"corner"),he.forEach(u),D=h(d,"SPAN",{});var be=b(D);Z=g(be,z),be.forEach(u),ee=A(d),R=h(d,"SPAN",{});var Pe=b(R);te=g(Pe,"side"),Pe.forEach(u),x=h(d,"SPAN",{});var Q=b(x);F=g(Q,X),Q.forEach(u),ne=A(d),re=h(d,"SPAN",{});var W=b(re);k=g(W,"Took opposite corner"),W.forEach(u),O=A(d),L=h(d,"SPAN",{});var Se=b(L);fe=g(Se,G),Se.forEach(u),ue=A(d),K=h(d,"SPAN",{});var Ie=b(K);pe=g(Ie,"Last move blocks opponent"),Ie.forEach(u),se=A(d),ce=h(d,"SPAN",{});var le=b(ce);de=g(le,me),le.forEach(u)},m(d,S){P(d,e,S),c(e,r),P(d,n,S),P(d,s,S),c(s,a),c(s,o),c(s,f),P(d,p,S),P(d,_,S),c(_,N),P(d,C,S),c(C,$),P(d,B,S),P(d,m,S),c(m,w),P(d,D,S),c(D,Z),P(d,ee,S),P(d,R,S),c(R,te),P(d,x,S),c(x,F),P(d,ne,S),P(d,re,S),c(re,k),P(d,O,S),P(d,L,S),c(L,fe),P(d,ue,S),P(d,K,S),c(K,pe),P(d,se,S),P(d,ce,S),c(ce,de)},p(d,S){S&1&&l!==(l=d[1].x+"")&&U(a,l),S&1&&i!==(i=d[1].y+"")&&U(f,i),S&1&&E!==(E=Ye(d[1])?"✅":"❌")&&U($,E),S&1&&z!==(z=je(d[1])?"✅":"❌")&&U(Z,z),S&1&&X!==(X=Ke(d[1])?"✅":"❌")&&U(F,X),S&1&&G!==(G=Je(d[3],d[2],d[1])?"✅":"❌")&&U(fe,G),S&1&&me!==(me=qe(d[3],d[2],d[1])?"✅":"❌")&&U(de,me)},d(d){d&&u(e),d&&u(n),d&&u(s),d&&u(p),d&&u(_),d&&u(C),d&&u(B),d&&u(m),d&&u(D),d&&u(ee),d&&u(R),d&&u(x),d&&u(ne),d&&u(re),d&&u(O),d&&u(L),d&&u(ue),d&&u(K),d&&u(se),d&&u(ce)}}}function gn(t){let e,r=t[0]&&Pt(ze(t));return{c(){e=v("div"),r&&r.c(),this.h()},l(n){e=h(n,"DIV",{class:!0});var s=b(e);r&&r.l(s),s.forEach(u),this.h()},h(){V(e,"class","grid2cols svelte-1lw5ne4")},m(n,s){P(n,e,s),r&&r.m(e,null)},p(n,[s]){n[0]?r?r.p(ze(n),s):(r=Pt(ze(n)),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ye,o:ye,d(n){n&&u(e),r&&r.d()}}}function Pn(t,e,r){let{historyItem:n}=e;return t.$$set=s=>{"historyItem"in s&&r(0,n=s.historyItem)},[n]}class kt extends oe{constructor(e){super(),ae(this,e,Pn,gn,ie,{historyItem:0})}}function kn(t){let e,r,n,s,l,a=t[1](t[0])+"",o,i,f,p,_,N,C;return p=new kt({props:{historyItem:Me(t[0],T.player)}}),N=new kt({props:{historyItem:Me(t[0],T.computer)}}),{c(){e=v("div"),r=v("h4"),n=y("Game info"),s=I(),l=v("span"),o=y(a),i=I(),f=v("div"),Y(p.$$.fragment),_=I(),Y(N.$$.fragment),this.h()},l(E){e=h(E,"DIV",{});var $=b(e);r=h($,"H4",{});var B=b(r);n=g(B,"Game info"),B.forEach(u),s=A($),l=h($,"SPAN",{});var m=b(l);o=g(m,a),m.forEach(u),i=A($),f=h($,"DIV",{class:!0});var w=b(f);q(p.$$.fragment,w),_=A(w),q(N.$$.fragment,w),w.forEach(u),$.forEach(u),this.h()},h(){V(f,"class","grid2cols svelte-1lw5ne4")},m(E,$){P(E,e,$),c(e,r),c(r,n),c(e,s),c(e,l),c(l,o),c(e,i),c(e,f),J(p,f,null),c(f,_),J(N,f,null),C=!0},p(E,[$]){(!C||$&1)&&a!==(a=E[1](E[0])+"")&&U(o,a);const B={};$&1&&(B.historyItem=Me(E[0],T.player)),p.$set(B);const m={};$&1&&(m.historyItem=Me(E[0],T.computer)),N.$set(m)},i(E){C||(M(p.$$.fragment,E),M(N.$$.fragment,E),C=!0)},o(E){H(p.$$.fragment,E),H(N.$$.fragment,E),C=!1},d(E){E&&u(e),j(p),j(N)}}}function wn(t,e,r){let{game:n}=e;const s=l=>!l||!l.state?"N/A":l.state==="not_over"?"Turn: "+(l.currentPlayer===T.player?"Player":"Computer"):l.state==="player_win"?"Player Win":l.state==="computer_win"?"Computer Win":l.state==="draw"?"Draw":l.state==="over"?"Game Over":"Invalid Game";return t.$$set=l=>{"game"in l&&r(0,n=l.game)},[n,s]}class En extends oe{constructor(e){super(),ae(this,e,wn,kn,ie,{game:0})}}function wt(t){let e,r,n,s;return{c(){e=v("span"),r=y("Restarting in "),n=y(t[1]),s=y(" seconds")},l(l){e=h(l,"SPAN",{});var a=b(e);r=g(a,"Restarting in "),n=g(a,t[1]),s=g(a," seconds"),a.forEach(u)},m(l,a){P(l,e,a),c(e,r),c(e,n),c(e,s)},p(l,a){a&2&&U(n,l[1])},d(l){l&&u(e)}}}function Et(t){let e,r,n,s,l,a;return e=new yn({props:{board:t[0].board,onClick:t[2]}}),n=new En({props:{game:t[0]}}),l=new Ht({props:{board:t[0].board}}),{c(){Y(e.$$.fragment),r=I(),Y(n.$$.fragment),s=I(),Y(l.$$.fragment)},l(o){q(e.$$.fragment,o),r=A(o),q(n.$$.fragment,o),s=A(o),q(l.$$.fragment,o)},m(o,i){J(e,o,i),P(o,r,i),J(n,o,i),P(o,s,i),J(l,o,i),a=!0},p(o,i){const f={};i&1&&(f.board=o[0].board),e.$set(f);const p={};i&1&&(p.game=o[0]),n.$set(p);const _={};i&1&&(_.board=o[0].board),l.$set(_)},i(o){a||(M(e.$$.fragment,o),M(n.$$.fragment,o),M(l.$$.fragment,o),a=!0)},o(o){H(e.$$.fragment,o),H(n.$$.fragment,o),H(l.$$.fragment,o),a=!1},d(o){j(e,o),o&&u(r),j(n,o),o&&u(s),j(l,o)}}}function Sn(t){let e,r,n,s,l,a,o=t[1]>0&&wt(t),i=t[0].board&&Et(t);return{c(){e=v("h2"),r=y("Game"),n=I(),s=v("div"),o&&o.c(),l=I(),i&&i.c()},l(f){e=h(f,"H2",{});var p=b(e);r=g(p,"Game"),p.forEach(u),n=A(f),s=h(f,"DIV",{});var _=b(s);o&&o.l(_),l=A(_),i&&i.l(_),_.forEach(u)},m(f,p){P(f,e,p),c(e,r),P(f,n,p),P(f,s,p),o&&o.m(s,null),c(s,l),i&&i.m(s,null),a=!0},p(f,[p]){f[1]>0?o?o.p(f,p):(o=wt(f),o.c(),o.m(s,l)):o&&(o.d(1),o=null),f[0].board?i?(i.p(f,p),p&1&&M(i,1)):(i=Et(f),i.c(),M(i,1),i.m(s,null)):i&&(xe(),H(i,1,1,()=>{i=null}),et())},i(f){a||(M(i),a=!0)},o(f){H(i),a=!1},d(f){f&&u(e),f&&u(n),f&&u(s),o&&o.d(),i&&i.d()}}}function In(t,e,r){let n,s,l;a();function a(){r(0,n=cn()),s=n.currentPlayer}return[n,l,i=>{s===T.player&&(pn(n,T.player,i),r(0,n),setTimeout(()=>{if(dn(n,T.computer),r(0,n),s=n.currentPlayer,n.state!=="not_over"){r(1,l=4);const f=setInterval(()=>{r(1,l--,l),l===0&&(a(),clearInterval(f))},1e3)}},500))}]}class An extends oe{constructor(e){super(),ae(this,e,In,Sn,ie,{})}}function Nn(t){let e,r,n,s,l,a,o,i,f,p,_,N,C,E,$,B,m,w,D,z,Z,ee,R,te,x,X,F,ne,re;return l=new At({props:{sketch:t[6]}}),X=new Ht({props:{board:t[1],lastMove:t[3]}}),{c(){e=v("h2"),r=y("Analyzer"),n=I(),s=v("div"),Y(l.$$.fragment),a=I(),o=v("div"),i=v("h4"),f=y("Controls"),p=I(),_=v("button"),N=y("Play O"),E=I(),$=v("button"),B=y("Play X"),w=I(),D=v("button"),z=y("Previous"),ee=I(),R=v("button"),te=y("Reset"),x=I(),Y(X.$$.fragment),this.h()},l(k){e=h(k,"H2",{});var O=b(e);r=g(O,"Analyzer"),O.forEach(u),n=A(k),s=h(k,"DIV",{});var L=b(s);q(l.$$.fragment,L),a=A(L),o=h(L,"DIV",{});var G=b(o);i=h(G,"H4",{});var fe=b(i);f=g(fe,"Controls"),fe.forEach(u),p=A(G),_=h(G,"BUTTON",{});var ue=b(_);N=g(ue,"Play O"),ue.forEach(u),E=A(G),$=h(G,"BUTTON",{});var K=b($);B=g(K,"Play X"),K.forEach(u),w=A(G),D=h(G,"BUTTON",{});var pe=b(D);z=g(pe,"Previous"),pe.forEach(u),ee=A(G),R=h(G,"BUTTON",{});var se=b(R);te=g(se,"Reset"),se.forEach(u),G.forEach(u),x=A(L),q(X.$$.fragment,L),L.forEach(u),this.h()},h(){_.disabled=C=t[2]===T.player,$.disabled=m=t[2]===T.computer,D.disabled=Z=(t[0]||[]).length<2},m(k,O){P(k,e,O),c(e,r),P(k,n,O),P(k,s,O),J(l,s,null),c(s,a),c(s,o),c(o,i),c(i,f),c(o,p),c(o,_),c(_,N),c(o,E),c(o,$),c($,B),c(o,w),c(o,D),c(D,z),c(o,ee),c(o,R),c(R,te),c(s,x),J(X,s,null),F=!0,ne||(re=[Ee(_,"click",t[7]),Ee($,"click",t[8]),Ee(D,"click",t[5]),Ee(R,"click",t[4])],ne=!0)},p(k,[O]){(!F||O&4&&C!==(C=k[2]===T.player))&&(_.disabled=C),(!F||O&4&&m!==(m=k[2]===T.computer))&&($.disabled=m),(!F||O&1&&Z!==(Z=(k[0]||[]).length<2))&&(D.disabled=Z);const L={};O&2&&(L.board=k[1]),O&8&&(L.lastMove=k[3]),X.$set(L)},i(k){F||(M(l.$$.fragment,k),M(X.$$.fragment,k),F=!0)},o(k){H(l.$$.fragment,k),H(X.$$.fragment,k),F=!1},d(k){k&&u(e),k&&u(n),k&&u(s),j(l),j(X),ne=!1,Lt(re)}}}function Tn(t,e,r){let n,s,l,a=T.player,o;function i($,B){We(l,$,ge(B)),r(3,o=B),r(1,l),s.push({...l}),r(0,s),f()}function f(){r(2,a=a===T.player?T.computer:T.player)}function p(){r(1,l=Tt()),r(0,s=[{...l}]),r(3,o={x:-1,y:-1})}function _(){s.length<=1||(s.pop(),r(0,s),r(1,l={...s[s.length-1]}))}const N=$=>{$.setup=()=>{n=$,$.createCanvas(400,400),p()},$.draw=()=>{$.background(0),Bt($,l,{drawSelection:!0,selection:Qe($),currentPlayer:a})},$.mousePressed=()=>{if($.mouseX<0||$.mouseX>$.width||$.mouseY<0||$.mouseY>$.height)return;const B=Qe($);i(a,B)}};return Ze(()=>{n==null||n.remove()}),[s,l,a,o,p,_,N,()=>r(2,a=T.player),()=>r(2,a=T.computer)]}class Cn extends oe{constructor(e){super(),ae(this,e,Tn,Nn,ie,{})}}function Mn(t){let e;return{c(){e=y("Game")},l(r){e=g(r,"Game")},m(r,n){P(r,e,n)},d(r){r&&u(e)}}}function Bn(t){let e;return{c(){e=y("Analyzer")},l(r){e=g(r,"Analyzer")},m(r,n){P(r,e,n)},d(r){r&&u(e)}}}function Hn(t){let e,r,n,s;return e=new _t({props:{$$slots:{default:[Mn]},$$scope:{ctx:t}}}),n=new _t({props:{$$slots:{default:[Bn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),r=I(),Y(n.$$.fragment)},l(l){q(e.$$.fragment,l),r=A(l),q(n.$$.fragment,l)},m(l,a){J(e,l,a),P(l,r,a),J(n,l,a),s=!0},p(l,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:l}),e.$set(o);const i={};a&1&&(i.$$scope={dirty:a,ctx:l}),n.$set(i)},i(l){s||(M(e.$$.fragment,l),M(n.$$.fragment,l),s=!0)},o(l){H(e.$$.fragment,l),H(n.$$.fragment,l),s=!1},d(l){j(e,l),l&&u(r),j(n,l)}}}function On(t){let e,r;return e=new An({}),{c(){Y(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){J(e,n,s),r=!0},i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Dn(t){let e,r;return e=new Cn({}),{c(){Y(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){J(e,n,s),r=!0},i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Gn(t){let e,r,n,s,l,a;return e=new jt({props:{$$slots:{default:[Hn]},$$scope:{ctx:t}}}),n=new $t({props:{$$slots:{default:[On]},$$scope:{ctx:t}}}),l=new $t({props:{$$slots:{default:[Dn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),r=I(),Y(n.$$.fragment),s=I(),Y(l.$$.fragment)},l(o){q(e.$$.fragment,o),r=A(o),q(n.$$.fragment,o),s=A(o),q(l.$$.fragment,o)},m(o,i){J(e,o,i),P(o,r,i),J(n,o,i),P(o,s,i),J(l,o,i),a=!0},p(o,i){const f={};i&1&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const p={};i&1&&(p.$$scope={dirty:i,ctx:o}),n.$set(p);const _={};i&1&&(_.$$scope={dirty:i,ctx:o}),l.$set(_)},i(o){a||(M(e.$$.fragment,o),M(n.$$.fragment,o),M(l.$$.fragment,o),a=!0)},o(o){H(e.$$.fragment,o),H(n.$$.fragment,o),H(l.$$.fragment,o),a=!1},d(o){j(e,o),o&&u(r),j(n,o),o&&u(s),j(l,o)}}}function Vn(t){let e,r;return e=new Rt({props:{$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){J(e,n,s),r=!0},p(n,[s]){const l={};s&1&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}class Ln extends oe{constructor(e){super(),ae(this,e,null,Vn,ie,{})}}function Wn(t){let e,r;return e=new Ln({}),{c(){Y(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){J(e,n,s),r=!0},p:ye,i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}class Rn extends oe{constructor(e){super(),ae(this,e,null,Wn,ie,{})}}export{Rn as default};
