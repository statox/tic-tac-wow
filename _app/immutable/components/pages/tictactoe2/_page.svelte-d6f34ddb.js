import{S as _e,i as de,s as me,C as Je,k as $,l as b,m as y,h as c,n as q,b as w,N as be,E as je,F as qe,G as Ke,f as Y,t as j,H as Oe,a0 as Qt,o as Lt,j as Zt,W as at,I as yt,a1 as Wt,A as xt,$ as en,g as Qe,d as Ze,q as k,a as T,r as P,c as M,D as f,B as ve,u as K,w as te,x as ne,y as re,z as oe,J as Ut,e as Ve,K as tn,M as kt,P as Xt,Q as nn}from"../../../chunks/index-1d785069.js";import{w as De}from"../../../chunks/index-c5a64178.js";import{P as Ft}from"../../../chunks/P5-76a6b36f.js";let rn=1;function zt(){return`svelte-tabs-${rn++}`}function on(t){let e,n,r,o;const l=t[4].default,a=Je(l,t,t[3],null);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var i=y(e);a&&a.l(i),i.forEach(c),this.h()},h(){q(e,"class","svelte-tabs")},m(s,i){w(s,e,i),a&&a.m(e,null),n=!0,r||(o=be(e,"keydown",t[1]),r=!0)},p(s,[i]){a&&a.p&&(!n||i&8)&&je(a,l,s,s[3],n?Ke(l,s[3],i,null):qe(s[3]),null)},i(s){n||(Y(a,s),n=!0)},o(s){j(a,s),n=!1},d(s){s&&c(e),a&&a.d(s),r=!1,o()}}}const it={};function ln(t,e,n){const r=t.indexOf(e);t.splice(r,1),n.update(o=>o===e?t[r]||t[t.length-1]:o)}function sn(t,e,n){let r,{$$slots:o={},$$scope:l}=e,{initialSelectedIndex:a=0}=e;const s=[],i=[],u=[],p=De({}),d=De({}),I=De(null);Oe(t,I,m=>n(5,r=m));const R=De(null);function E(m,g,A){m.push(g),A.update(H=>H||g),at(()=>ln(m,g,A))}function _(m){const g=i.indexOf(m);I.set(m),R.set(u[g])}Qt(it,{registerTab(m){E(i,m,I)},registerTabElement(m){s.push(m)},registerPanel(m){E(u,m,R)},selectTab:_,selectedTab:I,selectedPanel:R,controls:p,labeledBy:d}),Lt(()=>{_(i[a])}),Zt(()=>{for(let m=0;m<i.length;m++)p.update(g=>({...g,[i[m].id]:u[m].id})),d.update(g=>({...g,[u[m].id]:i[m].id}))});async function B(m){if(m.target.classList.contains("svelte-tabs__tab")){let g=i.indexOf(r);switch(m.key){case"ArrowRight":g+=1,g>i.length-1&&(g=0),_(i[g]),s[g].focus();break;case"ArrowLeft":g-=1,g<0&&(g=i.length-1),_(i[g]),s[g].focus()}}}return t.$$set=m=>{"initialSelectedIndex"in m&&n(2,a=m.initialSelectedIndex),"$$scope"in m&&n(3,l=m.$$scope)},[I,B,a,l,o]}class an extends _e{constructor(e){super(),de(this,e,sn,on,me,{initialSelectedIndex:2})}}function fn(t){let e,n,r,o,l,a;const s=t[9].default,i=Je(s,t,t[8],null);return{c(){e=$("li"),i&&i.c(),this.h()},l(u){e=b(u,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var p=y(e);i&&i.l(p),p.forEach(c),this.h()},h(){q(e,"role","tab"),q(e,"id",t[3].id),q(e,"aria-controls",n=t[2][t[3].id]),q(e,"aria-selected",t[1]),q(e,"tabindex",r=t[1]?0:-1),q(e,"class","svelte-tabs__tab svelte-1fbofsd"),yt(e,"svelte-tabs__selected",t[1])},m(u,p){w(u,e,p),i&&i.m(e,null),t[10](e),o=!0,l||(a=be(e,"click",t[11]),l=!0)},p(u,[p]){i&&i.p&&(!o||p&256)&&je(i,s,u,u[8],o?Ke(s,u[8],p,null):qe(u[8]),null),(!o||p&4&&n!==(n=u[2][u[3].id]))&&q(e,"aria-controls",n),(!o||p&2)&&q(e,"aria-selected",u[1]),(!o||p&2&&r!==(r=u[1]?0:-1))&&q(e,"tabindex",r),(!o||p&2)&&yt(e,"svelte-tabs__selected",u[1])},i(u){o||(Y(i,u),o=!0)},o(u){j(i,u),o=!1},d(u){u&&c(e),i&&i.d(u),t[10](null),l=!1,a()}}}function cn(t,e,n){let r,o,{$$slots:l={},$$scope:a}=e,s;const i={id:zt()},{registerTab:u,registerTabElement:p,selectTab:d,selectedTab:I,controls:R}=Wt(it);Oe(t,I,m=>n(7,r=m)),Oe(t,R,m=>n(2,o=m));let E;u(i),Lt(async()=>{await xt(),p(s)});function _(m){en[m?"unshift":"push"](()=>{s=m,n(0,s)})}const B=()=>d(i);return t.$$set=m=>{"$$scope"in m&&n(8,a=m.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&n(1,E=r===i)},[s,E,o,i,d,I,R,r,a,l,_,B]}class Pt extends _e{constructor(e){super(),de(this,e,cn,fn,me,{})}}function un(t){let e,n;const r=t[1].default,o=Je(r,t,t[0],null);return{c(){e=$("ul"),o&&o.c(),this.h()},l(l){e=b(l,"UL",{role:!0,class:!0});var a=y(e);o&&o.l(a),a.forEach(c),this.h()},h(){q(e,"role","tablist"),q(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(l,a){w(l,e,a),o&&o.m(e,null),n=!0},p(l,[a]){o&&o.p&&(!n||a&1)&&je(o,r,l,l[0],n?Ke(r,l[0],a,null):qe(l[0]),null)},i(l){n||(Y(o,l),n=!0)},o(l){j(o,l),n=!1},d(l){l&&c(e),o&&o.d(l)}}}function pn(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=l=>{"$$scope"in l&&n(0,o=l.$$scope)},[o,r]}class _n extends _e{constructor(e){super(),de(this,e,pn,un,me,{})}}function gt(t){let e;const n=t[6].default,r=Je(n,t,t[5],null);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,l){r&&r.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l&32)&&je(r,n,o,o[5],e?Ke(n,o[5],l,null):qe(o[5]),null)},i(o){e||(Y(r,o),e=!0)},o(o){j(r,o),e=!1},d(o){r&&r.d(o)}}}function dn(t){let e,n,r,o=t[1]===t[2]&&gt(t);return{c(){e=$("div"),o&&o.c(),this.h()},l(l){e=b(l,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var a=y(e);o&&o.l(a),a.forEach(c),this.h()},h(){q(e,"id",t[2].id),q(e,"aria-labelledby",n=t[0][t[2].id]),q(e,"class","svelte-tabs__tab-panel svelte-epfyet"),q(e,"role","tabpanel")},m(l,a){w(l,e,a),o&&o.m(e,null),r=!0},p(l,[a]){l[1]===l[2]?o?(o.p(l,a),a&2&&Y(o,1)):(o=gt(l),o.c(),Y(o,1),o.m(e,null)):o&&(Qe(),j(o,1,1,()=>{o=null}),Ze()),(!r||a&1&&n!==(n=l[0][l[2].id]))&&q(e,"aria-labelledby",n)},i(l){r||(Y(o),r=!0)},o(l){j(o),r=!1},d(l){l&&c(e),o&&o.d()}}}function mn(t,e,n){let r,o,{$$slots:l={},$$scope:a}=e;const s={id:zt()},{registerPanel:i,selectedPanel:u,labeledBy:p}=Wt(it);return Oe(t,u,d=>n(1,o=d)),Oe(t,p,d=>n(0,r=d)),i(s),t.$$set=d=>{"$$scope"in d&&n(5,a=d.$$scope)},[r,o,s,u,p,a,l]}class Et extends _e{constructor(e){super(),de(this,e,mn,dn,me,{})}}function ge(t){const{x:e,y:n}=t;if(e<0||e>2||n<0||n>2)throw new Error(`Invalid coords (${e},${n})`);return 8-(3*n+e)}function ft(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const hn=[448,56,7,292,146,73,273,84],vn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],$n=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],bn=[{p:2,o:5},{p:2,o:144}],Ne=(t,e)=>(t&e)===e;function wt(t){let e=t,n=0;for(;e;)n+=e&1,e>>=1;return n}function St(t,e){const n=ge(e);return U(t,n)}function U(t,e){return!(t&1<<e)}function rt(t,e){return t+2**e}const ot=t=>{for(const e of hn)if(Ne(t,e))return!0;return!1};var W=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(W||{});function Yt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function we(t,e){return e===W.player?t.player:t.computer}function Se(t,e){return e===W.player?t.computer:t.player}function Le(t,e){if(!e&&!yn(t))return"invalid_board";const n=ot(t.player),r=ot(t.computer);return n&&r?"draw":n?"player_win":r?"computer_win":Pn(t)?"not_over":"over"}function Re(t,e,n){if(!kn(t,n))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${n} `);e===W.player?t.player=rt(t.player,n):t.computer=rt(t.computer,n)}function yn(t){if(t.player&t.computer)return!1;const e=wt(t.player),n=wt(t.computer);return!(Math.abs(e-n)>1)}function kn(t,e){return U(t.player,e)&&U(t.computer,e)}function Pn(t){return(t.player|t.computer)!==511}function ct(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const n=[];let r=0;for(;r<9;)e&1||n.push(r),r++,e>>=1;return n}const gn=[2,5,8,1,4,7,0,3,6];function It(t){let e=0;return gn.forEach((n,r)=>{U(t,r)||(e=rt(e,n))}),e}function We(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const n={...t};for(let r=0;r<e;r++)n.player=It(n.player),n.computer=It(n.computer);return n}function Ce(t,e){const n=we(t,e);return ot(n)}function Ue(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function Jt(t,e,n){const r=ge(n),o=we(t,e),l=Se(t,e);if(r===4){const a=U(l,5)&&!U(o,3)||!U(o,5)&&U(l,3)?1:0,s=U(l,7)&&!U(o,1)||!U(o,7)&&U(l,1)?1:0,i=U(l,8)&&!U(o,0)||!U(o,8)&&U(l,0)?1:0,u=U(l,6)&&!U(o,2)||!U(o,6)&&U(l,2)?1:0;return a+s+i+u>=2}if(xe.has(r)){const a={0:0,2:3,6:1,8:2}[r]||0,s=We(t,a),i=we(s,e),u=Se(s,e),p=U(u,2)&&!U(i,1)||!U(i,2)&&U(u,1),d=U(u,6)&&!U(i,3)||!U(i,6)&&U(u,3);return p&&d}if(ut.has(r)){const a={1:0,3:1,5:3,7:2}[r]||0,s=We(t,a),i=we(s,e),u=Se(s,e),p=U(u,2)&&!U(i,0)||!U(i,2)&&U(u,0),d=U(u,7)&&!U(i,4)||!U(i,7)&&U(u,4);return p&&d}return!1}function En(t,e,n){const r=we(t,e),l={player:Se(t,e),computer:r};return Jt(l,W.player,n)}function Xe(t,e,n){const r=ge(n),o=we(t,e),l=Se(t,e);if(r===4){for(const{o:a,p:s}of vn)if(Ne(o,s)&&Ne(l,a))return!0}if(xe.has(r)){const a={0:0,2:3,6:1,8:2}[r]||0,s=We(t,a),i=we(s,e),u=Se(s,e);for(const{o:p,p:d}of $n)if(Ne(i,d)&&Ne(u,p))return!0}if(ut.has(r)){const a={1:0,3:1,5:3,7:2}[r]||0,s=We(t,a),i=we(s,e),u=Se(s,e);for(const{o:p,p:d}of bn)if(Ne(i,d)&&Ne(u,p))return!0}return!1}const xe=new Set([0,2,6,8]),ut=new Set([1,3,5,7]);function Fe(t,e,n){const r=ge(n);if(!xe.has(r))return!1;const o=8-r,l=Se(t,e);return!U(l,o)}function ze(t){const e=ge(t);return xe.has(e)}function Ye(t){const e=ge(t);return ut.has(e)}function wn(t,e){const n=ct(t);if(n.length===0)throw new Error("No available moves");let r;for(const o of n){const l={...t},a=ft(o);Re(l,e,o);const s=Sn(l,e,a);s.score>((r==null?void 0:r.score)??-1)&&(r=s)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Sn(t,e,n){return Ce(t,e)?{score:8,reason:"win",move:n}:Xe(t,e,n)?{score:7,reason:"block_opponent",move:n}:Jt(t,e,n)?{score:6,reason:"create_fork",move:n}:En(t,e,n)?{score:5,reason:"block_opponent_fork",move:n}:Ue(n)?{score:4,reason:"take_center",move:n}:Fe(t,e,n)?{score:3,reason:"take_opposite_corner",move:n}:ze(n)?{score:2,reason:"take_corner",move:n}:Ye(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function In(t,e){const n=ct(t);if(n.length===0)throw new Error("No available moves");let r;for(const o of n){const l={...t},a=ft(o);Re(l,e,o);const s=Nn(l,e,a);s.score>((r==null?void 0:r.score)??-1)&&(r=s)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Nn(t,e,n){return Ce(t,W.player)?{score:8,reason:"win",move:n}:Xe(t,e,n)?{score:7,reason:"block_opponent",move:n}:Ue(n)?{score:4,reason:"take_center",move:n}:Fe(t,e,n)?{score:3,reason:"take_opposite_corner",move:n}:ze(n)?{score:2,reason:"take_corner",move:n}:Ye(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function An(t){const e=ct(t);if(e.length===0)throw new Error("No available moves");const n=Math.floor(Math.random()*e.length),r=e[n];return{score:0,reason:"random",move:ft(r)}}const lt={random:An,hardcodedRules:In,hardcodedRulesComplete:wn},Cn=t=>({board:Yt(),currentPlayer:t??W.player,state:"not_over",moveHistory:[]});function jt(t){t.currentPlayer=t.currentPlayer===W.player?W.computer:W.player}const Tn=(t,e,n)=>{t.state==="not_over"&&(Re(t.board,e,ge(n)),t.state=Le(t.board),t.moveHistory.push({board:{...t.board},moveCoord:n,player:e,method:"manual"}),jt(t))},tt=(t,e,n)=>{if(t.state!=="not_over")return;const r=lt[n],o=r(t.board,e);Re(t.board,e,ge(o.move)),t.state=Le(t.board),t.moveHistory.push({board:{...t.board},moveCoord:o.move,player:e,method:n,aiChoice:o}),jt(t)},Ge=(t,e)=>{if(t.moveHistory.length>0){const n=t.moveHistory[t.moveHistory.length-1];if(n.player===e)return n}if(t.moveHistory.length>1){const n=t.moveHistory[t.moveHistory.length-2];if(n.player===e)return n}return null};function qt(t,e,n){const r=t.width/3,o=t.height/3,{height:l,width:a}=t,{drawSelection:s,selection:i,currentPlayer:u}=n||{};t.noFill(),t.stroke(255),t.line(r,0,r,l),t.line(r*2,0,r*2,l),t.line(0,o,a,o),t.line(0,o*2,a,o*2);for(let p=0;p<3;p++)for(let d=0;d<3;d++)(!St(e.player,{x:d,y:p})||s&&u===W.player&&(i==null?void 0:i.x)===d&&(i==null?void 0:i.y)===p)&&(t.stroke("blue"),t.circle(d*r+r/2,p*o+o/2,o/2)),(!St(e.computer,{x:d,y:p})||s&&u===W.computer&&(i==null?void 0:i.x)===d&&(i==null?void 0:i.y)===p)&&(t.stroke("red"),t.line(d*r+r*.3,p*o+o*.3,d*r+r*.7,p*o+o*.7),t.line(d*r+r*.7,p*o+o*.3,d*r+r*.3,p*o+o*.7))}function st(t){const{mouseX:e,mouseY:n,width:r,height:o}=t,l=Math.floor(t.map(e,0,r,0,3)),a=Math.floor(t.map(n,0,o,0,3));return{x:l,y:a}}function Nt(t){let e,n,r,o,l,a=Le(t[0])+"",s,i,u,p,d,I,R,E,_,B,m=t[0].player.toString(2).padStart(9,"0")+"",g,A,H,z=t[0].player+"",D,N,v,G,X,V=Ce(t[0],W.player)?"✅":"❌",Z,J,S,C,F,O,le,ie,Q,ue,se=t[0].computer.toString(2).padStart(9,"0")+"",fe,he,ce,ye=t[0].computer+"",$e,ee,h,L,ke,Ee=Ce(t[0],W.computer)?"✅":"❌",Ie;return{c(){e=$("div"),n=$("span"),r=k("State:"),o=T(),l=$("span"),s=k(a),i=T(),u=$("div"),p=$("span"),d=k("Player 1"),I=$("span"),R=k("Player, O"),E=T(),_=$("span"),B=k("0b"),g=k(m),A=T(),H=$("span"),D=k(z),N=T(),v=$("span"),G=k("Wins"),X=$("span"),Z=k(V),J=T(),S=$("div"),C=$("span"),F=k("Player 2"),O=$("span"),le=k("Computer, X"),ie=T(),Q=$("span"),ue=k("0b"),fe=k(se),he=T(),ce=$("span"),$e=k(ye),ee=T(),h=$("span"),L=k("Wins"),ke=$("span"),Ie=k(Ee),this.h()},l(ae){e=b(ae,"DIV",{class:!0});var x=y(e);n=b(x,"SPAN",{});var Te=y(n);r=P(Te,"State:"),Te.forEach(c),o=M(x),l=b(x,"SPAN",{});var Me=y(l);s=P(Me,a),Me.forEach(c),i=M(x),u=b(x,"DIV",{class:!0});var pe=y(u);p=b(pe,"SPAN",{});var Be=y(p);d=P(Be,"Player 1"),Be.forEach(c),I=b(pe,"SPAN",{});var He=y(I);R=P(He,"Player, O"),He.forEach(c),E=M(pe),_=b(pe,"SPAN",{});var Ae=y(_);B=P(Ae,"0b"),g=P(Ae,m),Ae.forEach(c),A=M(pe),H=b(pe,"SPAN",{});var pt=y(H);D=P(pt,z),pt.forEach(c),N=M(pe),v=b(pe,"SPAN",{});var _t=y(v);G=P(_t,"Wins"),_t.forEach(c),X=b(pe,"SPAN",{});var dt=y(X);Z=P(dt,V),dt.forEach(c),pe.forEach(c),J=M(x),S=b(x,"DIV",{class:!0});var Pe=y(S);C=b(Pe,"SPAN",{});var mt=y(C);F=P(mt,"Player 2"),mt.forEach(c),O=b(Pe,"SPAN",{});var ht=y(O);le=P(ht,"Computer, X"),ht.forEach(c),ie=M(Pe),Q=b(Pe,"SPAN",{});var et=y(Q);ue=P(et,"0b"),fe=P(et,se),et.forEach(c),he=M(Pe),ce=b(Pe,"SPAN",{});var vt=y(ce);$e=P(vt,ye),vt.forEach(c),ee=M(Pe),h=b(Pe,"SPAN",{});var $t=y(h);L=P($t,"Wins"),$t.forEach(c),ke=b(Pe,"SPAN",{});var bt=y(ke);Ie=P(bt,Ee),bt.forEach(c),Pe.forEach(c),x.forEach(c),this.h()},h(){q(u,"class","grid2cols svelte-1lw5ne4"),q(S,"class","grid2cols svelte-1lw5ne4"),q(e,"class","grid2cols svelte-1lw5ne4")},m(ae,x){w(ae,e,x),f(e,n),f(n,r),f(e,o),f(e,l),f(l,s),f(e,i),f(e,u),f(u,p),f(p,d),f(u,I),f(I,R),f(u,E),f(u,_),f(_,B),f(_,g),f(u,A),f(u,H),f(H,D),f(u,N),f(u,v),f(v,G),f(u,X),f(X,Z),f(e,J),f(e,S),f(S,C),f(C,F),f(S,O),f(O,le),f(S,ie),f(S,Q),f(Q,ue),f(Q,fe),f(S,he),f(S,ce),f(ce,$e),f(S,ee),f(S,h),f(h,L),f(S,ke),f(ke,Ie)},p(ae,x){x&1&&a!==(a=Le(ae[0])+"")&&K(s,a),x&1&&m!==(m=ae[0].player.toString(2).padStart(9,"0")+"")&&K(g,m),x&1&&z!==(z=ae[0].player+"")&&K(D,z),x&1&&V!==(V=Ce(ae[0],W.player)?"✅":"❌")&&K(Z,V),x&1&&se!==(se=ae[0].computer.toString(2).padStart(9,"0")+"")&&K(fe,se),x&1&&ye!==(ye=ae[0].computer+"")&&K($e,ye),x&1&&Ee!==(Ee=Ce(ae[0],W.computer)?"✅":"❌")&&K(Ie,Ee)},d(ae){ae&&c(e)}}}function Mn(t){let e,n,r,o,l=t[0]&&Nt(t);return{c(){e=$("div"),n=$("h4"),r=k("Board info"),o=T(),l&&l.c()},l(a){e=b(a,"DIV",{});var s=y(e);n=b(s,"H4",{});var i=y(n);r=P(i,"Board info"),i.forEach(c),o=M(s),l&&l.l(s),s.forEach(c)},m(a,s){w(a,e,s),f(e,n),f(n,r),f(e,o),l&&l.m(e,null)},p(a,[s]){a[0]?l?l.p(a,s):(l=Nt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:ve,o:ve,d(a){a&&c(e),l&&l.d()}}}function Bn(t,e,n){let{board:r}=e;return t.$$set=o=>{"board"in o&&n(0,r=o.board)},[r]}class Kt extends _e{constructor(e){super(),de(this,e,Bn,Mn,me,{board:0})}}function Hn(t){let e,n,r=JSON.stringify(t[0])+"",o;return{c(){e=$("p"),n=k("Board is undefined "),o=k(r)},l(l){e=b(l,"P",{});var a=y(e);n=P(a,"Board is undefined "),o=P(a,r),a.forEach(c)},m(l,a){w(l,e,a),f(e,n),f(e,o)},p(l,a){a&1&&r!==(r=JSON.stringify(l[0])+"")&&K(o,r)},i:ve,o:ve,d(l){l&&c(e)}}}function On(t){let e,n;return e=new Ft({props:{sketch:t[1]}}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p:ve,i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Rn(t){let e,n,r,o;const l=[On,Hn],a=[];function s(i,u){return i[0]?0:1}return n=s(t),r=a[n]=l[n](t),{c(){e=$("div"),r.c()},l(i){e=b(i,"DIV",{});var u=y(e);r.l(u),u.forEach(c)},m(i,u){w(i,e,u),a[n].m(e,null),o=!0},p(i,[u]){let p=n;n=s(i),n===p?a[n].p(i,u):(Qe(),j(a[p],1,1,()=>{a[p]=null}),Ze(),r=a[n],r?r.p(i,u):(r=a[n]=l[n](i),r.c()),Y(r,1),r.m(e,null))},i(i){o||(Y(r),o=!0)},o(i){j(r),o=!1},d(i){i&&c(e),a[n].d()}}}function Dn(t,e,n){let{board:r}=e,{onClick:o}=e,l;const a=s=>{s.setup=()=>{l=s,s.createCanvas(400,400)},s.draw=()=>{s.background(0),qt(s,r)},s.mousePressed=()=>{s.mouseX<0||s.mouseX>s.width||s.mouseY<0||s.mouseY>s.height||o("manual",st(s))}};return at(()=>{l==null||l.remove()}),t.$$set=s=>{"board"in s&&n(0,r=s.board),"onClick"in s&&n(2,o=s.onClick)},[r,a,o]}class Gn extends _e{constructor(e){super(),de(this,e,Dn,Rn,me,{board:0,onClick:2})}}function At(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ct(t){let e,n;return{c(){e=$("p"),n=k("No move yet.")},l(r){e=b(r,"P",{});var o=y(e);n=P(o,"No move yet."),o.forEach(c)},m(r,o){w(r,e,o),f(e,n)},d(r){r&&c(e)}}}function Vn(t){let e,n;return{c(){e=$("span"),n=k("-")},l(r){e=b(r,"SPAN",{});var o=y(e);n=P(o,"-"),o.forEach(c)},m(r,o){w(r,e,o),f(e,n)},p:ve,d(r){r&&c(e)}}}function Ln(t){let e,n=JSON.stringify(t[1].aiChoice)+"",r;return{c(){e=$("span"),r=k(n)},l(o){e=b(o,"SPAN",{});var l=y(e);r=P(l,n),l.forEach(c)},m(o,l){w(o,e,l),f(e,r)},p(o,l){l&1&&n!==(n=JSON.stringify(o[1].aiChoice)+"")&&K(r,n)},d(o){o&&c(e)}}}function Tt(t){let e,n=t[1].moveCoord.x+"",r,o,l=t[1].moveCoord.y+"",a,s,i,u,p=t[1].player+"",d,I,R=t[1].method+"",E,_,B,m=t[1].board.toString()+"",g,A,H;function z(v,G){return v[1].aiChoice?Ln:Vn}let D=z(t),N=D(t);return{c(){e=$("span"),r=k(n),o=k(", "),a=k(l),s=T(),i=$("span"),u=k("Player "),d=k(p),I=k(" - Method "),E=k(R),_=T(),B=$("span"),g=k(m),A=T(),N.c(),H=Ve()},l(v){e=b(v,"SPAN",{});var G=y(e);r=P(G,n),o=P(G,", "),a=P(G,l),G.forEach(c),s=M(v),i=b(v,"SPAN",{});var X=y(i);u=P(X,"Player "),d=P(X,p),I=P(X," - Method "),E=P(X,R),X.forEach(c),_=M(v),B=b(v,"SPAN",{});var V=y(B);g=P(V,m),V.forEach(c),A=M(v),N.l(v),H=Ve()},m(v,G){w(v,e,G),f(e,r),f(e,o),f(e,a),w(v,s,G),w(v,i,G),f(i,u),f(i,d),f(i,I),f(i,E),w(v,_,G),w(v,B,G),f(B,g),w(v,A,G),N.m(v,G),w(v,H,G)},p(v,G){G&1&&n!==(n=v[1].moveCoord.x+"")&&K(r,n),G&1&&l!==(l=v[1].moveCoord.y+"")&&K(a,l),G&1&&p!==(p=v[1].player+"")&&K(d,p),G&1&&R!==(R=v[1].method+"")&&K(E,R),G&1&&m!==(m=v[1].board.toString()+"")&&K(g,m),D===(D=z(v))&&N?N.p(v,G):(N.d(1),N=D(v),N&&(N.c(),N.m(H.parentNode,H)))},d(v){v&&c(e),v&&c(s),v&&c(i),v&&c(_),v&&c(B),v&&c(A),N.d(v),v&&c(H)}}}function Wn(t){let e,n,r,o,l,a,s,i,u,p,d,I,R,E,_=t[0].length===0&&Ct(),B=[...t[0]].reverse(),m=[];for(let g=0;g<B.length;g+=1)m[g]=Tt(At(t,B,g));return{c(){e=$("div"),_&&_.c(),n=T(),r=$("h4"),o=k("Coordinates"),l=T(),a=$("h4"),s=k("Player"),i=T(),u=$("h4"),p=k("Board"),d=T(),I=$("h4"),R=k("AI"),E=T();for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){e=b(g,"DIV",{class:!0});var A=y(e);_&&_.l(A),n=M(A),r=b(A,"H4",{});var H=y(r);o=P(H,"Coordinates"),H.forEach(c),l=M(A),a=b(A,"H4",{});var z=y(a);s=P(z,"Player"),z.forEach(c),i=M(A),u=b(A,"H4",{});var D=y(u);p=P(D,"Board"),D.forEach(c),d=M(A),I=b(A,"H4",{});var N=y(I);R=P(N,"AI"),N.forEach(c),E=M(A);for(let v=0;v<m.length;v+=1)m[v].l(A);A.forEach(c),this.h()},h(){q(e,"class","grid4cols svelte-1bcl41k")},m(g,A){w(g,e,A),_&&_.m(e,null),f(e,n),f(e,r),f(r,o),f(e,l),f(e,a),f(a,s),f(e,i),f(e,u),f(u,p),f(e,d),f(e,I),f(I,R),f(e,E);for(let H=0;H<m.length;H+=1)m[H].m(e,null)},p(g,[A]){if(g[0].length===0?_||(_=Ct(),_.c(),_.m(e,n)):_&&(_.d(1),_=null),A&1){B=[...g[0]].reverse();let H;for(H=0;H<B.length;H+=1){const z=At(g,B,H);m[H]?m[H].p(z,A):(m[H]=Tt(z),m[H].c(),m[H].m(e,null))}for(;H<m.length;H+=1)m[H].d(1);m.length=B.length}},i:ve,o:ve,d(g){g&&c(e),_&&_.d(),Ut(m,g)}}}function Un(t,e,n){let{history:r}=e;return t.$$set=o=>{"history"in o&&n(0,r=o.history)},[r]}class Xn extends _e{constructor(e){super(),de(this,e,Un,Wn,me,{history:0})}}function nt(t){const e=t.slice(),n=e[0];return e[1]=n.moveCoord,e[2]=n.player,e[3]=n.board,e[4]=n.aiChoice,e}function Mt(t){let e,n,r,o,l=t[1].x+"",a,s,i=t[1].y+"",u,p,d,I,R,E=Ue(t[1])?"✅":"❌",_,B,m,g,A,H=ze(t[1])?"✅":"❌",z,D,N,v,G,X=Ye(t[1])?"✅":"❌",V,Z,J,S,C,F,O=Fe(t[3],t[2],t[1])?"✅":"❌",le,ie,Q,ue,se,fe,he=Xe(t[3],t[2],t[1])?"✅":"❌",ce,ye,$e,ee=t[4]&&Bt(t);return{c(){e=$("span"),n=k("Last move:"),r=T(),o=$("span"),a=k(l),s=k(", "),u=k(i),p=T(),d=$("span"),I=k("center"),R=$("span"),_=k(E),B=T(),m=$("span"),g=k("corner"),A=$("span"),z=k(H),D=T(),N=$("span"),v=k("side"),G=$("span"),V=k(X),Z=T(),J=$("span"),S=k("Took opposite corner"),C=T(),F=$("span"),le=k(O),ie=T(),Q=$("span"),ue=k("Last move blocks opponent"),se=T(),fe=$("span"),ce=k(he),ye=T(),ee&&ee.c(),$e=Ve()},l(h){e=b(h,"SPAN",{});var L=y(e);n=P(L,"Last move:"),L.forEach(c),r=M(h),o=b(h,"SPAN",{});var ke=y(o);a=P(ke,l),s=P(ke,", "),u=P(ke,i),ke.forEach(c),p=M(h),d=b(h,"SPAN",{});var Ee=y(d);I=P(Ee,"center"),Ee.forEach(c),R=b(h,"SPAN",{});var Ie=y(R);_=P(Ie,E),Ie.forEach(c),B=M(h),m=b(h,"SPAN",{});var ae=y(m);g=P(ae,"corner"),ae.forEach(c),A=b(h,"SPAN",{});var x=y(A);z=P(x,H),x.forEach(c),D=M(h),N=b(h,"SPAN",{});var Te=y(N);v=P(Te,"side"),Te.forEach(c),G=b(h,"SPAN",{});var Me=y(G);V=P(Me,X),Me.forEach(c),Z=M(h),J=b(h,"SPAN",{});var pe=y(J);S=P(pe,"Took opposite corner"),pe.forEach(c),C=M(h),F=b(h,"SPAN",{});var Be=y(F);le=P(Be,O),Be.forEach(c),ie=M(h),Q=b(h,"SPAN",{});var He=y(Q);ue=P(He,"Last move blocks opponent"),He.forEach(c),se=M(h),fe=b(h,"SPAN",{});var Ae=y(fe);ce=P(Ae,he),Ae.forEach(c),ye=M(h),ee&&ee.l(h),$e=Ve()},m(h,L){w(h,e,L),f(e,n),w(h,r,L),w(h,o,L),f(o,a),f(o,s),f(o,u),w(h,p,L),w(h,d,L),f(d,I),w(h,R,L),f(R,_),w(h,B,L),w(h,m,L),f(m,g),w(h,A,L),f(A,z),w(h,D,L),w(h,N,L),f(N,v),w(h,G,L),f(G,V),w(h,Z,L),w(h,J,L),f(J,S),w(h,C,L),w(h,F,L),f(F,le),w(h,ie,L),w(h,Q,L),f(Q,ue),w(h,se,L),w(h,fe,L),f(fe,ce),w(h,ye,L),ee&&ee.m(h,L),w(h,$e,L)},p(h,L){L&1&&l!==(l=h[1].x+"")&&K(a,l),L&1&&i!==(i=h[1].y+"")&&K(u,i),L&1&&E!==(E=Ue(h[1])?"✅":"❌")&&K(_,E),L&1&&H!==(H=ze(h[1])?"✅":"❌")&&K(z,H),L&1&&X!==(X=Ye(h[1])?"✅":"❌")&&K(V,X),L&1&&O!==(O=Fe(h[3],h[2],h[1])?"✅":"❌")&&K(le,O),L&1&&he!==(he=Xe(h[3],h[2],h[1])?"✅":"❌")&&K(ce,he),h[4]?ee?ee.p(h,L):(ee=Bt(h),ee.c(),ee.m($e.parentNode,$e)):ee&&(ee.d(1),ee=null)},d(h){h&&c(e),h&&c(r),h&&c(o),h&&c(p),h&&c(d),h&&c(R),h&&c(B),h&&c(m),h&&c(A),h&&c(D),h&&c(N),h&&c(G),h&&c(Z),h&&c(J),h&&c(C),h&&c(F),h&&c(ie),h&&c(Q),h&&c(se),h&&c(fe),h&&c(ye),ee&&ee.d(h),h&&c($e)}}}function Bt(t){let e,n,r,o,l=t[4].score+"",a,s,i,u,p,d,I=t[4].reason+"",R;return{c(){e=$("span"),n=k("Score"),r=T(),o=$("span"),a=k(l),s=T(),i=$("span"),u=k("Reason"),p=T(),d=$("span"),R=k(I)},l(E){e=b(E,"SPAN",{});var _=y(e);n=P(_,"Score"),_.forEach(c),r=M(E),o=b(E,"SPAN",{});var B=y(o);a=P(B,l),B.forEach(c),s=M(E),i=b(E,"SPAN",{});var m=y(i);u=P(m,"Reason"),m.forEach(c),p=M(E),d=b(E,"SPAN",{});var g=y(d);R=P(g,I),g.forEach(c)},m(E,_){w(E,e,_),f(e,n),w(E,r,_),w(E,o,_),f(o,a),w(E,s,_),w(E,i,_),f(i,u),w(E,p,_),w(E,d,_),f(d,R)},p(E,_){_&1&&l!==(l=E[4].score+"")&&K(a,l),_&1&&I!==(I=E[4].reason+"")&&K(R,I)},d(E){E&&c(e),E&&c(r),E&&c(o),E&&c(s),E&&c(i),E&&c(p),E&&c(d)}}}function Fn(t){let e,n=t[0]&&Mt(nt(t));return{c(){e=$("div"),n&&n.c(),this.h()},l(r){e=b(r,"DIV",{class:!0});var o=y(e);n&&n.l(o),o.forEach(c),this.h()},h(){q(e,"class","grid2cols svelte-1lw5ne4")},m(r,o){w(r,e,o),n&&n.m(e,null)},p(r,[o]){r[0]?n?n.p(nt(r),o):(n=Mt(nt(r)),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ve,o:ve,d(r){r&&c(e),n&&n.d()}}}function zn(t,e,n){let{historyItem:r}=e;return t.$$set=o=>{"historyItem"in o&&n(0,r=o.historyItem)},[r]}class Ht extends _e{constructor(e){super(),de(this,e,zn,Fn,me,{historyItem:0})}}function Ot(t){let e,n;return e=new Xn({props:{history:t[0].moveHistory}}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.history=r[0].moveHistory),e.$set(l)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Yn(t){let e,n,r,o,l,a=t[2](t[0])+"",s,i,u,p,d,I,R,E,_=t[1]?"Hide":"Show",B,m,g,A,H,z;p=new Ht({props:{historyItem:Ge(t[0],W.player)}}),I=new Ht({props:{historyItem:Ge(t[0],W.computer)}});let D=t[1]&&Ot(t);return{c(){e=$("div"),n=$("h4"),r=k("Game info"),o=T(),l=$("span"),s=k(a),i=T(),u=$("div"),te(p.$$.fragment),d=T(),te(I.$$.fragment),R=T(),E=$("button"),B=k(_),m=k(" move history"),g=T(),D&&D.c(),this.h()},l(N){e=b(N,"DIV",{});var v=y(e);n=b(v,"H4",{});var G=y(n);r=P(G,"Game info"),G.forEach(c),o=M(v),l=b(v,"SPAN",{});var X=y(l);s=P(X,a),X.forEach(c),i=M(v),u=b(v,"DIV",{class:!0});var V=y(u);ne(p.$$.fragment,V),d=M(V),ne(I.$$.fragment,V),V.forEach(c),R=M(v),E=b(v,"BUTTON",{});var Z=y(E);B=P(Z,_),m=P(Z," move history"),Z.forEach(c),g=M(v),D&&D.l(v),v.forEach(c),this.h()},h(){q(u,"class","grid2cols svelte-1lw5ne4")},m(N,v){w(N,e,v),f(e,n),f(n,r),f(e,o),f(e,l),f(l,s),f(e,i),f(e,u),re(p,u,null),f(u,d),re(I,u,null),f(e,R),f(e,E),f(E,B),f(E,m),f(e,g),D&&D.m(e,null),A=!0,H||(z=be(E,"click",t[3]),H=!0)},p(N,[v]){(!A||v&1)&&a!==(a=N[2](N[0])+"")&&K(s,a);const G={};v&1&&(G.historyItem=Ge(N[0],W.player)),p.$set(G);const X={};v&1&&(X.historyItem=Ge(N[0],W.computer)),I.$set(X),(!A||v&2)&&_!==(_=N[1]?"Hide":"Show")&&K(B,_),N[1]?D?(D.p(N,v),v&2&&Y(D,1)):(D=Ot(N),D.c(),Y(D,1),D.m(e,null)):D&&(Qe(),j(D,1,1,()=>{D=null}),Ze())},i(N){A||(Y(p.$$.fragment,N),Y(I.$$.fragment,N),Y(D),A=!0)},o(N){j(p.$$.fragment,N),j(I.$$.fragment,N),j(D),A=!1},d(N){N&&c(e),oe(p),oe(I),D&&D.d(),H=!1,z()}}}function Jn(t,e,n){let{game:r}=e,o=!0;const l=s=>!s||!s.state?"N/A":s.state==="not_over"?"Turn: "+(s.currentPlayer===W.player?"Player":"Computer"):s.state==="player_win"?"Player Win":s.state==="computer_win"?"Computer Win":s.state==="draw"?"Draw":s.state==="over"?"Game Over":"Invalid Game",a=()=>n(1,o=!o);return t.$$set=s=>{"game"in s&&n(0,r=s.game)},[r,o,l,a]}class jn extends _e{constructor(e){super(),de(this,e,Jn,Yn,me,{game:0})}}function Rt(t,e,n){const r=t.slice();return r[12]=e[n],r}function Dt(t){let e,n,r,o;return{c(){e=$("p"),n=k("Restarting in "),r=k(t[1]),o=k(" seconds")},l(l){e=b(l,"P",{});var a=y(e);n=P(a,"Restarting in "),r=P(a,t[1]),o=P(a," seconds"),a.forEach(c)},m(l,a){w(l,e,a),f(e,n),f(e,r),f(e,o)},p(l,a){a&2&&K(r,l[1])},d(l){l&&c(e)}}}function Gt(t){let e,n=t[12]+"",r,o;return{c(){e=$("option"),r=k(n),o=T(),this.h()},l(l){e=b(l,"OPTION",{});var a=y(e);r=P(a,n),o=M(a),a.forEach(c),this.h()},h(){e.__value=t[12],e.value=e.__value},m(l,a){w(l,e,a),f(e,r),f(e,o)},p:ve,d(l){l&&c(e)}}}function Vt(t){let e,n,r,o,l,a,s;return n=new Gn({props:{board:t[0].board,onClick:t[3]}}),o=new Kt({props:{board:t[0].board}}),a=new jn({props:{game:t[0]}}),{c(){e=$("div"),te(n.$$.fragment),r=T(),te(o.$$.fragment),l=T(),te(a.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=y(e);ne(n.$$.fragment,u),r=M(u),ne(o.$$.fragment,u),u.forEach(c),l=M(i),ne(a.$$.fragment,i),this.h()},h(){q(e,"class","grid2colsResponsive svelte-1epiyf5")},m(i,u){w(i,e,u),re(n,e,null),f(e,r),re(o,e,null),w(i,l,u),re(a,i,u),s=!0},p(i,u){const p={};u&1&&(p.board=i[0].board),n.$set(p);const d={};u&1&&(d.board=i[0].board),o.$set(d);const I={};u&1&&(I.game=i[0]),a.$set(I)},i(i){s||(Y(n.$$.fragment,i),Y(o.$$.fragment,i),Y(a.$$.fragment,i),s=!0)},o(i){j(n.$$.fragment,i),j(o.$$.fragment,i),j(a.$$.fragment,i),s=!1},d(i){i&&c(e),oe(n),oe(o),i&&c(l),oe(a,i)}}}function qn(t){let e,n,r,o,l,a,s,i,u,p,d,I,R,E,_,B,m,g,A,H,z,D,N,v,G,X,V=t[1]>0&&Dt(t),Z=Object.keys(lt),J=[];for(let C=0;C<Z.length;C+=1)J[C]=Gt(Rt(t,Z,C));let S=t[0].board&&Vt(t);return{c(){e=$("h2"),n=k("Game"),r=T(),o=$("div"),V&&V.c(),l=T(),a=$("label"),s=k("AI type"),i=T(),u=$("select");for(let C=0;C<J.length;C+=1)J[C].c();p=T(),d=$("div"),I=$("span"),R=k("Player automatic move"),E=T(),_=$("button"),B=k("Random move"),m=T(),g=$("button"),A=k("Hardcoded rules"),H=T(),z=$("button"),D=k("Complete hardcoded rules"),N=T(),S&&S.c(),this.h()},l(C){e=b(C,"H2",{});var F=y(e);n=P(F,"Game"),F.forEach(c),r=M(C),o=b(C,"DIV",{});var O=y(o);V&&V.l(O),l=M(O),a=b(O,"LABEL",{for:!0});var le=y(a);s=P(le,"AI type"),le.forEach(c),i=M(O),u=b(O,"SELECT",{id:!0});var ie=y(u);for(let ce=0;ce<J.length;ce+=1)J[ce].l(ie);ie.forEach(c),p=M(O),d=b(O,"DIV",{});var Q=y(d);I=b(Q,"SPAN",{});var ue=y(I);R=P(ue,"Player automatic move"),ue.forEach(c),E=M(Q),_=b(Q,"BUTTON",{});var se=y(_);B=P(se,"Random move"),se.forEach(c),m=M(Q),g=b(Q,"BUTTON",{});var fe=y(g);A=P(fe,"Hardcoded rules"),fe.forEach(c),H=M(Q),z=b(Q,"BUTTON",{});var he=y(z);D=P(he,"Complete hardcoded rules"),he.forEach(c),Q.forEach(c),N=M(O),S&&S.l(O),O.forEach(c),this.h()},h(){q(a,"for","aiType"),q(u,"id","aiType"),t[2]===void 0&&tn(()=>t[4].call(u))},m(C,F){w(C,e,F),f(e,n),w(C,r,F),w(C,o,F),V&&V.m(o,null),f(o,l),f(o,a),f(a,s),f(o,i),f(o,u);for(let O=0;O<J.length;O+=1)J[O].m(u,null);kt(u,t[2]),f(o,p),f(o,d),f(d,I),f(I,R),f(d,E),f(d,_),f(_,B),f(d,m),f(d,g),f(g,A),f(d,H),f(d,z),f(z,D),f(o,N),S&&S.m(o,null),v=!0,G||(X=[be(u,"change",t[4]),be(_,"click",t[5]),be(g,"click",t[6]),be(z,"click",t[7])],G=!0)},p(C,[F]){if(C[1]>0?V?V.p(C,F):(V=Dt(C),V.c(),V.m(o,l)):V&&(V.d(1),V=null),F&0){Z=Object.keys(lt);let O;for(O=0;O<Z.length;O+=1){const le=Rt(C,Z,O);J[O]?J[O].p(le,F):(J[O]=Gt(le),J[O].c(),J[O].m(u,null))}for(;O<J.length;O+=1)J[O].d(1);J.length=Z.length}F&4&&kt(u,C[2]),C[0].board?S?(S.p(C,F),F&1&&Y(S,1)):(S=Vt(C),S.c(),Y(S,1),S.m(o,null)):S&&(Qe(),j(S,1,1,()=>{S=null}),Ze())},i(C){v||(Y(S),v=!0)},o(C){j(S),v=!1},d(C){C&&c(e),C&&c(r),C&&c(o),V&&V.d(),Ut(J,C),S&&S.d(),G=!1,Xt(X)}}}function Kn(t,e,n){let r,o,l,a="hardcodedRulesComplete",s=!1;i();function i(){n(0,r=Cn(s?W.computer:W.player)),s&&tt(r,W.computer,a),o=r.currentPlayer,s=!s}const u=(_,B)=>{if(o===W.player){if(_==="manual"){if(!B)return;Tn(r,W.player,B)}else tt(r,W.player,_);n(0,r),o=r.currentPlayer,setTimeout(()=>{if(tt(r,W.computer,a),n(0,r),o=r.currentPlayer,r.state!=="not_over"){n(1,l=4);const m=setInterval(()=>{n(1,l--,l),l===0&&(i(),clearInterval(m))},1e3)}},500)}},p=(_,B)=>{u(_,B)};function d(){a=nn(this),n(2,a)}return[r,l,a,p,d,()=>p("random"),()=>p("hardcodedRules"),()=>p("hardcodedRulesComplete")]}class Qn extends _e{constructor(e){super(),de(this,e,Kn,qn,me,{})}}function Zn(t){let e,n,r,o,l,a,s,i,u,p,d,I,R,E,_,B,m,g,A,H,z,D,N,v,G,X,V,Z,J;return l=new Ft({props:{sketch:t[6]}}),X=new Kt({props:{board:t[1],lastMove:t[3]}}),{c(){e=$("h2"),n=k("Analyzer"),r=T(),o=$("div"),te(l.$$.fragment),a=T(),s=$("div"),i=$("h4"),u=k("Controls"),p=T(),d=$("button"),I=k("Play O"),E=T(),_=$("button"),B=k("Play X"),g=T(),A=$("button"),H=k("Previous"),D=T(),N=$("button"),v=k("Reset"),G=T(),te(X.$$.fragment),this.h()},l(S){e=b(S,"H2",{});var C=y(e);n=P(C,"Analyzer"),C.forEach(c),r=M(S),o=b(S,"DIV",{});var F=y(o);ne(l.$$.fragment,F),a=M(F),s=b(F,"DIV",{});var O=y(s);i=b(O,"H4",{});var le=y(i);u=P(le,"Controls"),le.forEach(c),p=M(O),d=b(O,"BUTTON",{});var ie=y(d);I=P(ie,"Play O"),ie.forEach(c),E=M(O),_=b(O,"BUTTON",{});var Q=y(_);B=P(Q,"Play X"),Q.forEach(c),g=M(O),A=b(O,"BUTTON",{});var ue=y(A);H=P(ue,"Previous"),ue.forEach(c),D=M(O),N=b(O,"BUTTON",{});var se=y(N);v=P(se,"Reset"),se.forEach(c),O.forEach(c),G=M(F),ne(X.$$.fragment,F),F.forEach(c),this.h()},h(){d.disabled=R=t[2]===W.player,_.disabled=m=t[2]===W.computer,A.disabled=z=(t[0]||[]).length<2},m(S,C){w(S,e,C),f(e,n),w(S,r,C),w(S,o,C),re(l,o,null),f(o,a),f(o,s),f(s,i),f(i,u),f(s,p),f(s,d),f(d,I),f(s,E),f(s,_),f(_,B),f(s,g),f(s,A),f(A,H),f(s,D),f(s,N),f(N,v),f(o,G),re(X,o,null),V=!0,Z||(J=[be(d,"click",t[7]),be(_,"click",t[8]),be(A,"click",t[5]),be(N,"click",t[4])],Z=!0)},p(S,[C]){(!V||C&4&&R!==(R=S[2]===W.player))&&(d.disabled=R),(!V||C&4&&m!==(m=S[2]===W.computer))&&(_.disabled=m),(!V||C&1&&z!==(z=(S[0]||[]).length<2))&&(A.disabled=z);const F={};C&2&&(F.board=S[1]),C&8&&(F.lastMove=S[3]),X.$set(F)},i(S){V||(Y(l.$$.fragment,S),Y(X.$$.fragment,S),V=!0)},o(S){j(l.$$.fragment,S),j(X.$$.fragment,S),V=!1},d(S){S&&c(e),S&&c(r),S&&c(o),oe(l),oe(X),Z=!1,Xt(J)}}}function xn(t,e,n){let r,o,l,a=W.player,s;function i(_,B){Re(l,_,ge(B)),n(3,s=B),n(1,l),o.push({...l}),n(0,o),u()}function u(){n(2,a=a===W.player?W.computer:W.player)}function p(){n(1,l=Yt()),n(0,o=[{...l}]),n(3,s={x:-1,y:-1})}function d(){o.length<=1||(o.pop(),n(0,o),n(1,l={...o[o.length-1]}))}const I=_=>{_.setup=()=>{r=_,_.createCanvas(400,400),p()},_.draw=()=>{_.background(0),qt(_,l,{drawSelection:!0,selection:st(_),currentPlayer:a})},_.mousePressed=()=>{if(_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height)return;const B=st(_);i(a,B)}};return at(()=>{r==null||r.remove()}),[o,l,a,s,p,d,I,()=>n(2,a=W.player),()=>n(2,a=W.computer)]}class er extends _e{constructor(e){super(),de(this,e,xn,Zn,me,{})}}function tr(t){let e;return{c(){e=k("Game")},l(n){e=P(n,"Game")},m(n,r){w(n,e,r)},d(n){n&&c(e)}}}function nr(t){let e;return{c(){e=k("Analyzer")},l(n){e=P(n,"Analyzer")},m(n,r){w(n,e,r)},d(n){n&&c(e)}}}function rr(t){let e,n,r,o;return e=new Pt({props:{$$slots:{default:[tr]},$$scope:{ctx:t}}}),r=new Pt({props:{$$slots:{default:[nr]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),n=T(),te(r.$$.fragment)},l(l){ne(e.$$.fragment,l),n=M(l),ne(r.$$.fragment,l)},m(l,a){re(e,l,a),w(l,n,a),re(r,l,a),o=!0},p(l,a){const s={};a&1&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const i={};a&1&&(i.$$scope={dirty:a,ctx:l}),r.$set(i)},i(l){o||(Y(e.$$.fragment,l),Y(r.$$.fragment,l),o=!0)},o(l){j(e.$$.fragment,l),j(r.$$.fragment,l),o=!1},d(l){oe(e,l),l&&c(n),oe(r,l)}}}function or(t){let e,n;return e=new Qn({}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function lr(t){let e,n;return e=new er({}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function sr(t){let e,n,r,o,l,a;return e=new _n({props:{$$slots:{default:[rr]},$$scope:{ctx:t}}}),r=new Et({props:{$$slots:{default:[or]},$$scope:{ctx:t}}}),l=new Et({props:{$$slots:{default:[lr]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),n=T(),te(r.$$.fragment),o=T(),te(l.$$.fragment)},l(s){ne(e.$$.fragment,s),n=M(s),ne(r.$$.fragment,s),o=M(s),ne(l.$$.fragment,s)},m(s,i){re(e,s,i),w(s,n,i),re(r,s,i),w(s,o,i),re(l,s,i),a=!0},p(s,i){const u={};i&1&&(u.$$scope={dirty:i,ctx:s}),e.$set(u);const p={};i&1&&(p.$$scope={dirty:i,ctx:s}),r.$set(p);const d={};i&1&&(d.$$scope={dirty:i,ctx:s}),l.$set(d)},i(s){a||(Y(e.$$.fragment,s),Y(r.$$.fragment,s),Y(l.$$.fragment,s),a=!0)},o(s){j(e.$$.fragment,s),j(r.$$.fragment,s),j(l.$$.fragment,s),a=!1},d(s){oe(e,s),s&&c(n),oe(r,s),s&&c(o),oe(l,s)}}}function ar(t){let e,n;return e=new an({props:{$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p(r,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}class ir extends _e{constructor(e){super(),de(this,e,null,ar,me,{})}}function fr(t){let e,n;return e=new ir({}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p:ve,i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}class _r extends _e{constructor(e){super(),de(this,e,null,fr,me,{})}}export{_r as default};
