import{S as te,i as ne,s as le,C as Ue,k as v,l as b,m as g,h as p,n as O,b as D,N as _e,E as Ye,F as qe,G as je,f as V,t as R,H as me,a0 as ln,o as jt,j as sn,W as $t,I as Vt,a1 as Jt,A as rn,$ as an,g as on,d as fn,q as y,a as S,r as P,c as k,D as i,B as pt,u as q,w as j,x as J,y as K,z as Q,P as un}from"../../../chunks/index-1d785069.js";import{w as De}from"../../../chunks/index-c5a64178.js";import{P as Kt}from"../../../chunks/P5-76a6b36f.js";let cn=1;function Qt(){return`svelte-tabs-${cn++}`}function pn(t){let e,s,n,l;const r=t[4].default,o=Ue(r,t,t[3],null);return{c(){e=v("div"),o&&o.c(),this.h()},l(a){e=b(a,"DIV",{class:!0});var f=g(e);o&&o.l(f),f.forEach(p),this.h()},h(){O(e,"class","svelte-tabs")},m(a,f){D(a,e,f),o&&o.m(e,null),s=!0,n||(l=_e(e,"keydown",t[1]),n=!0)},p(a,[f]){o&&o.p&&(!s||f&8)&&Ye(o,r,a,a[3],s?je(r,a[3],f,null):qe(a[3]),null)},i(a){s||(V(o,a),s=!0)},o(a){R(o,a),s=!1},d(a){a&&p(e),o&&o.d(a),n=!1,l()}}}const vt={};function dn(t,e,s){const n=t.indexOf(e);t.splice(n,1),s.update(l=>l===e?t[n]||t[t.length-1]:l)}function _n(t,e,s){let n,{$$slots:l={},$$scope:r}=e,{initialSelectedIndex:o=0}=e;const a=[],f=[],d=[],m=De({}),h=De({}),w=De(null);me(t,w,c=>s(5,n=c));const B=De(null);function E(c,_,I){c.push(_),I.update(C=>C||_),$t(()=>dn(c,_,I))}function u(c){const _=f.indexOf(c);w.set(c),B.set(d[_])}ln(vt,{registerTab(c){E(f,c,w)},registerTabElement(c){a.push(c)},registerPanel(c){E(d,c,B)},selectTab:u,selectedTab:w,selectedPanel:B,controls:m,labeledBy:h}),jt(()=>{u(f[o])}),sn(()=>{for(let c=0;c<f.length;c++)m.update(_=>({..._,[f[c].id]:d[c].id})),h.update(_=>({..._,[d[c].id]:f[c].id}))});async function $(c){if(c.target.classList.contains("svelte-tabs__tab")){let _=f.indexOf(n);switch(c.key){case"ArrowRight":_+=1,_>f.length-1&&(_=0),u(f[_]),a[_].focus();break;case"ArrowLeft":_-=1,_<0&&(_=f.length-1),u(f[_]),a[_].focus()}}}return t.$$set=c=>{"initialSelectedIndex"in c&&s(2,o=c.initialSelectedIndex),"$$scope"in c&&s(3,r=c.$$scope)},[w,$,o,r,l]}class mn extends te{constructor(e){super(),ne(this,e,_n,pn,le,{initialSelectedIndex:2})}}function hn(t){let e,s,n,l,r,o;const a=t[9].default,f=Ue(a,t,t[8],null);return{c(){e=v("li"),f&&f.c(),this.h()},l(d){e=b(d,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var m=g(e);f&&f.l(m),m.forEach(p),this.h()},h(){O(e,"role","tab"),O(e,"id",t[3].id),O(e,"aria-controls",s=t[2][t[3].id]),O(e,"aria-selected",t[1]),O(e,"tabindex",n=t[1]?0:-1),O(e,"class","svelte-tabs__tab svelte-1fbofsd"),Vt(e,"svelte-tabs__selected",t[1])},m(d,m){D(d,e,m),f&&f.m(e,null),t[10](e),l=!0,r||(o=_e(e,"click",t[11]),r=!0)},p(d,[m]){f&&f.p&&(!l||m&256)&&Ye(f,a,d,d[8],l?je(a,d[8],m,null):qe(d[8]),null),(!l||m&4&&s!==(s=d[2][d[3].id]))&&O(e,"aria-controls",s),(!l||m&2)&&O(e,"aria-selected",d[1]),(!l||m&2&&n!==(n=d[1]?0:-1))&&O(e,"tabindex",n),(!l||m&2)&&Vt(e,"svelte-tabs__selected",d[1])},i(d){l||(V(f,d),l=!0)},o(d){R(f,d),l=!1},d(d){d&&p(e),f&&f.d(d),t[10](null),r=!1,o()}}}function $n(t,e,s){let n,l,{$$slots:r={},$$scope:o}=e,a;const f={id:Qt()},{registerTab:d,registerTabElement:m,selectTab:h,selectedTab:w,controls:B}=Jt(vt);me(t,w,c=>s(7,n=c)),me(t,B,c=>s(2,l=c));let E;d(f),jt(async()=>{await rn(),m(a)});function u(c){an[c?"unshift":"push"](()=>{a=c,s(0,a)})}const $=()=>h(f);return t.$$set=c=>{"$$scope"in c&&s(8,o=c.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&s(1,E=n===f)},[a,E,l,f,h,w,B,n,o,r,u,$]}class Rt extends te{constructor(e){super(),ne(this,e,$n,hn,le,{})}}function vn(t){let e,s;const n=t[1].default,l=Ue(n,t,t[0],null);return{c(){e=v("ul"),l&&l.c(),this.h()},l(r){e=b(r,"UL",{role:!0,class:!0});var o=g(e);l&&l.l(o),o.forEach(p),this.h()},h(){O(e,"role","tablist"),O(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(r,o){D(r,e,o),l&&l.m(e,null),s=!0},p(r,[o]){l&&l.p&&(!s||o&1)&&Ye(l,n,r,r[0],s?je(n,r[0],o,null):qe(r[0]),null)},i(r){s||(V(l,r),s=!0)},o(r){R(l,r),s=!1},d(r){r&&p(e),l&&l.d(r)}}}function bn(t,e,s){let{$$slots:n={},$$scope:l}=e;return t.$$set=r=>{"$$scope"in r&&s(0,l=r.$$scope)},[l,n]}class gn extends te{constructor(e){super(),ne(this,e,bn,vn,le,{})}}function Xt(t){let e;const s=t[6].default,n=Ue(s,t,t[5],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,r){n&&n.m(l,r),e=!0},p(l,r){n&&n.p&&(!e||r&32)&&Ye(n,s,l,l[5],e?je(s,l[5],r,null):qe(l[5]),null)},i(l){e||(V(n,l),e=!0)},o(l){R(n,l),e=!1},d(l){n&&n.d(l)}}}function yn(t){let e,s,n,l=t[1]===t[2]&&Xt(t);return{c(){e=v("div"),l&&l.c(),this.h()},l(r){e=b(r,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var o=g(e);l&&l.l(o),o.forEach(p),this.h()},h(){O(e,"id",t[2].id),O(e,"aria-labelledby",s=t[0][t[2].id]),O(e,"class","svelte-tabs__tab-panel svelte-epfyet"),O(e,"role","tabpanel")},m(r,o){D(r,e,o),l&&l.m(e,null),n=!0},p(r,[o]){r[1]===r[2]?l?(l.p(r,o),o&2&&V(l,1)):(l=Xt(r),l.c(),V(l,1),l.m(e,null)):l&&(on(),R(l,1,1,()=>{l=null}),fn()),(!n||o&1&&s!==(s=r[0][r[2].id]))&&O(e,"aria-labelledby",s)},i(r){n||(V(l),n=!0)},o(r){R(l),n=!1},d(r){r&&p(e),l&&l.d()}}}function Pn(t,e,s){let n,l,{$$slots:r={},$$scope:o}=e;const a={id:Qt()},{registerPanel:f,selectedPanel:d,labeledBy:m}=Jt(vt);return me(t,d,h=>s(1,l=h)),me(t,m,h=>s(0,n=h)),f(a),t.$$set=h=>{"$$scope"in h&&s(5,o=h.$$scope)},[n,l,a,d,m,o,r]}class Wt extends te{constructor(e){super(),ne(this,e,Pn,yn,le,{})}}function Zt(t){const{x:e,y:s}=t;if(e<0||e>2||s<0||s>2)throw new Error(`Invalid coords (${e},${s})`);return 8-(3*s+e)}function wn(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const En=[448,56,7,292,146,73,273,84],Sn=[{p:256,o:192},{p:32,o:24},{p:4,o:3},{p:128,o:320},{p:16,o:40},{p:2,o:5},{p:64,o:384},{p:8,o:48},{p:1,o:6},{p:256,o:36},{p:128,o:18},{p:64,o:9},{p:32,o:260},{p:16,o:130},{p:8,o:65},{p:4,o:288},{p:2,o:144},{p:1,o:72},{p:256,o:17},{p:16,o:257},{p:1,o:272},{p:64,o:20},{p:16,o:68},{p:4,o:80}],dt=(t,e)=>(t&e)===e;function Gt(t){let e=t,s=0;for(;e;)s+=e&1,e>>=1;return s}function Fe(t,e){const s=Zt(e);return!(t&1<<s)}function Ht(t,e){const s=Zt(e);return t+2**s}const _t=t=>{for(const e of En)if(dt(t,e))return!0;return!1};var A=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(A||{});function xt(){return{player:0,computer:0}}function en(t,e){return e===A.player?t.player:t.computer}function kn(t,e){return e===A.player?t.computer:t.player}function Oe(t,e){if(!e&&!An(t))return"invalid_board";const s=_t(t.player),n=_t(t.computer);return s&&n?"draw":s?"player_win":n?"computer_win":Nn(t)?"not_over":"over"}function mt(t,e,s){if(!In(t,s))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(s)} `);e===A.player?t.player=Ht(t.player,s):t.computer=Ht(t.computer,s)}function An(t){if(t.player&t.computer)return!1;const e=Gt(t.player),s=Gt(t.computer);return!(Math.abs(e-s)>1)}function In(t,e){return Fe(t.player,e)&&Fe(t.computer,e)}function Nn(t){return(t.player|t.computer)!==511}function Tn(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const s=[];let n=0;for(;n<9;)e&1||s.push(n),n++,e>>=1;return s}function tn(t,e,s){const n=t.width/3,l=t.height/3,{height:r,width:o}=t,{drawSelection:a,selection:f,currentPlayer:d}=s||{};t.noFill(),t.stroke(255),t.line(n,0,n,r),t.line(n*2,0,n*2,r),t.line(0,l,o,l),t.line(0,l*2,o,l*2);for(let m=0;m<3;m++)for(let h=0;h<3;h++)(!Fe(e.player,{x:h,y:m})||a&&d===A.player&&(f==null?void 0:f.x)===h&&(f==null?void 0:f.y)===m)&&(t.stroke("blue"),t.circle(h*n+n/2,m*l+l/2,l/2)),(!Fe(e.computer,{x:h,y:m})||a&&d===A.computer&&(f==null?void 0:f.x)===h&&(f==null?void 0:f.y)===m)&&(t.stroke("red"),t.line(h*n+n*.3,m*l+l*.3,h*n+n*.7,m*l+l*.7),t.line(h*n+n*.7,m*l+l*.3,h*n+n*.3,m*l+l*.7))}function ht(t){const{mouseX:e,mouseY:s,width:n,height:l}=t,r=Math.floor(t.map(e,0,n,0,3)),o=Math.floor(t.map(s,0,l,0,3));return{x:r,y:o}}function Bn(t){const e=Tn(t);if(e.length===0)throw new Error("No available moves");const s=Math.floor(Math.random()*e.length),n=e[s];return wn(n)}function Le(t,e){const s=en(t,e);return _t(s)}function ze(t,e){const s=en(t,e),n=kn(t,e);for(const{o:l,p:r}of Sn)if(dt(s,r)&&dt(n,l))return!0;return!1}function Lt(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function zt(t){var bt,gt;let e,s,n,l,r,o=Oe(t[0])+"",a,f,d,m,h,w,B=((bt=t[1])==null?void 0:bt.x)+"",E,u,$=((gt=t[1])==null?void 0:gt.y)+"",c,_,I=Lt(t[1])?"✅":"❌",C,H,oe,M,x,ie,z,Z,fe,ee,N,X=t[0].player.toString(2).padStart(9,"0")+"",L,F,se,re=t[0].player+"",ue,pe,ae,Je,he,$e=Le(t[0],A.player)?"✅":"❌",Ve,Ke,ve,Qe,Ze,be,ge=ze(t[0],A.player)?"✅":"❌",Re,xe,W,ye,et,Pe,tt,nt,de,lt,we=t[0].computer.toString(2).padStart(9,"0")+"",Xe,st,Ee,Se=t[0].computer+"",We,rt,ke,at,Ae,Ie=Le(t[0],A.computer)?"✅":"❌",Ge,ot,Ne,it,ft,Te,Be=ze(t[0],A.computer)?"✅":"❌",He;return{c(){e=v("div"),s=v("span"),n=y("State:"),l=S(),r=v("span"),a=y(o),f=S(),d=v("span"),m=y("Last move"),h=S(),w=v("span"),E=y(B),u=y(","),c=y($),_=y(`
                (center `),C=y(I),H=y(")"),oe=S(),M=v("div"),x=v("span"),ie=y("Player 1"),z=v("span"),Z=y("Player, O"),fe=S(),ee=v("span"),N=y("0b"),L=y(X),F=S(),se=v("span"),ue=y(re),pe=S(),ae=v("span"),Je=y("Wins"),he=v("span"),Ve=y($e),Ke=S(),ve=v("span"),Qe=y("Blocks opponent"),Ze=S(),be=v("span"),Re=y(ge),xe=S(),W=v("div"),ye=v("span"),et=y("Player 2"),Pe=v("span"),tt=y("Computer, X"),nt=S(),de=v("span"),lt=y("0b"),Xe=y(we),st=S(),Ee=v("span"),We=y(Se),rt=S(),ke=v("span"),at=y("Wins"),Ae=v("span"),Ge=y(Ie),ot=S(),Ne=v("span"),it=y("Blocks opponent"),ft=S(),Te=v("span"),He=y(Be),this.h()},l(G){e=b(G,"DIV",{class:!0});var T=g(e);s=b(T,"SPAN",{});var Me=g(s);n=P(Me,"State:"),Me.forEach(p),l=k(T),r=b(T,"SPAN",{});var Ce=g(r);a=P(Ce,o),Ce.forEach(p),f=k(T),d=b(T,"SPAN",{});var yt=g(d);m=P(yt,"Last move"),yt.forEach(p),h=k(T),w=b(T,"SPAN",{});var ce=g(w);E=P(ce,B),u=P(ce,","),c=P(ce,$),_=P(ce,`
                (center `),C=P(ce,I),H=P(ce,")"),ce.forEach(p),oe=k(T),M=b(T,"DIV",{class:!0});var U=g(M);x=b(U,"SPAN",{});var Pt=g(x);ie=P(Pt,"Player 1"),Pt.forEach(p),z=b(U,"SPAN",{});var wt=g(z);Z=P(wt,"Player, O"),wt.forEach(p),fe=k(U),ee=b(U,"SPAN",{});var ut=g(ee);N=P(ut,"0b"),L=P(ut,X),ut.forEach(p),F=k(U),se=b(U,"SPAN",{});var Et=g(se);ue=P(Et,re),Et.forEach(p),pe=k(U),ae=b(U,"SPAN",{});var St=g(ae);Je=P(St,"Wins"),St.forEach(p),he=b(U,"SPAN",{});var kt=g(he);Ve=P(kt,$e),kt.forEach(p),Ke=k(U),ve=b(U,"SPAN",{});var At=g(ve);Qe=P(At,"Blocks opponent"),At.forEach(p),Ze=k(U),be=b(U,"SPAN",{});var It=g(be);Re=P(It,ge),It.forEach(p),U.forEach(p),xe=k(T),W=b(T,"DIV",{class:!0});var Y=g(W);ye=b(Y,"SPAN",{});var Nt=g(ye);et=P(Nt,"Player 2"),Nt.forEach(p),Pe=b(Y,"SPAN",{});var Tt=g(Pe);tt=P(Tt,"Computer, X"),Tt.forEach(p),nt=k(Y),de=b(Y,"SPAN",{});var ct=g(de);lt=P(ct,"0b"),Xe=P(ct,we),ct.forEach(p),st=k(Y),Ee=b(Y,"SPAN",{});var Bt=g(Ee);We=P(Bt,Se),Bt.forEach(p),rt=k(Y),ke=b(Y,"SPAN",{});var Mt=g(ke);at=P(Mt,"Wins"),Mt.forEach(p),Ae=b(Y,"SPAN",{});var Ct=g(Ae);Ge=P(Ct,Ie),Ct.forEach(p),ot=k(Y),Ne=b(Y,"SPAN",{});var Dt=g(Ne);it=P(Dt,"Blocks opponent"),Dt.forEach(p),ft=k(Y),Te=b(Y,"SPAN",{});var Ot=g(Te);He=P(Ot,Be),Ot.forEach(p),Y.forEach(p),T.forEach(p),this.h()},h(){O(M,"class","grid2cols svelte-1lw5ne4"),O(W,"class","grid2cols svelte-1lw5ne4"),O(e,"class","grid2cols svelte-1lw5ne4")},m(G,T){D(G,e,T),i(e,s),i(s,n),i(e,l),i(e,r),i(r,a),i(e,f),i(e,d),i(d,m),i(e,h),i(e,w),i(w,E),i(w,u),i(w,c),i(w,_),i(w,C),i(w,H),i(e,oe),i(e,M),i(M,x),i(x,ie),i(M,z),i(z,Z),i(M,fe),i(M,ee),i(ee,N),i(ee,L),i(M,F),i(M,se),i(se,ue),i(M,pe),i(M,ae),i(ae,Je),i(M,he),i(he,Ve),i(M,Ke),i(M,ve),i(ve,Qe),i(M,Ze),i(M,be),i(be,Re),i(e,xe),i(e,W),i(W,ye),i(ye,et),i(W,Pe),i(Pe,tt),i(W,nt),i(W,de),i(de,lt),i(de,Xe),i(W,st),i(W,Ee),i(Ee,We),i(W,rt),i(W,ke),i(ke,at),i(W,Ae),i(Ae,Ge),i(W,ot),i(W,Ne),i(Ne,it),i(W,ft),i(W,Te),i(Te,He)},p(G,T){var Me,Ce;T&1&&o!==(o=Oe(G[0])+"")&&q(a,o),T&2&&B!==(B=((Me=G[1])==null?void 0:Me.x)+"")&&q(E,B),T&2&&$!==($=((Ce=G[1])==null?void 0:Ce.y)+"")&&q(c,$),T&2&&I!==(I=Lt(G[1])?"✅":"❌")&&q(C,I),T&1&&X!==(X=G[0].player.toString(2).padStart(9,"0")+"")&&q(L,X),T&1&&re!==(re=G[0].player+"")&&q(ue,re),T&1&&$e!==($e=Le(G[0],A.player)?"✅":"❌")&&q(Ve,$e),T&1&&ge!==(ge=ze(G[0],A.player)?"✅":"❌")&&q(Re,ge),T&1&&we!==(we=G[0].computer.toString(2).padStart(9,"0")+"")&&q(Xe,we),T&1&&Se!==(Se=G[0].computer+"")&&q(We,Se),T&1&&Ie!==(Ie=Le(G[0],A.computer)?"✅":"❌")&&q(Ge,Ie),T&1&&Be!==(Be=ze(G[0],A.computer)?"✅":"❌")&&q(He,Be)},d(G){G&&p(e)}}}function Mn(t){let e,s,n,l,r=t[0]&&zt(t);return{c(){e=v("div"),s=v("h4"),n=y("Board info"),l=S(),r&&r.c()},l(o){e=b(o,"DIV",{});var a=g(e);s=b(a,"H4",{});var f=g(s);n=P(f,"Board info"),f.forEach(p),l=k(a),r&&r.l(a),a.forEach(p)},m(o,a){D(o,e,a),i(e,s),i(s,n),i(e,l),r&&r.m(e,null)},p(o,[a]){o[0]?r?r.p(o,a):(r=zt(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:pt,o:pt,d(o){o&&p(e),r&&r.d()}}}function Cn(t,e,s){let{board:n}=e,{lastMove:l}=e;return t.$$set=r=>{"board"in r&&s(0,n=r.board),"lastMove"in r&&s(1,l=r.lastMove)},[n,l]}class nn extends te{constructor(e){super(),ne(this,e,Cn,Mn,le,{board:0,lastMove:1})}}function Ft(t){let e,s;return{c(){e=v("span"),s=y("Player wins!")},l(n){e=b(n,"SPAN",{});var l=g(e);s=P(l,"Player wins!"),l.forEach(p)},m(n,l){D(n,e,l),i(e,s)},d(n){n&&p(e)}}}function Ut(t){let e,s;return{c(){e=v("span"),s=y("Computer wins!")},l(n){e=b(n,"SPAN",{});var l=g(e);s=P(l,"Computer wins!"),l.forEach(p)},m(n,l){D(n,e,l),i(e,s)},d(n){n&&p(e)}}}function Yt(t){let e,s;return{c(){e=v("span"),s=y("Draw")},l(n){e=b(n,"SPAN",{});var l=g(e);s=P(l,"Draw"),l.forEach(p)},m(n,l){D(n,e,l),i(e,s)},d(n){n&&p(e)}}}function qt(t){let e,s,n,l;return{c(){e=v("span"),s=y("Restarting in "),n=y(t[2]),l=y(" seconds")},l(r){e=b(r,"SPAN",{});var o=g(e);s=P(o,"Restarting in "),n=P(o,t[2]),l=P(o," seconds"),o.forEach(p)},m(r,o){D(r,e,o),i(e,s),i(e,n),i(e,l)},p(r,o){o&4&&q(n,r[2])},d(r){r&&p(e)}}}function Dn(t){let e,s,n,l,r,o,a,f,d,m,h,w,B;r=new Kt({props:{sketch:t[5]}});let E=t[3]==="player_win"&&Ft(),u=t[3]==="computer_win"&&Ut(),$=t[3]==="draw"&&Yt(),c=t[2]>0&&qt(t);return w=new nn({props:{board:t[0],lastMove:t[1]}}),{c(){e=v("h2"),s=y("Game"),n=S(),l=v("div"),j(r.$$.fragment),o=S(),a=v("div"),E&&E.c(),f=S(),u&&u.c(),d=S(),$&&$.c(),m=S(),c&&c.c(),h=S(),j(w.$$.fragment)},l(_){e=b(_,"H2",{});var I=g(e);s=P(I,"Game"),I.forEach(p),n=k(_),l=b(_,"DIV",{});var C=g(l);J(r.$$.fragment,C),o=k(C),a=b(C,"DIV",{});var H=g(a);E&&E.l(H),f=k(H),u&&u.l(H),d=k(H),$&&$.l(H),m=k(H),c&&c.l(H),H.forEach(p),h=k(C),J(w.$$.fragment,C),C.forEach(p)},m(_,I){D(_,e,I),i(e,s),D(_,n,I),D(_,l,I),K(r,l,null),i(l,o),i(l,a),E&&E.m(a,null),i(a,f),u&&u.m(a,null),i(a,d),$&&$.m(a,null),i(a,m),c&&c.m(a,null),i(l,h),K(w,l,null),B=!0},p(_,[I]){_[3]==="player_win"?E||(E=Ft(),E.c(),E.m(a,f)):E&&(E.d(1),E=null),_[3]==="computer_win"?u||(u=Ut(),u.c(),u.m(a,d)):u&&(u.d(1),u=null),_[3]==="draw"?$||($=Yt(),$.c(),$.m(a,m)):$&&($.d(1),$=null),_[2]>0?c?c.p(_,I):(c=qt(_),c.c(),c.m(a,null)):c&&(c.d(1),c=null);const C={};I&1&&(C.board=_[0]),I&2&&(C.lastMove=_[1]),w.$set(C)},i(_){B||(V(r.$$.fragment,_),V(w.$$.fragment,_),B=!0)},o(_){R(r.$$.fragment,_),R(w.$$.fragment,_),B=!1},d(_){_&&p(e),_&&p(n),_&&p(l),Q(r),E&&E.d(),u&&u.d(),$&&$.d(),c&&c.d(),Q(w)}}}function On(t,e,s){let n,l,r,o,a;const f=De();me(t,f,u=>s(3,n=u));let d=0;function m(u,$){n==="not_over"&&(mt(r,u,$),s(1,a=$),s(0,r),f.set(Oe(r)),w())}function h(u){n==="not_over"&&setTimeout(()=>{const $=Bn(r);s(1,a=$),mt(r,u,$),s(0,r),f.set(Oe(r)),w()},500)}function w(){o=o===A.player?A.computer:A.player}function B(){s(0,r=xt()),o=A.player,f.set(Oe(r)),s(1,a={x:-1,y:-1})}const E=u=>{u.setup=()=>{l=u,u.createCanvas(400,400),B()},u.draw=()=>{u.background(0),tn(u,r)},u.mousePressed=()=>{if(!(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)&&o===A.player){const $=ht(u);m(A.player,$),h(A.computer)}}};return f.subscribe(u=>{if(!u||u==="not_over")return;s(2,d=4);const $=setInterval(()=>{s(2,d--,d),d===0&&(B(),clearInterval($))},1e3)}),$t(()=>{l==null||l.remove()}),[r,a,d,n,f,E]}class Vn extends te{constructor(e){super(),ne(this,e,On,Dn,le,{})}}function Rn(t){let e,s,n,l,r,o,a,f,d,m,h,w,B,E,u,$,c,_,I,C,H,oe,M,x,ie,z,Z,fe,ee;return r=new Kt({props:{sketch:t[6]}}),z=new nn({props:{board:t[1],lastMove:t[3]}}),{c(){e=v("h2"),s=y("Analyzer"),n=S(),l=v("div"),j(r.$$.fragment),o=S(),a=v("div"),f=v("h4"),d=y("Controls"),m=S(),h=v("button"),w=y("Play O"),E=S(),u=v("button"),$=y("Play X"),_=S(),I=v("button"),C=y("Previous"),oe=S(),M=v("button"),x=y("Reset"),ie=S(),j(z.$$.fragment),this.h()},l(N){e=b(N,"H2",{});var X=g(e);s=P(X,"Analyzer"),X.forEach(p),n=k(N),l=b(N,"DIV",{});var L=g(l);J(r.$$.fragment,L),o=k(L),a=b(L,"DIV",{});var F=g(a);f=b(F,"H4",{});var se=g(f);d=P(se,"Controls"),se.forEach(p),m=k(F),h=b(F,"BUTTON",{});var re=g(h);w=P(re,"Play O"),re.forEach(p),E=k(F),u=b(F,"BUTTON",{});var ue=g(u);$=P(ue,"Play X"),ue.forEach(p),_=k(F),I=b(F,"BUTTON",{});var pe=g(I);C=P(pe,"Previous"),pe.forEach(p),oe=k(F),M=b(F,"BUTTON",{});var ae=g(M);x=P(ae,"Reset"),ae.forEach(p),F.forEach(p),ie=k(L),J(z.$$.fragment,L),L.forEach(p),this.h()},h(){h.disabled=B=t[2]===A.player,u.disabled=c=t[2]===A.computer,I.disabled=H=(t[0]||[]).length<2},m(N,X){D(N,e,X),i(e,s),D(N,n,X),D(N,l,X),K(r,l,null),i(l,o),i(l,a),i(a,f),i(f,d),i(a,m),i(a,h),i(h,w),i(a,E),i(a,u),i(u,$),i(a,_),i(a,I),i(I,C),i(a,oe),i(a,M),i(M,x),i(l,ie),K(z,l,null),Z=!0,fe||(ee=[_e(h,"click",t[7]),_e(u,"click",t[8]),_e(I,"click",t[5]),_e(M,"click",t[4])],fe=!0)},p(N,[X]){(!Z||X&4&&B!==(B=N[2]===A.player))&&(h.disabled=B),(!Z||X&4&&c!==(c=N[2]===A.computer))&&(u.disabled=c),(!Z||X&1&&H!==(H=(N[0]||[]).length<2))&&(I.disabled=H);const L={};X&2&&(L.board=N[1]),X&8&&(L.lastMove=N[3]),z.$set(L)},i(N){Z||(V(r.$$.fragment,N),V(z.$$.fragment,N),Z=!0)},o(N){R(r.$$.fragment,N),R(z.$$.fragment,N),Z=!1},d(N){N&&p(e),N&&p(n),N&&p(l),Q(r),Q(z),fe=!1,un(ee)}}}function Xn(t,e,s){let n,l,r,o=A.player,a;function f(u,$){mt(r,u,$),s(3,a=$),s(1,r),l.push({...r}),s(0,l),d()}function d(){s(2,o=o===A.player?A.computer:A.player)}function m(){s(1,r=xt()),s(0,l=[{...r}]),s(3,a={x:-1,y:-1})}function h(){l.length<=1||(l.pop(),s(0,l),s(1,r={...l[l.length-1]}))}const w=u=>{u.setup=()=>{n=u,u.createCanvas(400,400),m()},u.draw=()=>{u.background(0),tn(u,r,{drawSelection:!0,selection:ht(u),currentPlayer:o})},u.mousePressed=()=>{if(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)return;const $=ht(u);f(o,$)}};return $t(()=>{n==null||n.remove()}),[l,r,o,a,m,h,w,()=>s(2,o=A.player),()=>s(2,o=A.computer)]}class Wn extends te{constructor(e){super(),ne(this,e,Xn,Rn,le,{})}}function Gn(t){let e;return{c(){e=y("Game")},l(s){e=P(s,"Game")},m(s,n){D(s,e,n)},d(s){s&&p(e)}}}function Hn(t){let e;return{c(){e=y("Analyzer")},l(s){e=P(s,"Analyzer")},m(s,n){D(s,e,n)},d(s){s&&p(e)}}}function Ln(t){let e,s,n,l;return e=new Rt({props:{$$slots:{default:[Gn]},$$scope:{ctx:t}}}),n=new Rt({props:{$$slots:{default:[Hn]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),s=S(),j(n.$$.fragment)},l(r){J(e.$$.fragment,r),s=k(r),J(n.$$.fragment,r)},m(r,o){K(e,r,o),D(r,s,o),K(n,r,o),l=!0},p(r,o){const a={};o&1&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const f={};o&1&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){l||(V(e.$$.fragment,r),V(n.$$.fragment,r),l=!0)},o(r){R(e.$$.fragment,r),R(n.$$.fragment,r),l=!1},d(r){Q(e,r),r&&p(s),Q(n,r)}}}function zn(t){let e,s;return e=new Vn({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),s=!0},i(n){s||(V(e.$$.fragment,n),s=!0)},o(n){R(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}function Fn(t){let e,s;return e=new Wn({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),s=!0},i(n){s||(V(e.$$.fragment,n),s=!0)},o(n){R(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}function Un(t){let e,s,n,l,r,o;return e=new gn({props:{$$slots:{default:[Ln]},$$scope:{ctx:t}}}),n=new Wt({props:{$$slots:{default:[zn]},$$scope:{ctx:t}}}),r=new Wt({props:{$$slots:{default:[Fn]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),s=S(),j(n.$$.fragment),l=S(),j(r.$$.fragment)},l(a){J(e.$$.fragment,a),s=k(a),J(n.$$.fragment,a),l=k(a),J(r.$$.fragment,a)},m(a,f){K(e,a,f),D(a,s,f),K(n,a,f),D(a,l,f),K(r,a,f),o=!0},p(a,f){const d={};f&1&&(d.$$scope={dirty:f,ctx:a}),e.$set(d);const m={};f&1&&(m.$$scope={dirty:f,ctx:a}),n.$set(m);const h={};f&1&&(h.$$scope={dirty:f,ctx:a}),r.$set(h)},i(a){o||(V(e.$$.fragment,a),V(n.$$.fragment,a),V(r.$$.fragment,a),o=!0)},o(a){R(e.$$.fragment,a),R(n.$$.fragment,a),R(r.$$.fragment,a),o=!1},d(a){Q(e,a),a&&p(s),Q(n,a),a&&p(l),Q(r,a)}}}function Yn(t){let e,s;return e=new mn({props:{$$slots:{default:[Un]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),s=!0},p(n,[l]){const r={};l&1&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){s||(V(e.$$.fragment,n),s=!0)},o(n){R(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}class qn extends te{constructor(e){super(),ne(this,e,null,Yn,le,{})}}function jn(t){let e,s;return e=new qn({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),s=!0},p:pt,i(n){s||(V(e.$$.fragment,n),s=!0)},o(n){R(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}class Zn extends te{constructor(e){super(),ne(this,e,null,jn,le,{})}}export{Zn as default};
