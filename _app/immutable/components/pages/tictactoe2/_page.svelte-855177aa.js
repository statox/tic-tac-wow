import{S as ne,i as re,s as le,C as ut,k as h,l as v,m as $,h as c,n as V,b as D,N as me,E as ct,F as pt,G as dt,f as H,t as X,H as he,a0 as Gn,o as Cn,j as Un,W as Zt,I as Pn,a1 as Ln,A as zn,$ as Yn,g as qn,d as jn,q as b,a as w,r as g,c as E,D as a,B as zt,u as G,w as j,x as J,y as K,z as Q,P as Jn}from"../../../chunks/index-1d785069.js";import{w as ze}from"../../../chunks/index-c5a64178.js";import{P as On}from"../../../chunks/P5-76a6b36f.js";let Kn=1;function Dn(){return`svelte-tabs-${Kn++}`}function Qn(t){let e,r,n,l;const s=t[4].default,i=ut(s,t,t[3],null);return{c(){e=h("div"),i&&i.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var f=$(e);i&&i.l(f),f.forEach(c),this.h()},h(){V(e,"class","svelte-tabs")},m(o,f){D(o,e,f),i&&i.m(e,null),r=!0,n||(l=me(e,"keydown",t[1]),n=!0)},p(o,[f]){i&&i.p&&(!r||f&8)&&ct(i,s,o,o[3],r?dt(s,o[3],f,null):pt(o[3]),null)},i(o){r||(H(i,o),r=!0)},o(o){X(i,o),r=!1},d(o){o&&c(e),i&&i.d(o),n=!1,l()}}}const xt={};function Zn(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(l=>l===e?t[n]||t[t.length-1]:l)}function xn(t,e,r){let n,{$$slots:l={},$$scope:s}=e,{initialSelectedIndex:i=0}=e;const o=[],f=[],d=[],m=ze({}),y=ze({}),S=ze(null);he(t,S,p=>r(5,n=p));const T=ze(null);function I(p,_,B){p.push(_),B.update(L=>L||_),Zt(()=>Zn(p,_,B))}function u(p){const _=f.indexOf(p);S.set(p),T.set(d[_])}Gn(xt,{registerTab(p){I(f,p,S)},registerTabElement(p){o.push(p)},registerPanel(p){I(d,p,T)},selectTab:u,selectedTab:S,selectedPanel:T,controls:m,labeledBy:y}),Cn(()=>{u(f[i])}),Un(()=>{for(let p=0;p<f.length;p++)m.update(_=>({..._,[f[p].id]:d[p].id})),y.update(_=>({..._,[d[p].id]:f[p].id}))});async function P(p){if(p.target.classList.contains("svelte-tabs__tab")){let _=f.indexOf(n);switch(p.key){case"ArrowRight":_+=1,_>f.length-1&&(_=0),u(f[_]),o[_].focus();break;case"ArrowLeft":_-=1,_<0&&(_=f.length-1),u(f[_]),o[_].focus()}}}return t.$$set=p=>{"initialSelectedIndex"in p&&r(2,i=p.initialSelectedIndex),"$$scope"in p&&r(3,s=p.$$scope)},[S,P,i,s,l]}class er extends ne{constructor(e){super(),re(this,e,xn,Qn,le,{initialSelectedIndex:2})}}function tr(t){let e,r,n,l,s,i;const o=t[9].default,f=ut(o,t,t[8],null);return{c(){e=h("li"),f&&f.c(),this.h()},l(d){e=v(d,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var m=$(e);f&&f.l(m),m.forEach(c),this.h()},h(){V(e,"role","tab"),V(e,"id",t[3].id),V(e,"aria-controls",r=t[2][t[3].id]),V(e,"aria-selected",t[1]),V(e,"tabindex",n=t[1]?0:-1),V(e,"class","svelte-tabs__tab svelte-1fbofsd"),Pn(e,"svelte-tabs__selected",t[1])},m(d,m){D(d,e,m),f&&f.m(e,null),t[10](e),l=!0,s||(i=me(e,"click",t[11]),s=!0)},p(d,[m]){f&&f.p&&(!l||m&256)&&ct(f,o,d,d[8],l?dt(o,d[8],m,null):pt(d[8]),null),(!l||m&4&&r!==(r=d[2][d[3].id]))&&V(e,"aria-controls",r),(!l||m&2)&&V(e,"aria-selected",d[1]),(!l||m&2&&n!==(n=d[1]?0:-1))&&V(e,"tabindex",n),(!l||m&2)&&Pn(e,"svelte-tabs__selected",d[1])},i(d){l||(H(f,d),l=!0)},o(d){X(f,d),l=!1},d(d){d&&c(e),f&&f.d(d),t[10](null),s=!1,i()}}}function nr(t,e,r){let n,l,{$$slots:s={},$$scope:i}=e,o;const f={id:Dn()},{registerTab:d,registerTabElement:m,selectTab:y,selectedTab:S,controls:T}=Ln(xt);he(t,S,p=>r(7,n=p)),he(t,T,p=>r(2,l=p));let I;d(f),Cn(async()=>{await zn(),m(o)});function u(p){Yn[p?"unshift":"push"](()=>{o=p,r(0,o)})}const P=()=>y(f);return t.$$set=p=>{"$$scope"in p&&r(8,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,I=n===f)},[o,I,l,f,y,S,T,n,i,s,u,P]}class wn extends ne{constructor(e){super(),re(this,e,nr,tr,le,{})}}function rr(t){let e,r;const n=t[1].default,l=ut(n,t,t[0],null);return{c(){e=h("ul"),l&&l.c(),this.h()},l(s){e=v(s,"UL",{role:!0,class:!0});var i=$(e);l&&l.l(i),i.forEach(c),this.h()},h(){V(e,"role","tablist"),V(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(s,i){D(s,e,i),l&&l.m(e,null),r=!0},p(s,[i]){l&&l.p&&(!r||i&1)&&ct(l,n,s,s[0],r?dt(n,s[0],i,null):pt(s[0]),null)},i(s){r||(H(l,s),r=!0)},o(s){X(l,s),r=!1},d(s){s&&c(e),l&&l.d(s)}}}function lr(t,e,r){let{$$slots:n={},$$scope:l}=e;return t.$$set=s=>{"$$scope"in s&&r(0,l=s.$$scope)},[l,n]}class sr extends ne{constructor(e){super(),re(this,e,lr,rr,le,{})}}function En(t){let e;const r=t[6].default,n=ut(r,t,t[5],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&ct(n,r,l,l[5],e?dt(r,l[5],s,null):pt(l[5]),null)},i(l){e||(H(n,l),e=!0)},o(l){X(n,l),e=!1},d(l){n&&n.d(l)}}}function or(t){let e,r,n,l=t[1]===t[2]&&En(t);return{c(){e=h("div"),l&&l.c(),this.h()},l(s){e=v(s,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var i=$(e);l&&l.l(i),i.forEach(c),this.h()},h(){V(e,"id",t[2].id),V(e,"aria-labelledby",r=t[0][t[2].id]),V(e,"class","svelte-tabs__tab-panel svelte-epfyet"),V(e,"role","tabpanel")},m(s,i){D(s,e,i),l&&l.m(e,null),n=!0},p(s,[i]){s[1]===s[2]?l?(l.p(s,i),i&2&&H(l,1)):(l=En(s),l.c(),H(l,1),l.m(e,null)):l&&(qn(),X(l,1,1,()=>{l=null}),jn()),(!n||i&1&&r!==(r=s[0][s[2].id]))&&V(e,"aria-labelledby",r)},i(s){n||(H(l),n=!0)},o(s){X(l),n=!1},d(s){s&&c(e),l&&l.d()}}}function ar(t,e,r){let n,l,{$$slots:s={},$$scope:i}=e;const o={id:Dn()},{registerPanel:f,selectedPanel:d,labeledBy:m}=Ln(xt);return he(t,d,y=>r(1,l=y)),he(t,m,y=>r(0,n=y)),f(o),t.$$set=y=>{"$$scope"in y&&r(5,i=y.$$scope)},[n,l,o,d,m,i,s]}class Sn extends ne{constructor(e){super(),re(this,e,ar,or,le,{})}}function Ke(t){const{x:e,y:r}=t;return e<0||e>2||r<0||r>2?new Error(`Invalid coords (${e},${r})`):8-(3*r+e)}function ir(t){return t<0||t>8?new Error("Invalid index ${i}"):{x:2-t%3,y:2-Math.floor(t/3)}}const fr=[448,56,7,292,146,73,273,84],ur=[{p:256,o:192},{p:32,o:24},{p:4,o:3},{p:128,o:320},{p:16,o:40},{p:2,o:5},{p:64,o:384},{p:8,o:48},{p:1,o:6},{p:256,o:36},{p:128,o:18},{p:64,o:9},{p:32,o:260},{p:16,o:130},{p:8,o:65},{p:4,o:288},{p:2,o:144},{p:1,o:72},{p:256,o:17},{p:16,o:257},{p:1,o:272},{p:64,o:20},{p:16,o:68},{p:4,o:80}],Yt=(t,e)=>(t&e)===e;function kn(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function it(t,e){const r=Ke(e);if(r instanceof Error)throw r;return!(t&1<<r)}function cr(t,e){return!(t&1<<e)}function In(t,e){const r=Ke(e);if(r instanceof Error)throw r;return t+2**r}const qt=t=>{for(const e of fr)if(Yt(t,e))return!0;return!1};var k=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(k||{});function Vn(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Hn(t,e){return e===k.player?t.player:t.computer}function Xn(t,e){return e===k.player?t.computer:t.player}function Je(t,e){if(!e&&!pr(t))return"invalid_board";const r=qt(t.player),n=qt(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":_r(t)?"not_over":"over"}function ft(t,e,r){if(!dr(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(r)} `);e===k.player?t.player=In(t.player,r):t.computer=In(t.computer,r)}function pr(t){if(t.player&t.computer)return!1;const e=kn(t.player),r=kn(t.computer);return!(Math.abs(e-r)>1)}function dr(t,e){return it(t.player,e)&&it(t.computer,e)}function _r(t){return(t.player|t.computer)!==511}function mr(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}function Rn(t,e,r){const n=t.width/3,l=t.height/3,{height:s,width:i}=t,{drawSelection:o,selection:f,currentPlayer:d}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,s),t.line(n*2,0,n*2,s),t.line(0,l,i,l),t.line(0,l*2,i,l*2);for(let m=0;m<3;m++)for(let y=0;y<3;y++)(!it(e.player,{x:y,y:m})||o&&d===k.player&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===m)&&(t.stroke("blue"),t.circle(y*n+n/2,m*l+l/2,l/2)),(!it(e.computer,{x:y,y:m})||o&&d===k.computer&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===m)&&(t.stroke("red"),t.line(y*n+n*.3,m*l+l*.3,y*n+n*.7,m*l+l*.7),t.line(y*n+n*.7,m*l+l*.3,y*n+n*.3,m*l+l*.7))}function jt(t){const{mouseX:e,mouseY:r,width:n,height:l}=t,s=Math.floor(t.map(e,0,n,0,3)),i=Math.floor(t.map(r,0,l,0,3));return{x:s,y:i}}function Ye(t,e){const r=Hn(t,e);return qt(r)}function qe(t,e){const r=Hn(t,e),n=Xn(t,e);for(const{o:l,p:s}of ur)if(Yt(r,s)&&Yt(n,l))return!0;return!1}function Jt(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}const Wn=new Set([0,2,6,8]),hr=new Set([1,3,5,7]);function je(t,e,r){const n=Ke(r);if(n instanceof Error||!Wn.has(n))return!1;const l=8-n,s=Xn(t,e);return!cr(s,l)}function Kt(t){const e=Ke(t);return!(e instanceof Error||!Wn.has(e))}function Qt(t){const e=Ke(t);return!(e instanceof Error||!hr.has(e))}function An(t){var en,tn;let e,r,n,l,s,i=Je(t[0])+"",o,f,d,m,y,S,T,I=((en=t[1])==null?void 0:en.x)+"",u,P,p=((tn=t[1])==null?void 0:tn.y)+"",_,B,L,F,te=Jt(t[1])?"✅":"❌",x,fe,ee,Z,q=Kt(t[1])?"✅":"❌",se,ue,N,U,z=Qt(t[1])?"✅":"❌",Y,ce,M,oe,pe,ae,_t,mt,de,ht,ve=t[0].player.toString(2).padStart(9,"0")+"",Qe,vt,$e,be=t[0].player+"",Ze,$t,ge,bt,ye,Pe=Ye(t[0],k.player)?"✅":"❌",xe,gt,we,yt,Pt,Ee,Se=qe(t[0],k.player)?"✅":"❌",et,wt,ke,Et,St,Ie,Ae=je(t[0],k.player,t[1])?"✅":"❌",tt,kt,O,Ne,It,Te,At,Nt,_e,Tt,Be=t[0].computer.toString(2).padStart(9,"0")+"",nt,Bt,Me,Ce=t[0].computer+"",rt,Mt,Le,Ct,Oe,De=Ye(t[0],k.computer)?"✅":"❌",lt,Lt,Ve,Ot,Dt,He,Xe=qe(t[0],k.computer)?"✅":"❌",st,Vt,Re,Ht,Xt,We,Fe=je(t[0],k.computer,t[1])?"✅":"❌",ot;return{c(){e=h("div"),r=h("span"),n=b("State:"),l=w(),s=h("span"),o=b(i),f=w(),d=h("span"),m=b("Last move"),y=w(),S=h("ul"),T=h("li"),u=b(I),P=b(","),_=b(p),B=w(),L=h("li"),F=b("center "),x=b(te),fe=w(),ee=h("li"),Z=b("corner "),se=b(q),ue=w(),N=h("li"),U=b("side "),Y=b(z),ce=w(),M=h("div"),oe=h("span"),pe=b("Player 1"),ae=h("span"),_t=b("Player, O"),mt=w(),de=h("span"),ht=b("0b"),Qe=b(ve),vt=w(),$e=h("span"),Ze=b(be),$t=w(),ge=h("span"),bt=b("Wins"),ye=h("span"),xe=b(Pe),gt=w(),we=h("span"),yt=b("Blocks opponent"),Pt=w(),Ee=h("span"),et=b(Se),wt=w(),ke=h("span"),Et=b("Last move took opposite corner"),St=w(),Ie=h("span"),tt=b(Ae),kt=w(),O=h("div"),Ne=h("span"),It=b("Player 2"),Te=h("span"),At=b("Computer, X"),Nt=w(),_e=h("span"),Tt=b("0b"),nt=b(Be),Bt=w(),Me=h("span"),rt=b(Ce),Mt=w(),Le=h("span"),Ct=b("Wins"),Oe=h("span"),lt=b(De),Lt=w(),Ve=h("span"),Ot=b("Blocks opponent"),Dt=w(),He=h("span"),st=b(Xe),Vt=w(),Re=h("span"),Ht=b("Last move took opposite corner"),Xt=w(),We=h("span"),ot=b(Fe),this.h()},l(C){e=v(C,"DIV",{class:!0});var A=$(e);r=v(A,"SPAN",{});var Ge=$(r);n=g(Ge,"State:"),Ge.forEach(c),l=E(A),s=v(A,"SPAN",{});var Ue=$(s);o=g(Ue,i),Ue.forEach(c),f=E(A),d=v(A,"SPAN",{});var nn=$(d);m=g(nn,"Last move"),nn.forEach(c),y=E(A),S=v(A,"UL",{});var ie=$(S);T=v(ie,"LI",{});var at=$(T);u=g(at,I),P=g(at,","),_=g(at,p),at.forEach(c),B=E(ie),L=v(ie,"LI",{});var Rt=$(L);F=g(Rt,"center "),x=g(Rt,te),Rt.forEach(c),fe=E(ie),ee=v(ie,"LI",{});var Wt=$(ee);Z=g(Wt,"corner "),se=g(Wt,q),Wt.forEach(c),ue=E(ie),N=v(ie,"LI",{});var Ft=$(N);U=g(Ft,"side "),Y=g(Ft,z),Ft.forEach(c),ie.forEach(c),ce=E(A),M=v(A,"DIV",{class:!0});var R=$(M);oe=v(R,"SPAN",{});var rn=$(oe);pe=g(rn,"Player 1"),rn.forEach(c),ae=v(R,"SPAN",{});var ln=$(ae);_t=g(ln,"Player, O"),ln.forEach(c),mt=E(R),de=v(R,"SPAN",{});var Gt=$(de);ht=g(Gt,"0b"),Qe=g(Gt,ve),Gt.forEach(c),vt=E(R),$e=v(R,"SPAN",{});var sn=$($e);Ze=g(sn,be),sn.forEach(c),$t=E(R),ge=v(R,"SPAN",{});var on=$(ge);bt=g(on,"Wins"),on.forEach(c),ye=v(R,"SPAN",{});var an=$(ye);xe=g(an,Pe),an.forEach(c),gt=E(R),we=v(R,"SPAN",{});var fn=$(we);yt=g(fn,"Blocks opponent"),fn.forEach(c),Pt=E(R),Ee=v(R,"SPAN",{});var un=$(Ee);et=g(un,Se),un.forEach(c),wt=E(R),ke=v(R,"SPAN",{});var cn=$(ke);Et=g(cn,"Last move took opposite corner"),cn.forEach(c),St=E(R),Ie=v(R,"SPAN",{});var pn=$(Ie);tt=g(pn,Ae),pn.forEach(c),R.forEach(c),kt=E(A),O=v(A,"DIV",{class:!0});var W=$(O);Ne=v(W,"SPAN",{});var dn=$(Ne);It=g(dn,"Player 2"),dn.forEach(c),Te=v(W,"SPAN",{});var _n=$(Te);At=g(_n,"Computer, X"),_n.forEach(c),Nt=E(W),_e=v(W,"SPAN",{});var Ut=$(_e);Tt=g(Ut,"0b"),nt=g(Ut,Be),Ut.forEach(c),Bt=E(W),Me=v(W,"SPAN",{});var mn=$(Me);rt=g(mn,Ce),mn.forEach(c),Mt=E(W),Le=v(W,"SPAN",{});var hn=$(Le);Ct=g(hn,"Wins"),hn.forEach(c),Oe=v(W,"SPAN",{});var vn=$(Oe);lt=g(vn,De),vn.forEach(c),Lt=E(W),Ve=v(W,"SPAN",{});var $n=$(Ve);Ot=g($n,"Blocks opponent"),$n.forEach(c),Dt=E(W),He=v(W,"SPAN",{});var bn=$(He);st=g(bn,Xe),bn.forEach(c),Vt=E(W),Re=v(W,"SPAN",{});var gn=$(Re);Ht=g(gn,"Last move took opposite corner"),gn.forEach(c),Xt=E(W),We=v(W,"SPAN",{});var yn=$(We);ot=g(yn,Fe),yn.forEach(c),W.forEach(c),A.forEach(c),this.h()},h(){V(M,"class","grid2cols svelte-1lw5ne4"),V(O,"class","grid2cols svelte-1lw5ne4"),V(e,"class","grid2cols svelte-1lw5ne4")},m(C,A){D(C,e,A),a(e,r),a(r,n),a(e,l),a(e,s),a(s,o),a(e,f),a(e,d),a(d,m),a(e,y),a(e,S),a(S,T),a(T,u),a(T,P),a(T,_),a(S,B),a(S,L),a(L,F),a(L,x),a(S,fe),a(S,ee),a(ee,Z),a(ee,se),a(S,ue),a(S,N),a(N,U),a(N,Y),a(e,ce),a(e,M),a(M,oe),a(oe,pe),a(M,ae),a(ae,_t),a(M,mt),a(M,de),a(de,ht),a(de,Qe),a(M,vt),a(M,$e),a($e,Ze),a(M,$t),a(M,ge),a(ge,bt),a(M,ye),a(ye,xe),a(M,gt),a(M,we),a(we,yt),a(M,Pt),a(M,Ee),a(Ee,et),a(M,wt),a(M,ke),a(ke,Et),a(M,St),a(M,Ie),a(Ie,tt),a(e,kt),a(e,O),a(O,Ne),a(Ne,It),a(O,Te),a(Te,At),a(O,Nt),a(O,_e),a(_e,Tt),a(_e,nt),a(O,Bt),a(O,Me),a(Me,rt),a(O,Mt),a(O,Le),a(Le,Ct),a(O,Oe),a(Oe,lt),a(O,Lt),a(O,Ve),a(Ve,Ot),a(O,Dt),a(O,He),a(He,st),a(O,Vt),a(O,Re),a(Re,Ht),a(O,Xt),a(O,We),a(We,ot)},p(C,A){var Ge,Ue;A&1&&i!==(i=Je(C[0])+"")&&G(o,i),A&2&&I!==(I=((Ge=C[1])==null?void 0:Ge.x)+"")&&G(u,I),A&2&&p!==(p=((Ue=C[1])==null?void 0:Ue.y)+"")&&G(_,p),A&2&&te!==(te=Jt(C[1])?"✅":"❌")&&G(x,te),A&2&&q!==(q=Kt(C[1])?"✅":"❌")&&G(se,q),A&2&&z!==(z=Qt(C[1])?"✅":"❌")&&G(Y,z),A&1&&ve!==(ve=C[0].player.toString(2).padStart(9,"0")+"")&&G(Qe,ve),A&1&&be!==(be=C[0].player+"")&&G(Ze,be),A&1&&Pe!==(Pe=Ye(C[0],k.player)?"✅":"❌")&&G(xe,Pe),A&1&&Se!==(Se=qe(C[0],k.player)?"✅":"❌")&&G(et,Se),A&3&&Ae!==(Ae=je(C[0],k.player,C[1])?"✅":"❌")&&G(tt,Ae),A&1&&Be!==(Be=C[0].computer.toString(2).padStart(9,"0")+"")&&G(nt,Be),A&1&&Ce!==(Ce=C[0].computer+"")&&G(rt,Ce),A&1&&De!==(De=Ye(C[0],k.computer)?"✅":"❌")&&G(lt,De),A&1&&Xe!==(Xe=qe(C[0],k.computer)?"✅":"❌")&&G(st,Xe),A&3&&Fe!==(Fe=je(C[0],k.computer,C[1])?"✅":"❌")&&G(ot,Fe)},d(C){C&&c(e)}}}function vr(t){let e,r,n,l,s=t[0]&&An(t);return{c(){e=h("div"),r=h("h4"),n=b("Board info"),l=w(),s&&s.c()},l(i){e=v(i,"DIV",{});var o=$(e);r=v(o,"H4",{});var f=$(r);n=g(f,"Board info"),f.forEach(c),l=E(o),s&&s.l(o),o.forEach(c)},m(i,o){D(i,e,o),a(e,r),a(r,n),a(e,l),s&&s.m(e,null)},p(i,[o]){i[0]?s?s.p(i,o):(s=An(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:zt,o:zt,d(i){i&&c(e),s&&s.d()}}}function $r(t,e,r){let{board:n}=e,{lastMove:l}=e;return t.$$set=s=>{"board"in s&&r(0,n=s.board),"lastMove"in s&&r(1,l=s.lastMove)},[n,l]}class Fn extends ne{constructor(e){super(),re(this,e,$r,vr,le,{board:0,lastMove:1})}}function br(t,e){const r=mr(t);if(r.length===0)throw new Error("No available moves");let n=0,l;console.log("choose hardcoded"),console.log(t.toString());for(const s of r){const i={...t},o=ir(s);if(o instanceof Error)throw o;ft(i,e,o);const f=gr(i,e,o);f>n?(n=f,l=o,console.log(o,f,"new best")):console.log(o,f)}if(!l)throw new Error("Error in getMoveHardcoded");return l}function gr(t,e,r){return Ye(t,k.player)?8:qe(t,e)?7:Jt(r)?4:je(t,e,r)?3:Kt(r)?2:Qt(r)?1:0}function Nn(t){let e,r;return{c(){e=h("span"),r=b("Player wins!")},l(n){e=v(n,"SPAN",{});var l=$(e);r=g(l,"Player wins!"),l.forEach(c)},m(n,l){D(n,e,l),a(e,r)},d(n){n&&c(e)}}}function Tn(t){let e,r;return{c(){e=h("span"),r=b("Computer wins!")},l(n){e=v(n,"SPAN",{});var l=$(e);r=g(l,"Computer wins!"),l.forEach(c)},m(n,l){D(n,e,l),a(e,r)},d(n){n&&c(e)}}}function Bn(t){let e,r;return{c(){e=h("span"),r=b("Draw")},l(n){e=v(n,"SPAN",{});var l=$(e);r=g(l,"Draw"),l.forEach(c)},m(n,l){D(n,e,l),a(e,r)},d(n){n&&c(e)}}}function Mn(t){let e,r,n,l;return{c(){e=h("span"),r=b("Restarting in "),n=b(t[2]),l=b(" seconds")},l(s){e=v(s,"SPAN",{});var i=$(e);r=g(i,"Restarting in "),n=g(i,t[2]),l=g(i," seconds"),i.forEach(c)},m(s,i){D(s,e,i),a(e,r),a(e,n),a(e,l)},p(s,i){i&4&&G(n,s[2])},d(s){s&&c(e)}}}function yr(t){let e,r,n,l,s,i,o,f,d,m,y,S,T;s=new On({props:{sketch:t[5]}});let I=t[3]==="player_win"&&Nn(),u=t[3]==="computer_win"&&Tn(),P=t[3]==="draw"&&Bn(),p=t[2]>0&&Mn(t);return S=new Fn({props:{board:t[0],lastMove:t[1]}}),{c(){e=h("h2"),r=b("Game"),n=w(),l=h("div"),j(s.$$.fragment),i=w(),o=h("div"),I&&I.c(),f=w(),u&&u.c(),d=w(),P&&P.c(),m=w(),p&&p.c(),y=w(),j(S.$$.fragment)},l(_){e=v(_,"H2",{});var B=$(e);r=g(B,"Game"),B.forEach(c),n=E(_),l=v(_,"DIV",{});var L=$(l);J(s.$$.fragment,L),i=E(L),o=v(L,"DIV",{});var F=$(o);I&&I.l(F),f=E(F),u&&u.l(F),d=E(F),P&&P.l(F),m=E(F),p&&p.l(F),F.forEach(c),y=E(L),J(S.$$.fragment,L),L.forEach(c)},m(_,B){D(_,e,B),a(e,r),D(_,n,B),D(_,l,B),K(s,l,null),a(l,i),a(l,o),I&&I.m(o,null),a(o,f),u&&u.m(o,null),a(o,d),P&&P.m(o,null),a(o,m),p&&p.m(o,null),a(l,y),K(S,l,null),T=!0},p(_,[B]){_[3]==="player_win"?I||(I=Nn(),I.c(),I.m(o,f)):I&&(I.d(1),I=null),_[3]==="computer_win"?u||(u=Tn(),u.c(),u.m(o,d)):u&&(u.d(1),u=null),_[3]==="draw"?P||(P=Bn(),P.c(),P.m(o,m)):P&&(P.d(1),P=null),_[2]>0?p?p.p(_,B):(p=Mn(_),p.c(),p.m(o,null)):p&&(p.d(1),p=null);const L={};B&1&&(L.board=_[0]),B&2&&(L.lastMove=_[1]),S.$set(L)},i(_){T||(H(s.$$.fragment,_),H(S.$$.fragment,_),T=!0)},o(_){X(s.$$.fragment,_),X(S.$$.fragment,_),T=!1},d(_){_&&c(e),_&&c(n),_&&c(l),Q(s),I&&I.d(),u&&u.d(),P&&P.d(),p&&p.d(),Q(S)}}}function Pr(t,e,r){let n,l,s,i,o;const f=ze();he(t,f,u=>r(3,n=u));let d=0;function m(u,P){n==="not_over"&&(ft(s,u,P),r(1,o=P),r(0,s),f.set(Je(s)),S())}function y(u){n==="not_over"&&setTimeout(()=>{const P=br(s,u);r(1,o=P),ft(s,u,P),r(0,s),f.set(Je(s)),S()},500)}function S(){i=i===k.player?k.computer:k.player}function T(){r(0,s=Vn()),i=k.player,f.set(Je(s)),r(1,o={x:-1,y:-1})}const I=u=>{u.setup=()=>{l=u,u.createCanvas(400,400),T()},u.draw=()=>{u.background(0),Rn(u,s)},u.mousePressed=()=>{if(!(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)&&i===k.player){const P=jt(u);m(k.player,P),y(k.computer)}}};return f.subscribe(u=>{if(!u||u==="not_over")return;r(2,d=4);const P=setInterval(()=>{r(2,d--,d),d===0&&(T(),clearInterval(P))},1e3)}),Zt(()=>{l==null||l.remove()}),[s,o,d,n,f,I]}class wr extends ne{constructor(e){super(),re(this,e,Pr,yr,le,{})}}function Er(t){let e,r,n,l,s,i,o,f,d,m,y,S,T,I,u,P,p,_,B,L,F,te,x,fe,ee,Z,q,se,ue;return s=new On({props:{sketch:t[6]}}),Z=new Fn({props:{board:t[1],lastMove:t[3]}}),{c(){e=h("h2"),r=b("Analyzer"),n=w(),l=h("div"),j(s.$$.fragment),i=w(),o=h("div"),f=h("h4"),d=b("Controls"),m=w(),y=h("button"),S=b("Play O"),I=w(),u=h("button"),P=b("Play X"),_=w(),B=h("button"),L=b("Previous"),te=w(),x=h("button"),fe=b("Reset"),ee=w(),j(Z.$$.fragment),this.h()},l(N){e=v(N,"H2",{});var U=$(e);r=g(U,"Analyzer"),U.forEach(c),n=E(N),l=v(N,"DIV",{});var z=$(l);J(s.$$.fragment,z),i=E(z),o=v(z,"DIV",{});var Y=$(o);f=v(Y,"H4",{});var ce=$(f);d=g(ce,"Controls"),ce.forEach(c),m=E(Y),y=v(Y,"BUTTON",{});var M=$(y);S=g(M,"Play O"),M.forEach(c),I=E(Y),u=v(Y,"BUTTON",{});var oe=$(u);P=g(oe,"Play X"),oe.forEach(c),_=E(Y),B=v(Y,"BUTTON",{});var pe=$(B);L=g(pe,"Previous"),pe.forEach(c),te=E(Y),x=v(Y,"BUTTON",{});var ae=$(x);fe=g(ae,"Reset"),ae.forEach(c),Y.forEach(c),ee=E(z),J(Z.$$.fragment,z),z.forEach(c),this.h()},h(){y.disabled=T=t[2]===k.player,u.disabled=p=t[2]===k.computer,B.disabled=F=(t[0]||[]).length<2},m(N,U){D(N,e,U),a(e,r),D(N,n,U),D(N,l,U),K(s,l,null),a(l,i),a(l,o),a(o,f),a(f,d),a(o,m),a(o,y),a(y,S),a(o,I),a(o,u),a(u,P),a(o,_),a(o,B),a(B,L),a(o,te),a(o,x),a(x,fe),a(l,ee),K(Z,l,null),q=!0,se||(ue=[me(y,"click",t[7]),me(u,"click",t[8]),me(B,"click",t[5]),me(x,"click",t[4])],se=!0)},p(N,[U]){(!q||U&4&&T!==(T=N[2]===k.player))&&(y.disabled=T),(!q||U&4&&p!==(p=N[2]===k.computer))&&(u.disabled=p),(!q||U&1&&F!==(F=(N[0]||[]).length<2))&&(B.disabled=F);const z={};U&2&&(z.board=N[1]),U&8&&(z.lastMove=N[3]),Z.$set(z)},i(N){q||(H(s.$$.fragment,N),H(Z.$$.fragment,N),q=!0)},o(N){X(s.$$.fragment,N),X(Z.$$.fragment,N),q=!1},d(N){N&&c(e),N&&c(n),N&&c(l),Q(s),Q(Z),se=!1,Jn(ue)}}}function Sr(t,e,r){let n,l,s,i=k.player,o;function f(u,P){ft(s,u,P),r(3,o=P),r(1,s),l.push({...s}),r(0,l),d()}function d(){r(2,i=i===k.player?k.computer:k.player)}function m(){r(1,s=Vn()),r(0,l=[{...s}]),r(3,o={x:-1,y:-1})}function y(){l.length<=1||(l.pop(),r(0,l),r(1,s={...l[l.length-1]}))}const S=u=>{u.setup=()=>{n=u,u.createCanvas(400,400),m()},u.draw=()=>{u.background(0),Rn(u,s,{drawSelection:!0,selection:jt(u),currentPlayer:i})},u.mousePressed=()=>{if(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)return;const P=jt(u);f(i,P)}};return Zt(()=>{n==null||n.remove()}),[l,s,i,o,m,y,S,()=>r(2,i=k.player),()=>r(2,i=k.computer)]}class kr extends ne{constructor(e){super(),re(this,e,Sr,Er,le,{})}}function Ir(t){let e;return{c(){e=b("Game")},l(r){e=g(r,"Game")},m(r,n){D(r,e,n)},d(r){r&&c(e)}}}function Ar(t){let e;return{c(){e=b("Analyzer")},l(r){e=g(r,"Analyzer")},m(r,n){D(r,e,n)},d(r){r&&c(e)}}}function Nr(t){let e,r,n,l;return e=new wn({props:{$$slots:{default:[Ir]},$$scope:{ctx:t}}}),n=new wn({props:{$$slots:{default:[Ar]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=w(),j(n.$$.fragment)},l(s){J(e.$$.fragment,s),r=E(s),J(n.$$.fragment,s)},m(s,i){K(e,s,i),D(s,r,i),K(n,s,i),l=!0},p(s,i){const o={};i&1&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const f={};i&1&&(f.$$scope={dirty:i,ctx:s}),n.$set(f)},i(s){l||(H(e.$$.fragment,s),H(n.$$.fragment,s),l=!0)},o(s){X(e.$$.fragment,s),X(n.$$.fragment,s),l=!1},d(s){Q(e,s),s&&c(r),Q(n,s)}}}function Tr(t){let e,r;return e=new wr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},i(n){r||(H(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function Br(t){let e,r;return e=new kr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},i(n){r||(H(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function Mr(t){let e,r,n,l,s,i;return e=new sr({props:{$$slots:{default:[Nr]},$$scope:{ctx:t}}}),n=new Sn({props:{$$slots:{default:[Tr]},$$scope:{ctx:t}}}),s=new Sn({props:{$$slots:{default:[Br]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=w(),j(n.$$.fragment),l=w(),j(s.$$.fragment)},l(o){J(e.$$.fragment,o),r=E(o),J(n.$$.fragment,o),l=E(o),J(s.$$.fragment,o)},m(o,f){K(e,o,f),D(o,r,f),K(n,o,f),D(o,l,f),K(s,o,f),i=!0},p(o,f){const d={};f&1&&(d.$$scope={dirty:f,ctx:o}),e.$set(d);const m={};f&1&&(m.$$scope={dirty:f,ctx:o}),n.$set(m);const y={};f&1&&(y.$$scope={dirty:f,ctx:o}),s.$set(y)},i(o){i||(H(e.$$.fragment,o),H(n.$$.fragment,o),H(s.$$.fragment,o),i=!0)},o(o){X(e.$$.fragment,o),X(n.$$.fragment,o),X(s.$$.fragment,o),i=!1},d(o){Q(e,o),o&&c(r),Q(n,o),o&&c(l),Q(s,o)}}}function Cr(t){let e,r;return e=new er({props:{$$slots:{default:[Mr]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){r||(H(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class Lr extends ne{constructor(e){super(),re(this,e,null,Cr,le,{})}}function Or(t){let e,r;return e=new Lr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){K(e,n,l),r=!0},p:zt,i(n){r||(H(e.$$.fragment,n),r=!0)},o(n){X(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class Xr extends ne{constructor(e){super(),re(this,e,null,Or,le,{})}}export{Xr as default};
