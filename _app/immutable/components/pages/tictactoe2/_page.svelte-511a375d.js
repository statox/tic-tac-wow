import{S as Se,i as Ne,s as Ce,C as ft,k as p,l as m,m as v,h as u,n as X,b as G,N as Pe,E as ct,F as ut,G as _t,f as F,t as U,H as Ze,a0 as dn,o as nn,j as pn,W as Pt,I as Mt,a1 as ln,A as mn,$ as vn,g as Ue,d as Xe,q as P,a as N,r as y,c as C,D as a,B as Te,u as se,w as ae,x as ie,y as fe,z as ce,e as nt,J as ze,K as et,M as Le,P as yt,Q as tt,L as At,O as rn}from"../../../chunks/index-1d785069.js";import{w as xe}from"../../../chunks/index-c5a64178.js";import{P as on}from"../../../chunks/P5-76a6b36f.js";let gn=1;function sn(){return`svelte-tabs-${gn++}`}function bn(l){let e,n,t,r;const o=l[4].default,s=ft(o,l,l[3],null);return{c(){e=p("div"),s&&s.c(),this.h()},l(f){e=m(f,"DIV",{class:!0});var i=v(e);s&&s.l(i),i.forEach(u),this.h()},h(){X(e,"class","svelte-tabs")},m(f,i){G(f,e,i),s&&s.m(e,null),n=!0,t||(r=Pe(e,"keydown",l[1]),t=!0)},p(f,[i]){s&&s.p&&(!n||i&8)&&ct(s,o,f,f[3],n?_t(o,f[3],i,null):ut(f[3]),null)},i(f){n||(F(s,f),n=!0)},o(f){U(s,f),n=!1},d(f){f&&u(e),s&&s.d(f),t=!1,r()}}}const wt={};function $n(l,e,n){const t=l.indexOf(e);l.splice(t,1),n.update(r=>r===e?l[t]||l[l.length-1]:r)}function kn(l,e,n){let t,{$$slots:r={},$$scope:o}=e,{initialSelectedIndex:s=0}=e;const f=[],i=[],c=[],_=xe({}),g=xe({}),S=xe(null);Ze(l,S,b=>n(5,t=b));const I=xe(null);function $(b,w,R){b.push(w),R.update(B=>B||w),Pt(()=>$n(b,w,R))}function k(b){const w=i.indexOf(b);S.set(b),I.set(c[w])}dn(wt,{registerTab(b){$(i,b,S)},registerTabElement(b){f.push(b)},registerPanel(b){$(c,b,I)},selectTab:k,selectedTab:S,selectedPanel:I,controls:_,labeledBy:g}),nn(()=>{k(i[s])}),pn(()=>{for(let b=0;b<i.length;b++)_.update(w=>({...w,[i[b].id]:c[b].id})),g.update(w=>({...w,[c[b].id]:i[b].id}))});async function d(b){if(b.target.classList.contains("svelte-tabs__tab")){let w=i.indexOf(t);switch(b.key){case"ArrowRight":w+=1,w>i.length-1&&(w=0),k(i[w]),f[w].focus();break;case"ArrowLeft":w-=1,w<0&&(w=i.length-1),k(i[w]),f[w].focus()}}}return l.$$set=b=>{"initialSelectedIndex"in b&&n(2,s=b.initialSelectedIndex),"$$scope"in b&&n(3,o=b.$$scope)},[S,d,s,o,r]}class En extends Se{constructor(e){super(),Ne(this,e,kn,bn,Ce,{initialSelectedIndex:2})}}function Pn(l){let e,n,t,r,o,s;const f=l[9].default,i=ft(f,l,l[8],null);return{c(){e=p("li"),i&&i.c(),this.h()},l(c){e=m(c,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var _=v(e);i&&i.l(_),_.forEach(u),this.h()},h(){X(e,"role","tab"),X(e,"id",l[3].id),X(e,"aria-controls",n=l[2][l[3].id]),X(e,"aria-selected",l[1]),X(e,"tabindex",t=l[1]?0:-1),X(e,"class","svelte-tabs__tab svelte-1fbofsd"),Mt(e,"svelte-tabs__selected",l[1])},m(c,_){G(c,e,_),i&&i.m(e,null),l[10](e),r=!0,o||(s=Pe(e,"click",l[11]),o=!0)},p(c,[_]){i&&i.p&&(!r||_&256)&&ct(i,f,c,c[8],r?_t(f,c[8],_,null):ut(c[8]),null),(!r||_&4&&n!==(n=c[2][c[3].id]))&&X(e,"aria-controls",n),(!r||_&2)&&X(e,"aria-selected",c[1]),(!r||_&2&&t!==(t=c[1]?0:-1))&&X(e,"tabindex",t),(!r||_&2)&&Mt(e,"svelte-tabs__selected",c[1])},i(c){r||(F(i,c),r=!0)},o(c){U(i,c),r=!1},d(c){c&&u(e),i&&i.d(c),l[10](null),o=!1,s()}}}function yn(l,e,n){let t,r,{$$slots:o={},$$scope:s}=e,f;const i={id:sn()},{registerTab:c,registerTabElement:_,selectTab:g,selectedTab:S,controls:I}=ln(wt);Ze(l,S,b=>n(7,t=b)),Ze(l,I,b=>n(2,r=b));let $;c(i),nn(async()=>{await mn(),_(f)});function k(b){vn[b?"unshift":"push"](()=>{f=b,n(0,f)})}const d=()=>g(i);return l.$$set=b=>{"$$scope"in b&&n(8,s=b.$$scope)},l.$$.update=()=>{l.$$.dirty&128&&n(1,$=t===i)},[f,$,r,i,g,S,I,t,s,o,k,d]}class pt extends Se{constructor(e){super(),Ne(this,e,yn,Pn,Ce,{})}}function wn(l){let e,n;const t=l[1].default,r=ft(t,l,l[0],null);return{c(){e=p("ul"),r&&r.c(),this.h()},l(o){e=m(o,"UL",{role:!0,class:!0});var s=v(e);r&&r.l(s),s.forEach(u),this.h()},h(){X(e,"role","tablist"),X(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(o,s){G(o,e,s),r&&r.m(e,null),n=!0},p(o,[s]){r&&r.p&&(!n||s&1)&&ct(r,t,o,o[0],n?_t(t,o[0],s,null):ut(o[0]),null)},i(o){n||(F(r,o),n=!0)},o(o){U(r,o),n=!1},d(o){o&&u(e),r&&r.d(o)}}}function Sn(l,e,n){let{$$slots:t={},$$scope:r}=e;return l.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,t]}class Nn extends Se{constructor(e){super(),Ne(this,e,Sn,wn,Ce,{})}}function Bt(l){let e;const n=l[6].default,t=ft(n,l,l[5],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&32)&&ct(t,n,r,r[5],e?_t(n,r[5],o,null):ut(r[5]),null)},i(r){e||(F(t,r),e=!0)},o(r){U(t,r),e=!1},d(r){t&&t.d(r)}}}function Cn(l){let e,n,t,r=l[1]===l[2]&&Bt(l);return{c(){e=p("div"),r&&r.c(),this.h()},l(o){e=m(o,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=v(e);r&&r.l(s),s.forEach(u),this.h()},h(){X(e,"id",l[2].id),X(e,"aria-labelledby",n=l[0][l[2].id]),X(e,"class","svelte-tabs__tab-panel svelte-epfyet"),X(e,"role","tabpanel")},m(o,s){G(o,e,s),r&&r.m(e,null),t=!0},p(o,[s]){o[1]===o[2]?r?(r.p(o,s),s&2&&F(r,1)):(r=Bt(o),r.c(),F(r,1),r.m(e,null)):r&&(Ue(),U(r,1,1,()=>{r=null}),Xe()),(!t||s&1&&n!==(n=o[0][o[2].id]))&&X(e,"aria-labelledby",n)},i(o){t||(F(r),t=!0)},o(o){U(r),t=!1},d(o){o&&u(e),r&&r.d()}}}function In(l,e,n){let t,r,{$$slots:o={},$$scope:s}=e;const f={id:sn()},{registerPanel:i,selectedPanel:c,labeledBy:_}=ln(wt);return Ze(l,c,g=>n(1,r=g)),Ze(l,_,g=>n(0,t=g)),i(f),l.$$set=g=>{"$$scope"in g&&n(5,s=g.$$scope)},[t,r,f,c,_,s,o]}class mt extends Se{constructor(e){super(),Ne(this,e,In,Cn,Ce,{})}}const Tn=[448,56,7,292,146,73,273,84],Mn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],An=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],Bn=[{p:2,o:5},{p:2,o:144}],je=(l,e)=>(l&e)===e;function Ot(l){let e=l,n=0;for(;e;)n+=e&1,e>>=1;return n}function Ht(l,e){return Y(l,e)}function Y(l,e){return!(l&1<<e)}function gt(l,e){return l+2**e}const bt=l=>{for(const e of Tn)if(je(l,e))return!0;return!1};var j=(l=>(l[l.player=1]="player",l[l.computer=2]="computer",l))(j||{});function an(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Fe(l,e){return e===j.player?l.player:l.computer}function We(l,e){return e===j.player?l.computer:l.player}function lt(l,e){if(!e&&!On(l))return"invalid_board";const n=bt(l.player),t=bt(l.computer);return n&&t?"draw":n?"player_win":t?"computer_win":Gn(l)?"not_over":"over"}function qe(l,e,n){if(!Hn(l,n))throw new Error(`Impossible move. player: ${l==null?void 0:l.player}, computer: ${l==null?void 0:l.computer}, index ${n} `);e===j.player?l.player=gt(l.player,n):l.computer=gt(l.computer,n)}function On(l){if(l.player&l.computer)return!1;const e=Ot(l.player),n=Ot(l.computer);return!(Math.abs(e-n)>1)}function Hn(l,e){return Y(l.player,e)&&Y(l.computer,e)}function Gn(l){return(l.player|l.computer)!==511}function ht(l){let e=l.player|l.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const n=[];let t=0;for(;t<9;)e&1||n.push(t),t++,e>>=1;return n}function rt(l){const{x:e,y:n}=l;if(e<0||e>2||n<0||n>2)throw new Error(`Invalid coords (${e},${n})`);return 8-(3*n+e)}function $t(l){if(l<0||l>8)throw new Error("Invalid index ${i}");return{x:2-l%3,y:2-Math.floor(l/3)}}function Dn(l,e){const n=ht(l);if(n.length===0)throw new Error("No available moves");for(const t of n){const r={...l},o=$t(t);qe(r,e,t),console.log(r,o)}return{score:0,reason:"random",move:1}}const Vn=[2,5,8,1,4,7,0,3,6];function Gt(l){let e=0;return Vn.forEach((n,t)=>{Y(l,t)||(e=gt(e,n))}),e}function ot(l,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...l};e=e%4;const n={...l};for(let t=0;t<e;t++)n.player=Gt(n.player),n.computer=Gt(n.computer);return n}function Re(l,e){const n=Fe(l,e);return bt(n)}function St(l){return l===4}function st(l,e,n){const t=Fe(l,e),r=We(l,e);if(n===4){const o=Y(r,5)&&!Y(t,3)||!Y(t,5)&&Y(r,3)?1:0,s=Y(r,7)&&!Y(t,1)||!Y(t,7)&&Y(r,1)?1:0,f=Y(r,8)&&!Y(t,0)||!Y(t,8)&&Y(r,0)?1:0,i=Y(r,6)&&!Y(t,2)||!Y(t,6)&&Y(r,2)?1:0;return o+s+f+i>=2}if(dt.has(n)){const o={0:0,2:3,6:1,8:2}[n]||0,s=ot(l,o),f=Fe(s,e),i=We(s,e),c=Y(i,2)&&!Y(f,1)||!Y(f,2)&&Y(i,1),_=Y(i,6)&&!Y(f,3)||!Y(f,6)&&Y(i,3);return c&&_}if(Nt.has(n)){const o={1:0,3:1,5:3,7:2}[n]||0,s=ot(l,o),f=Fe(s,e),i=We(s,e),c=Y(i,2)&&!Y(f,0)||!Y(f,2)&&Y(i,0),_=Y(i,7)&&!Y(f,4)||!Y(f,7)&&Y(i,4);return c&&_}return!1}function kt(l,e,n){const t=Fe(l,e),o={player:We(l,e),computer:t};return st(o,e===j.player?j.computer:j.player,n)}function Je(l,e,n){const t=Fe(l,e),r=We(l,e);if(n===4){for(const{o,p:s}of Mn)if(je(t,s)&&je(r,o))return!0}if(dt.has(n)){const o={0:0,2:3,6:1,8:2}[n]||0,s=ot(l,o),f=Fe(s,e),i=We(s,e);for(const{o:c,p:_}of An)if(je(f,_)&&je(i,c))return!0}if(Nt.has(n)){const o={1:0,3:1,5:3,7:2}[n]||0,s=ot(l,o),f=Fe(s,e),i=We(s,e);for(const{o:c,p:_}of Bn)if(je(f,_)&&je(i,c))return!0}return!1}const dt=new Set([0,2,6,8]),Nt=new Set([1,3,5,7]);function at(l,e,n){if(!dt.has(n))return!1;const t=8-n,r=We(l,e);return!Y(r,t)}function Ct(l){return dt.has(l)}function fn(l){return Nt.has(l)}function Ln(l,e){const n=ht(l);if(n.length===0)throw new Error("No available moves");let t;for(const r of n){const o={...l};qe(o,e,r);const s=Rn(o,e,r);s.score>((t==null?void 0:t.score)??-1)&&(t=s)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Rn(l,e,n){return Re(l,e)?{score:8,reason:"win",move:n}:Je(l,e,n)?{score:7,reason:"block_opponent",move:n}:st(l,e,n)?{score:6,reason:"create_fork",move:n}:kt(l,e,n)?{score:5,reason:"block_opponent_fork",move:n}:St(n)?{score:4,reason:"take_center",move:n}:at(l,e,n)?{score:3,reason:"take_opposite_corner",move:n}:Ct(n)?{score:2,reason:"take_corner",move:n}:fn(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Fn(l,e){const n=ht(l);if(n.length===0)throw new Error("No available moves");let t;for(const r of n){const o={...l};qe(o,e,r);const s=Wn(o,e,r);s.score>((t==null?void 0:t.score)??-1)&&(t=s)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function Wn(l,e,n){return Re(l,j.player)?{score:8,reason:"win",move:n}:Je(l,e,n)?{score:7,reason:"block_opponent",move:n}:St(n)?{score:4,reason:"take_center",move:n}:at(l,e,n)?{score:3,reason:"take_opposite_corner",move:n}:Ct(n)?{score:2,reason:"take_corner",move:n}:fn(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Un(l){const e=ht(l);if(e.length===0)throw new Error("No available moves");const n=Math.floor(Math.random()*e.length);return{score:0,reason:"random",move:e[n]}}const Ye={random:Un,hardcodedRules:Fn,hardcodedRulesComplete:Ln,BFS:Dn},cn=l=>({board:an(),currentPlayer:l??j.player,state:"not_over",moveHistory:[]});function un(l){l.currentPlayer=l.currentPlayer===j.player?j.computer:j.player}const Xn=(l,e,n)=>{l.state==="not_over"&&(qe(l.board,e,n),l.state=lt(l.board),l.moveHistory.push({board:{...l.board},moveAsIndex:n,player:e,method:"manual"}),un(l))},Qe=(l,e,n)=>{if(l.state!=="not_over")return;const t=Ye[n],r=t(l.board,e);qe(l.board,e,r.move),l.state=lt(l.board),l.moveHistory.push({board:{...l.board},moveAsIndex:r.move,player:e,method:n,aiChoice:r}),un(l)},jn="#FF0000",zn="#64ccfc";function Et(l,e,n){var _;const t=l.width/3,r=l.height/3,{height:o,width:s}=l,{drawSelection:f,selection:i,currentPlayer:c}=n||{};l.rectMode(l.CENTER),l.noFill(),l.stroke(255),l.strokeWeight(1),l.line(t,0,t,o),l.line(t*2,0,t*2,o),l.line(0,r,s,r),l.line(0,r*2,s,r*2),l.stroke(155),l.strokeWeight(3),l.rect(l.width/2,l.height/2,l.width,l.height),l.strokeWeight(4);for(let g=0;g<3;g++)for(let S=0;S<3;S++)((_=n==null?void 0:n.highlightCell)==null?void 0:_.x)===S&&(n==null?void 0:n.highlightCell.y)===g&&(l.noStroke(),l.fill(30,250,80,80),l.rect(S*t+t/2,g*r+r/2,t*.95,r*.95),l.noFill()),(!Ht(e.player,rt({x:S,y:g}))||f&&c===j.player&&(i==null?void 0:i.x)===S&&(i==null?void 0:i.y)===g)&&(l.stroke(zn),l.circle(S*t+t/2,g*r+r/2,r/2)),(!Ht(e.computer,rt({x:S,y:g}))||f&&c===j.computer&&(i==null?void 0:i.x)===S&&(i==null?void 0:i.y)===g)&&(l.stroke(jn),l.line(S*t+t*.3,g*r+r*.3,S*t+t*.7,g*r+r*.7),l.line(S*t+t*.7,g*r+r*.3,S*t+t*.3,g*r+r*.7))}function it(l){const{mouseX:e,mouseY:n,width:t,height:r}=l,o=Math.floor(l.map(e,0,t,0,3)),s=Math.floor(l.map(n,0,r,0,3));return{x:o,y:s}}function Dt(l){let e,n,t,r,o,s=lt(l[0])+"",f,i,c,_,g,S,I,$,k,d,b=l[0].player.toString(2).padStart(9,"0")+"",w,R,B,O=l[0].player+"",M,W,Q,Z,J,V=Re(l[0],j.player)?"✅":"❌",oe,q,T,A,z,H,ee,me,x,pe,_e=l[0].computer.toString(2).padStart(9,"0")+"",he,ge,ve,be=l[0].computer+"",ne,we,le,$e,te,Me=Re(l[0],j.computer)?"✅":"❌",Ie;return{c(){e=p("div"),n=p("span"),t=P("State:"),r=N(),o=p("span"),f=P(s),i=N(),c=p("div"),_=p("span"),g=P("Player 1"),S=p("span"),I=P("Player, O"),$=N(),k=p("span"),d=P("0b"),w=P(b),R=N(),B=p("span"),M=P(O),W=N(),Q=p("span"),Z=P("Wins"),J=p("span"),oe=P(V),q=N(),T=p("div"),A=p("span"),z=P("Player 2"),H=p("span"),ee=P("Computer, X"),me=N(),x=p("span"),pe=P("0b"),he=P(_e),ge=N(),ve=p("span"),ne=P(be),we=N(),le=p("span"),$e=P("Wins"),te=p("span"),Ie=P(Me),this.h()},l(re){e=m(re,"DIV",{class:!0});var D=v(e);n=m(D,"SPAN",{});var K=v(n);t=y(K,"State:"),K.forEach(u),r=C(D),o=m(D,"SPAN",{});var h=v(o);f=y(h,s),h.forEach(u),i=C(D),c=m(D,"DIV",{class:!0});var L=v(c);_=m(L,"SPAN",{});var E=v(_);g=y(E,"Player 1"),E.forEach(u),S=m(L,"SPAN",{});var ue=v(S);I=y(ue,"Player, O"),ue.forEach(u),$=C(L),k=m(L,"SPAN",{});var ye=v(k);d=y(ye,"0b"),w=y(ye,b),ye.forEach(u),R=C(L),B=m(L,"SPAN",{});var Oe=v(B);M=y(Oe,O),Oe.forEach(u),W=C(L),Q=m(L,"SPAN",{});var He=v(Q);Z=y(He,"Wins"),He.forEach(u),J=m(L,"SPAN",{});var Ge=v(J);oe=y(Ge,V),Ge.forEach(u),L.forEach(u),q=C(D),T=m(D,"DIV",{class:!0});var ke=v(T);A=m(ke,"SPAN",{});var Ae=v(A);z=y(Ae,"Player 2"),Ae.forEach(u),H=m(ke,"SPAN",{});var De=v(H);ee=y(De,"Computer, X"),De.forEach(u),me=C(ke),x=m(ke,"SPAN",{});var Be=v(x);pe=y(Be,"0b"),he=y(Be,_e),Be.forEach(u),ge=C(ke),ve=m(ke,"SPAN",{});var Ee=v(ve);ne=y(Ee,be),Ee.forEach(u),we=C(ke),le=m(ke,"SPAN",{});var Ve=v(le);$e=y(Ve,"Wins"),Ve.forEach(u),te=m(ke,"SPAN",{});var Ke=v(te);Ie=y(Ke,Me),Ke.forEach(u),ke.forEach(u),D.forEach(u),this.h()},h(){X(c,"class","grid2cols svelte-1lw5ne4"),X(T,"class","grid2cols svelte-1lw5ne4"),X(e,"class","grid2cols svelte-1lw5ne4")},m(re,D){G(re,e,D),a(e,n),a(n,t),a(e,r),a(e,o),a(o,f),a(e,i),a(e,c),a(c,_),a(_,g),a(c,S),a(S,I),a(c,$),a(c,k),a(k,d),a(k,w),a(c,R),a(c,B),a(B,M),a(c,W),a(c,Q),a(Q,Z),a(c,J),a(J,oe),a(e,q),a(e,T),a(T,A),a(A,z),a(T,H),a(H,ee),a(T,me),a(T,x),a(x,pe),a(x,he),a(T,ge),a(T,ve),a(ve,ne),a(T,we),a(T,le),a(le,$e),a(T,te),a(te,Ie)},p(re,D){D&1&&s!==(s=lt(re[0])+"")&&se(f,s),D&1&&b!==(b=re[0].player.toString(2).padStart(9,"0")+"")&&se(w,b),D&1&&O!==(O=re[0].player+"")&&se(M,O),D&1&&V!==(V=Re(re[0],j.player)?"✅":"❌")&&se(oe,V),D&1&&_e!==(_e=re[0].computer.toString(2).padStart(9,"0")+"")&&se(he,_e),D&1&&be!==(be=re[0].computer+"")&&se(ne,be),D&1&&Me!==(Me=Re(re[0],j.computer)?"✅":"❌")&&se(Ie,Me)},d(re){re&&u(e)}}}function Yn(l){let e,n,t,r,o=l[0]&&Dt(l);return{c(){e=p("div"),n=p("h4"),t=P("Board info"),r=N(),o&&o.c()},l(s){e=m(s,"DIV",{});var f=v(e);n=m(f,"H4",{});var i=v(n);t=y(i,"Board info"),i.forEach(u),r=C(f),o&&o.l(f),f.forEach(u)},m(s,f){G(s,e,f),a(e,n),a(n,t),a(e,r),o&&o.m(e,null)},p(s,[f]){s[0]?o?o.p(s,f):(o=Dt(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:Te,o:Te,d(s){s&&u(e),o&&o.d()}}}function Jn(l,e,n){let{board:t}=e;return l.$$set=r=>{"board"in r&&n(0,t=r.board)},[t]}class _n extends Se{constructor(e){super(),Ne(this,e,Jn,Yn,Ce,{board:0})}}function qn(l){let e,n,t=JSON.stringify(l[0])+"",r;return{c(){e=p("p"),n=P("Board is undefined "),r=P(t)},l(o){e=m(o,"P",{});var s=v(e);n=y(s,"Board is undefined "),r=y(s,t),s.forEach(u)},m(o,s){G(o,e,s),a(e,n),a(e,r)},p(o,s){s&1&&t!==(t=JSON.stringify(o[0])+"")&&se(r,t)},i:Te,o:Te,d(o){o&&u(e)}}}function Kn(l){let e,n;return e=new on({props:{sketch:l[1]}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},p:Te,i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function Qn(l){let e,n,t,r;const o=[Kn,qn],s=[];function f(i,c){return i[0]?0:1}return n=f(l),t=s[n]=o[n](l),{c(){e=p("div"),t.c()},l(i){e=m(i,"DIV",{});var c=v(e);t.l(c),c.forEach(u)},m(i,c){G(i,e,c),s[n].m(e,null),r=!0},p(i,[c]){let _=n;n=f(i),n===_?s[n].p(i,c):(Ue(),U(s[_],1,1,()=>{s[_]=null}),Xe(),t=s[n],t?t.p(i,c):(t=s[n]=o[n](i),t.c()),F(t,1),t.m(e,null))},i(i){r||(F(t),r=!0)},o(i){U(t),r=!1},d(i){i&&u(e),s[n].d()}}}function Zn(l,e,n){let{dimensionPx:t}=e,{board:r}=e,{highlightCell:o=void 0}=e,{highlightMouse:s=!1}=e,{onClick:f=()=>{}}=e,i;const c=_=>{_.setup=()=>{i=_,_.createCanvas(t.width,t.height)},_.draw=()=>{_.background(0),s?Et(_,r,{highlightCell:it(_)}):Et(_,r,{highlightCell:o})},_.mousePressed=()=>{_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height||f("manual",it(_))}};return Pt(()=>{i==null||i.remove()}),l.$$set=_=>{"dimensionPx"in _&&n(2,t=_.dimensionPx),"board"in _&&n(0,r=_.board),"highlightCell"in _&&n(3,o=_.highlightCell),"highlightMouse"in _&&n(4,s=_.highlightMouse),"onClick"in _&&n(5,f=_.onClick)},[r,c,t,o,s,f]}class It extends Se{constructor(e){super(),Ne(this,e,Zn,Qn,Ce,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function vt(l){const e=l.slice(),n=e[0];return e[1]=n.moveAsIndex,e[2]=n.player,e[3]=n.board,e}function Vt(l){let e,n,t,r,o,s,f,i,c,_,g,S=Re(l[3],l[2])?"✅":"❌",I,$,k,d,b,w,R=Je(l[3],l[2],l[1])?"✅":"❌",B,O,M,W,Q,Z,J=st(l[3],l[2],l[1])?"✅":"❌",V,oe,q,T,A,z,H=kt(l[3],l[2],l[1])?"✅":"❌",ee,me,x,pe,_e,he,ge=at(l[3],l[2],l[1])?"✅":"❌",ve,be,ne,we,le,$e,te=Je(l[3],l[2],l[1])?"✅":"❌",Me;function Ie(K,h){return h&1&&(o=null),h&1&&(s=null),o==null&&(o=!!St(K[1])),o?tl:(s==null&&(s=!!Ct(K[1])),s?el:xn)}let re=Ie(l,-1),D=re(l);return{c(){e=p("div"),n=p("span"),t=P("Position"),r=N(),D.c(),f=N(),i=p("span"),c=P("Player win"),_=N(),g=p("span"),I=P(S),$=N(),k=p("span"),d=P("Move blocks opponent"),b=N(),w=p("span"),B=P(R),O=N(),M=p("span"),W=P("Move creates fork"),Q=N(),Z=p("span"),V=P(J),oe=N(),q=p("span"),T=P("Move blocks opponent's fork"),A=N(),z=p("span"),ee=P(H),me=N(),x=p("span"),pe=P("Took opposite corner"),_e=N(),he=p("span"),ve=P(ge),be=N(),ne=p("span"),we=P("Last move blocks opponent"),le=N(),$e=p("span"),Me=P(te),this.h()},l(K){e=m(K,"DIV",{class:!0});var h=v(e);n=m(h,"SPAN",{});var L=v(n);t=y(L,"Position"),L.forEach(u),r=C(h),D.l(h),f=C(h),i=m(h,"SPAN",{});var E=v(i);c=y(E,"Player win"),E.forEach(u),_=C(h),g=m(h,"SPAN",{});var ue=v(g);I=y(ue,S),ue.forEach(u),$=C(h),k=m(h,"SPAN",{});var ye=v(k);d=y(ye,"Move blocks opponent"),ye.forEach(u),b=C(h),w=m(h,"SPAN",{});var Oe=v(w);B=y(Oe,R),Oe.forEach(u),O=C(h),M=m(h,"SPAN",{});var He=v(M);W=y(He,"Move creates fork"),He.forEach(u),Q=C(h),Z=m(h,"SPAN",{});var Ge=v(Z);V=y(Ge,J),Ge.forEach(u),oe=C(h),q=m(h,"SPAN",{});var ke=v(q);T=y(ke,"Move blocks opponent's fork"),ke.forEach(u),A=C(h),z=m(h,"SPAN",{});var Ae=v(z);ee=y(Ae,H),Ae.forEach(u),me=C(h),x=m(h,"SPAN",{});var De=v(x);pe=y(De,"Took opposite corner"),De.forEach(u),_e=C(h),he=m(h,"SPAN",{});var Be=v(he);ve=y(Be,ge),Be.forEach(u),be=C(h),ne=m(h,"SPAN",{});var Ee=v(ne);we=y(Ee,"Last move blocks opponent"),Ee.forEach(u),le=C(h),$e=m(h,"SPAN",{});var Ve=v($e);Me=y(Ve,te),Ve.forEach(u),h.forEach(u),this.h()},h(){X(e,"class","grid2cols svelte-1lw5ne4")},m(K,h){G(K,e,h),a(e,n),a(n,t),a(e,r),D.m(e,null),a(e,f),a(e,i),a(i,c),a(e,_),a(e,g),a(g,I),a(e,$),a(e,k),a(k,d),a(e,b),a(e,w),a(w,B),a(e,O),a(e,M),a(M,W),a(e,Q),a(e,Z),a(Z,V),a(e,oe),a(e,q),a(q,T),a(e,A),a(e,z),a(z,ee),a(e,me),a(e,x),a(x,pe),a(e,_e),a(e,he),a(he,ve),a(e,be),a(e,ne),a(ne,we),a(e,le),a(e,$e),a($e,Me)},p(K,h){re!==(re=Ie(K,h))&&(D.d(1),D=re(K),D&&(D.c(),D.m(e,f))),h&1&&S!==(S=Re(K[3],K[2])?"✅":"❌")&&se(I,S),h&1&&R!==(R=Je(K[3],K[2],K[1])?"✅":"❌")&&se(B,R),h&1&&J!==(J=st(K[3],K[2],K[1])?"✅":"❌")&&se(V,J),h&1&&H!==(H=kt(K[3],K[2],K[1])?"✅":"❌")&&se(ee,H),h&1&&ge!==(ge=at(K[3],K[2],K[1])?"✅":"❌")&&se(ve,ge),h&1&&te!==(te=Je(K[3],K[2],K[1])?"✅":"❌")&&se(Me,te)},d(K){K&&u(e),D.d()}}}function xn(l){let e,n;return{c(){e=p("span"),n=P("Edge")},l(t){e=m(t,"SPAN",{});var r=v(e);n=y(r,"Edge"),r.forEach(u)},m(t,r){G(t,e,r),a(e,n)},d(t){t&&u(e)}}}function el(l){let e,n;return{c(){e=p("span"),n=P("Corner")},l(t){e=m(t,"SPAN",{});var r=v(e);n=y(r,"Corner"),r.forEach(u)},m(t,r){G(t,e,r),a(e,n)},d(t){t&&u(e)}}}function tl(l){let e,n;return{c(){e=p("span"),n=P("Center")},l(t){e=m(t,"SPAN",{});var r=v(e);n=y(r,"Center"),r.forEach(u)},m(t,r){G(t,e,r),a(e,n)},d(t){t&&u(e)}}}function nl(l){let e,n=l[0]&&Vt(vt(l));return{c(){n&&n.c(),e=nt()},l(t){n&&n.l(t),e=nt()},m(t,r){n&&n.m(t,r),G(t,e,r)},p(t,[r]){t[0]?n?n.p(vt(t),r):(n=Vt(vt(t)),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Te,o:Te,d(t){n&&n.d(t),t&&u(e)}}}function ll(l,e,n){let{historyItem:t}=e;return l.$$set=r=>{"historyItem"in r&&n(0,t=r.historyItem)},[t]}class rl extends Se{constructor(e){super(),Ne(this,e,ll,nl,Ce,{historyItem:0})}}function Lt(l,e,n){const t=l.slice();return t[2]=e[n],t}function Rt(l){let e,n,t,r,o,s,f,i,c,_,g,S,I,$,k,d=l[0].length===0&&Ft(),b=[...l[0]].reverse(),w=[];for(let B=0;B<b.length;B+=1)w[B]=Wt(Lt(l,b,B));const R=B=>U(w[B],1,1,()=>{w[B]=null});return{c(){e=p("div"),d&&d.c(),n=N(),t=p("h4"),r=P("Move"),o=N(),s=p("h4"),f=P("Selection"),i=N(),c=p("h4"),_=P("AI"),g=N(),S=p("h4"),I=P("Stats"),$=N();for(let B=0;B<w.length;B+=1)w[B].c();this.h()},l(B){e=m(B,"DIV",{class:!0});var O=v(e);d&&d.l(O),n=C(O),t=m(O,"H4",{});var M=v(t);r=y(M,"Move"),M.forEach(u),o=C(O),s=m(O,"H4",{});var W=v(s);f=y(W,"Selection"),W.forEach(u),i=C(O),c=m(O,"H4",{});var Q=v(c);_=y(Q,"AI"),Q.forEach(u),g=C(O),S=m(O,"H4",{});var Z=v(S);I=y(Z,"Stats"),Z.forEach(u),$=C(O);for(let J=0;J<w.length;J+=1)w[J].l(O);O.forEach(u),this.h()},h(){X(e,"class","grid4cols svelte-1ofp4bt")},m(B,O){G(B,e,O),d&&d.m(e,null),a(e,n),a(e,t),a(t,r),a(e,o),a(e,s),a(s,f),a(e,i),a(e,c),a(c,_),a(e,g),a(e,S),a(S,I),a(e,$);for(let M=0;M<w.length;M+=1)w[M].m(e,null);k=!0},p(B,O){if(B[0].length===0?d||(d=Ft(),d.c(),d.m(e,n)):d&&(d.d(1),d=null),O&1){b=[...B[0]].reverse();let M;for(M=0;M<b.length;M+=1){const W=Lt(B,b,M);w[M]?(w[M].p(W,O),F(w[M],1)):(w[M]=Wt(W),w[M].c(),F(w[M],1),w[M].m(e,null))}for(Ue(),M=b.length;M<w.length;M+=1)R(M);Xe()}},i(B){if(!k){for(let O=0;O<b.length;O+=1)F(w[O]);k=!0}},o(B){w=w.filter(Boolean);for(let O=0;O<w.length;O+=1)U(w[O]);k=!1},d(B){B&&u(e),d&&d.d(),ze(w,B)}}}function Ft(l){let e,n;return{c(){e=p("p"),n=P("No move yet.")},l(t){e=m(t,"P",{});var r=v(e);n=y(r,"No move yet."),r.forEach(u)},m(t,r){G(t,e,r),a(e,n)},d(t){t&&u(e)}}}function ol(l){let e;return{c(){e=p("span"),this.h()},l(n){e=m(n,"SPAN",{class:!0}),v(e).forEach(u),this.h()},h(){X(e,"class","item svelte-1ofp4bt")},m(n,t){G(n,e,t)},p:Te,d(n){n&&u(e)}}}function sl(l){let e,n=l[2].aiChoice.score+"",t,r,o=l[2].aiChoice.reason+"",s;return{c(){e=p("span"),t=P(n),r=P(" - "),s=P(o),this.h()},l(f){e=m(f,"SPAN",{class:!0});var i=v(e);t=y(i,n),r=y(i," - "),s=y(i,o),i.forEach(u),this.h()},h(){X(e,"class","item svelte-1ofp4bt")},m(f,i){G(f,e,i),a(e,t),a(e,r),a(e,s)},p(f,i){i&1&&n!==(n=f[2].aiChoice.score+"")&&se(t,n),i&1&&o!==(o=f[2].aiChoice.reason+"")&&se(s,o)},d(f){f&&u(e)}}}function Wt(l){let e,n,t,r,o=l[2].method+"",s,f,i,c,_,g,S;n=new It({props:{board:l[2].board,dimensionPx:{width:100,height:100},highlightCell:$t(l[2].moveAsIndex)}});function I(d,b){return d[2].aiChoice?sl:ol}let $=I(l),k=$(l);return _=new rl({props:{historyItem:l[2]}}),{c(){e=p("div"),ae(n.$$.fragment),t=N(),r=p("span"),s=P(o),f=N(),k.c(),i=N(),c=p("div"),ae(_.$$.fragment),g=N(),this.h()},l(d){e=m(d,"DIV",{class:!0});var b=v(e);ie(n.$$.fragment,b),b.forEach(u),t=C(d),r=m(d,"SPAN",{class:!0});var w=v(r);s=y(w,o),w.forEach(u),f=C(d),k.l(d),i=C(d),c=m(d,"DIV",{class:!0});var R=v(c);ie(_.$$.fragment,R),g=C(R),R.forEach(u),this.h()},h(){X(e,"class","item svelte-1ofp4bt"),X(r,"class","item svelte-1ofp4bt"),X(c,"class","item svelte-1ofp4bt")},m(d,b){G(d,e,b),fe(n,e,null),G(d,t,b),G(d,r,b),a(r,s),G(d,f,b),k.m(d,b),G(d,i,b),G(d,c,b),fe(_,c,null),a(c,g),S=!0},p(d,b){const w={};b&1&&(w.board=d[2].board),b&1&&(w.highlightCell=$t(d[2].moveAsIndex)),n.$set(w),(!S||b&1)&&o!==(o=d[2].method+"")&&se(s,o),$===($=I(d))&&k?k.p(d,b):(k.d(1),k=$(d),k&&(k.c(),k.m(i.parentNode,i)));const R={};b&1&&(R.historyItem=d[2]),_.$set(R)},i(d){S||(F(n.$$.fragment,d),F(_.$$.fragment,d),S=!0)},o(d){U(n.$$.fragment,d),U(_.$$.fragment,d),S=!1},d(d){d&&u(e),ce(n),d&&u(t),d&&u(r),d&&u(f),k.d(d),d&&u(i),d&&u(c),ce(_)}}}function al(l){let e,n,t=l[1]&&Rt(l);return{c(){e=p("div"),t&&t.c()},l(r){e=m(r,"DIV",{});var o=v(e);t&&t.l(o),o.forEach(u)},m(r,o){G(r,e,o),t&&t.m(e,null),n=!0},p(r,[o]){r[1]?t?(t.p(r,o),o&2&&F(t,1)):(t=Rt(r),t.c(),F(t,1),t.m(e,null)):t&&(Ue(),U(t,1,1,()=>{t=null}),Xe())},i(r){n||(F(t),n=!0)},o(r){U(t),n=!1},d(r){r&&u(e),t&&t.d()}}}function il(l,e,n){let{history:t}=e,{showMoveHistory:r}=e;return l.$$set=o=>{"history"in o&&n(0,t=o.history),"showMoveHistory"in o&&n(1,r=o.showMoveHistory)},[t,r]}class fl extends Se{constructor(e){super(),Ne(this,e,il,al,Ce,{history:0,showMoveHistory:1})}}function cl(l){let e,n;return e=new It({props:{board:l[0].board,dimensionPx:{width:100,height:100}}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.board=t[0].board),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function ul(l){let e,n;return e=new fl({props:{history:l[0].moveHistory,showMoveHistory:l[1]}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.history=t[0].moveHistory),r&2&&(o.showMoveHistory=t[1]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function _l(l){let e,n,t,r,o,s=l[2](l[0])+"",f,i,c,_=l[1]?"Hide":"Show",g,S,I,$,k,d,b,w;const R=[ul,cl],B=[];function O(M,W){return M[1]?0:1}return $=O(l),k=B[$]=R[$](l),{c(){e=p("div"),n=p("h4"),t=P("Game info"),r=N(),o=p("span"),f=P(s),i=N(),c=p("button"),g=P(_),S=P(" move history"),I=N(),k.c()},l(M){e=m(M,"DIV",{});var W=v(e);n=m(W,"H4",{});var Q=v(n);t=y(Q,"Game info"),Q.forEach(u),r=C(W),o=m(W,"SPAN",{});var Z=v(o);f=y(Z,s),Z.forEach(u),i=C(W),c=m(W,"BUTTON",{});var J=v(c);g=y(J,_),S=y(J," move history"),J.forEach(u),I=C(W),k.l(W),W.forEach(u)},m(M,W){G(M,e,W),a(e,n),a(n,t),a(e,r),a(e,o),a(o,f),a(e,i),a(e,c),a(c,g),a(c,S),a(e,I),B[$].m(e,null),d=!0,b||(w=Pe(c,"click",l[3]),b=!0)},p(M,[W]){(!d||W&1)&&s!==(s=M[2](M[0])+"")&&se(f,s),(!d||W&2)&&_!==(_=M[1]?"Hide":"Show")&&se(g,_);let Q=$;$=O(M),$===Q?B[$].p(M,W):(Ue(),U(B[Q],1,1,()=>{B[Q]=null}),Xe(),k=B[$],k?k.p(M,W):(k=B[$]=R[$](M),k.c()),F(k,1),k.m(e,null))},i(M){d||(F(k),d=!0)},o(M){U(k),d=!1},d(M){M&&u(e),B[$].d(),b=!1,w()}}}function hl(l,e,n){let{game:t}=e,r=!1;const o=f=>!f||!f.state?"N/A":f.state==="not_over"?"Turn: "+(f.currentPlayer===j.player?"Player":"Computer"):f.state==="player_win"?"Player Win":f.state==="computer_win"?"Computer Win":f.state==="draw"?"Draw":f.state==="over"?"Game Over":"Invalid Game",s=()=>n(1,r=!r);return l.$$set=f=>{"game"in f&&n(0,t=f.game)},[t,r,o,s]}class hn extends Se{constructor(e){super(),Ne(this,e,hl,_l,Ce,{game:0})}}function Ut(l,e,n){const t=l.slice();return t[12]=e[n],t}function Xt(l){let e,n,t,r;return{c(){e=p("p"),n=P("Restarting in "),t=P(l[1]),r=P(" seconds")},l(o){e=m(o,"P",{});var s=v(e);n=y(s,"Restarting in "),t=y(s,l[1]),r=y(s," seconds"),s.forEach(u)},m(o,s){G(o,e,s),a(e,n),a(e,t),a(e,r)},p(o,s){s&2&&se(t,o[1])},d(o){o&&u(e)}}}function jt(l){let e,n=l[12]+"",t,r;return{c(){e=p("option"),t=P(n),r=N(),this.h()},l(o){e=m(o,"OPTION",{});var s=v(e);t=y(s,n),r=C(s),s.forEach(u),this.h()},h(){e.__value=l[12],e.value=e.__value},m(o,s){G(o,e,s),a(e,t),a(e,r)},p:Te,d(o){o&&u(e)}}}function zt(l){let e,n,t,r,o,s,f;return n=new It({props:{board:l[0].board,dimensionPx:{width:400,height:400},onClick:l[3],highlightMouse:!0}}),r=new _n({props:{board:l[0].board}}),s=new hn({props:{game:l[0]}}),{c(){e=p("div"),ae(n.$$.fragment),t=N(),ae(r.$$.fragment),o=N(),ae(s.$$.fragment),this.h()},l(i){e=m(i,"DIV",{class:!0});var c=v(e);ie(n.$$.fragment,c),t=C(c),ie(r.$$.fragment,c),c.forEach(u),o=C(i),ie(s.$$.fragment,i),this.h()},h(){X(e,"class","grid2colsResponsive svelte-1epiyf5")},m(i,c){G(i,e,c),fe(n,e,null),a(e,t),fe(r,e,null),G(i,o,c),fe(s,i,c),f=!0},p(i,c){const _={};c&1&&(_.board=i[0].board),n.$set(_);const g={};c&1&&(g.board=i[0].board),r.$set(g);const S={};c&1&&(S.game=i[0]),s.$set(S)},i(i){f||(F(n.$$.fragment,i),F(r.$$.fragment,i),F(s.$$.fragment,i),f=!0)},o(i){U(n.$$.fragment,i),U(r.$$.fragment,i),U(s.$$.fragment,i),f=!1},d(i){i&&u(e),ce(n),ce(r),i&&u(o),ce(s,i)}}}function dl(l){let e,n,t,r,o,s,f,i,c,_,g,S,I,$,k,d,b,w,R,B,O,M,W,Q,Z,J,V=l[1]>0&&Xt(l),oe=Object.keys(Ye),q=[];for(let A=0;A<oe.length;A+=1)q[A]=jt(Ut(l,oe,A));let T=l[0].board&&zt(l);return{c(){e=p("h2"),n=P("Game"),t=N(),r=p("div"),V&&V.c(),o=N(),s=p("label"),f=P("AI type"),i=N(),c=p("select");for(let A=0;A<q.length;A+=1)q[A].c();_=N(),g=p("div"),S=p("span"),I=P("Player automatic move"),$=N(),k=p("button"),d=P("Random move"),b=N(),w=p("button"),R=P("Hardcoded rules"),B=N(),O=p("button"),M=P("Complete hardcoded rules"),W=N(),T&&T.c(),this.h()},l(A){e=m(A,"H2",{});var z=v(e);n=y(z,"Game"),z.forEach(u),t=C(A),r=m(A,"DIV",{});var H=v(r);V&&V.l(H),o=C(H),s=m(H,"LABEL",{for:!0});var ee=v(s);f=y(ee,"AI type"),ee.forEach(u),i=C(H),c=m(H,"SELECT",{id:!0});var me=v(c);for(let ve=0;ve<q.length;ve+=1)q[ve].l(me);me.forEach(u),_=C(H),g=m(H,"DIV",{});var x=v(g);S=m(x,"SPAN",{});var pe=v(S);I=y(pe,"Player automatic move"),pe.forEach(u),$=C(x),k=m(x,"BUTTON",{});var _e=v(k);d=y(_e,"Random move"),_e.forEach(u),b=C(x),w=m(x,"BUTTON",{});var he=v(w);R=y(he,"Hardcoded rules"),he.forEach(u),B=C(x),O=m(x,"BUTTON",{});var ge=v(O);M=y(ge,"Complete hardcoded rules"),ge.forEach(u),x.forEach(u),W=C(H),T&&T.l(H),H.forEach(u),this.h()},h(){X(s,"for","aiType"),X(c,"id","aiType"),l[2]===void 0&&et(()=>l[4].call(c))},m(A,z){G(A,e,z),a(e,n),G(A,t,z),G(A,r,z),V&&V.m(r,null),a(r,o),a(r,s),a(s,f),a(r,i),a(r,c);for(let H=0;H<q.length;H+=1)q[H].m(c,null);Le(c,l[2]),a(r,_),a(r,g),a(g,S),a(S,I),a(g,$),a(g,k),a(k,d),a(g,b),a(g,w),a(w,R),a(g,B),a(g,O),a(O,M),a(r,W),T&&T.m(r,null),Q=!0,Z||(J=[Pe(c,"change",l[4]),Pe(k,"click",l[5]),Pe(w,"click",l[6]),Pe(O,"click",l[7])],Z=!0)},p(A,[z]){if(A[1]>0?V?V.p(A,z):(V=Xt(A),V.c(),V.m(r,o)):V&&(V.d(1),V=null),z&0){oe=Object.keys(Ye);let H;for(H=0;H<oe.length;H+=1){const ee=Ut(A,oe,H);q[H]?q[H].p(ee,z):(q[H]=jt(ee),q[H].c(),q[H].m(c,null))}for(;H<q.length;H+=1)q[H].d(1);q.length=oe.length}z&4&&Le(c,A[2]),A[0].board?T?(T.p(A,z),z&1&&F(T,1)):(T=zt(A),T.c(),F(T,1),T.m(r,null)):T&&(Ue(),U(T,1,1,()=>{T=null}),Xe())},i(A){Q||(F(T),Q=!0)},o(A){U(T),Q=!1},d(A){A&&u(e),A&&u(t),A&&u(r),V&&V.d(),ze(q,A),T&&T.d(),Z=!1,yt(J)}}}function pl(l,e,n){let t,r,o,s="hardcodedRulesComplete",f=!1;i();function i(){n(0,t=cn(f?j.computer:j.player)),f&&Qe(t,j.computer,s),r=t.currentPlayer,f=!f}const c=(k,d)=>{if(r===j.player){if(k==="manual"){if(!d)return;Xn(t,j.player,rt(d))}else Qe(t,j.player,k);n(0,t),r=t.currentPlayer,setTimeout(()=>{if(Qe(t,j.computer,s),n(0,t),r=t.currentPlayer,t.state!=="not_over"){n(1,o=4);const b=setInterval(()=>{n(1,o--,o),o===0&&(i(),clearInterval(b))},1e3)}},500)}},_=(k,d)=>{c(k,d)};function g(){s=tt(this),n(2,s)}return[t,o,s,_,g,()=>_("random"),()=>_("hardcodedRules"),()=>_("hardcodedRulesComplete")]}class ml extends Se{constructor(e){super(),Ne(this,e,pl,dl,Ce,{})}}function Yt(l,e,n){const t=l.slice();return t[12]=e[n],t}function vl(l,e,n){const t=l.slice();return t[15]=e[n],t}function Jt(l,e,n){const t=l.slice();return t[18]=e[n],t}function qt(l,e,n){const t=l.slice();return t[21]=e[n],t}function Kt(l,e,n){const t=l.slice();return t[21]=e[n],t}function Qt(l){let e,n=l[21]+"",t,r;return{c(){e=p("option"),t=P(n),r=N(),this.h()},l(o){e=m(o,"OPTION",{});var s=v(e);t=y(s,n),r=C(s),s.forEach(u),this.h()},h(){e.__value=l[21],e.value=e.__value},m(o,s){G(o,e,s),a(e,t),a(e,r)},p:Te,d(o){o&&u(e)}}}function Zt(l){let e,n=l[21]+"",t,r;return{c(){e=p("option"),t=P(n),r=N(),this.h()},l(o){e=m(o,"OPTION",{});var s=v(e);t=y(s,n),r=C(s),s.forEach(u),this.h()},h(){e.__value=l[21],e.value=e.__value},m(o,s){G(o,e,s),a(e,t),a(e,r)},p:Te,d(o){o&&u(e)}}}function xt(l){let e,n=l[18]+"",t,r,o,s=l[5][l[18]]+"",f,i,c,_=100*l[5][l[18]]/l[5].total+"",g,S;return{c(){e=p("span"),t=P(n),r=N(),o=p("span"),f=P(s),i=N(),c=p("span"),g=P(_),S=P(" %")},l(I){e=m(I,"SPAN",{});var $=v(e);t=y($,n),$.forEach(u),r=C(I),o=m(I,"SPAN",{});var k=v(o);f=y(k,s),k.forEach(u),i=C(I),c=m(I,"SPAN",{});var d=v(c);g=y(d,_),S=y(d," %"),d.forEach(u)},m(I,$){G(I,e,$),a(e,t),G(I,r,$),G(I,o,$),a(o,f),G(I,i,$),G(I,c,$),a(c,g),a(c,S)},p(I,$){$&32&&n!==(n=I[18]+"")&&se(t,n),$&32&&s!==(s=I[5][I[18]]+"")&&se(f,s),$&32&&_!==(_=100*I[5][I[18]]/I[5].total+"")&&se(g,_)},d(I){I&&u(e),I&&u(r),I&&u(o),I&&u(i),I&&u(c)}}}function gl(l){let e,n,t;return{c(){e=p("option"),n=P(l[15]),t=N(),this.h()},l(r){e=m(r,"OPTION",{});var o=v(e);n=y(o,l[15]),t=C(o),o.forEach(u),this.h()},h(){e.__value=l[15],e.value=e.__value},m(r,o){G(r,e,o),a(e,n),a(e,t)},p:Te,d(r){r&&u(e)}}}function en(l){let e,n;return e=new hn({props:{game:l[12]}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},p(t,r){const o={};r&1&&(o.game=t[12]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function tn(l){let e,n,t=(l[3]==="all"||l[3]===l[12].state)&&en(l);return{c(){t&&t.c(),e=nt()},l(r){t&&t.l(r),e=nt()},m(r,o){t&&t.m(r,o),G(r,e,o),n=!0},p(r,o){r[3]==="all"||r[3]===r[12].state?t?(t.p(r,o),o&9&&F(t,1)):(t=en(r),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(Ue(),U(t,1,1,()=>{t=null}),Xe())},i(r){n||(F(t),n=!0)},o(r){U(t),n=!1},d(r){t&&t.d(r),r&&u(e)}}}function bl(l){let e,n,t,r,o,s,f,i,c,_,g,S,I,$,k,d,b,w,R,B,O,M,W,Q,Z,J,V,oe,q,T,A,z,H,ee,me,x=JSON.stringify(l[3])+"",pe,_e,he,ge,ve,be=Object.keys(Ye),ne=[];for(let h=0;h<be.length;h+=1)ne[h]=Qt(Kt(l,be,h));let we=Object.keys(Ye),le=[];for(let h=0;h<we.length;h+=1)le[h]=Zt(qt(l,we,h));let $e=Object.keys(l[5]).sort(),te=[];for(let h=0;h<$e.length;h+=1)te[h]=xt(Jt(l,$e,h));let Me=["all","player_win","computer_win","draw","over"],Ie=[];for(let h=0;h<5;h+=1)Ie[h]=gl(vl(l,Me,h));let re=l[0],D=[];for(let h=0;h<re.length;h+=1)D[h]=tn(Yt(l,re,h));const K=h=>U(D[h],1,1,()=>{D[h]=null});return{c(){e=p("div"),n=p("h2"),t=P("Generator"),r=N(),o=p("button"),s=P("Create games"),f=N(),i=p("input"),c=N(),_=p("div"),g=p("label"),S=P("AI type"),I=N(),$=p("select");for(let h=0;h<ne.length;h+=1)ne[h].c();k=N(),d=p("label"),b=P("AI type"),w=N(),R=p("select");for(let h=0;h<le.length;h+=1)le[h].c();B=N(),O=p("div"),M=p("h3"),W=P("Stats"),Q=N(),Z=p("div");for(let h=0;h<te.length;h+=1)te[h].c();J=N(),V=p("div"),oe=p("h3"),q=P("Games"),T=N(),A=p("label"),z=P("Filter state"),H=N(),ee=p("select");for(let h=0;h<5;h+=1)Ie[h].c();me=N(),pe=P(x),_e=N();for(let h=0;h<D.length;h+=1)D[h].c();this.h()},l(h){e=m(h,"DIV",{});var L=v(e);n=m(L,"H2",{});var E=v(n);t=y(E,"Generator"),E.forEach(u),r=C(L),o=m(L,"BUTTON",{});var ue=v(o);s=y(ue,"Create games"),ue.forEach(u),f=C(L),i=m(L,"INPUT",{type:!0}),c=C(L),_=m(L,"DIV",{});var ye=v(_);g=m(ye,"LABEL",{for:!0});var Oe=v(g);S=y(Oe,"AI type"),Oe.forEach(u),I=C(ye),$=m(ye,"SELECT",{id:!0});var He=v($);for(let de=0;de<ne.length;de+=1)ne[de].l(He);He.forEach(u),k=C(ye),d=m(ye,"LABEL",{for:!0});var Ge=v(d);b=y(Ge,"AI type"),Ge.forEach(u),w=C(ye),R=m(ye,"SELECT",{id:!0});var ke=v(R);for(let de=0;de<le.length;de+=1)le[de].l(ke);ke.forEach(u),ye.forEach(u),B=C(L),O=m(L,"DIV",{});var Ae=v(O);M=m(Ae,"H3",{});var De=v(M);W=y(De,"Stats"),De.forEach(u),Q=C(Ae),Z=m(Ae,"DIV",{class:!0});var Be=v(Z);for(let de=0;de<te.length;de+=1)te[de].l(Be);Be.forEach(u),Ae.forEach(u),J=C(L),V=m(L,"DIV",{});var Ee=v(V);oe=m(Ee,"H3",{});var Ve=v(oe);q=y(Ve,"Games"),Ve.forEach(u),T=C(Ee),A=m(Ee,"LABEL",{for:!0});var Ke=v(A);z=y(Ke,"Filter state"),Ke.forEach(u),H=C(Ee),ee=m(Ee,"SELECT",{id:!0});var Tt=v(ee);for(let de=0;de<5;de+=1)Ie[de].l(Tt);Tt.forEach(u),me=C(Ee),pe=y(Ee,x),_e=C(Ee);for(let de=0;de<D.length;de+=1)D[de].l(Ee);Ee.forEach(u),L.forEach(u),this.h()},h(){X(i,"type","number"),X(g,"for","aiType"),X($,"id","aiType"),l[1]===void 0&&et(()=>l[8].call($)),X(d,"for","aiType"),X(R,"id","aiType"),l[2]===void 0&&et(()=>l[9].call(R)),X(Z,"class","grid3cols svelte-14twtn6"),X(A,"for","stateFilter"),X(ee,"id","stateFilter"),l[3]===void 0&&et(()=>l[10].call(ee))},m(h,L){G(h,e,L),a(e,n),a(n,t),a(e,r),a(e,o),a(o,s),a(e,f),a(e,i),At(i,l[4]),a(e,c),a(e,_),a(_,g),a(g,S),a(_,I),a(_,$);for(let E=0;E<ne.length;E+=1)ne[E].m($,null);Le($,l[1]),a(_,k),a(_,d),a(d,b),a(_,w),a(_,R);for(let E=0;E<le.length;E+=1)le[E].m(R,null);Le(R,l[2]),a(e,B),a(e,O),a(O,M),a(M,W),a(O,Q),a(O,Z);for(let E=0;E<te.length;E+=1)te[E].m(Z,null);a(e,J),a(e,V),a(V,oe),a(oe,q),a(V,T),a(V,A),a(A,z),a(V,H),a(V,ee);for(let E=0;E<5;E+=1)Ie[E].m(ee,null);Le(ee,l[3]),a(V,me),a(V,pe),a(V,_e);for(let E=0;E<D.length;E+=1)D[E].m(V,null);he=!0,ge||(ve=[Pe(o,"click",l[6]),Pe(i,"input",l[7]),Pe($,"change",l[8]),Pe(R,"change",l[9]),Pe(ee,"change",l[10])],ge=!0)},p(h,[L]){if(L&16&&rn(i.value)!==h[4]&&At(i,h[4]),L&0){be=Object.keys(Ye);let E;for(E=0;E<be.length;E+=1){const ue=Kt(h,be,E);ne[E]?ne[E].p(ue,L):(ne[E]=Qt(ue),ne[E].c(),ne[E].m($,null))}for(;E<ne.length;E+=1)ne[E].d(1);ne.length=be.length}if(L&2&&Le($,h[1]),L&0){we=Object.keys(Ye);let E;for(E=0;E<we.length;E+=1){const ue=qt(h,we,E);le[E]?le[E].p(ue,L):(le[E]=Zt(ue),le[E].c(),le[E].m(R,null))}for(;E<le.length;E+=1)le[E].d(1);le.length=we.length}if(L&4&&Le(R,h[2]),L&32){$e=Object.keys(h[5]).sort();let E;for(E=0;E<$e.length;E+=1){const ue=Jt(h,$e,E);te[E]?te[E].p(ue,L):(te[E]=xt(ue),te[E].c(),te[E].m(Z,null))}for(;E<te.length;E+=1)te[E].d(1);te.length=$e.length}if(L&8&&Le(ee,h[3]),(!he||L&8)&&x!==(x=JSON.stringify(h[3])+"")&&se(pe,x),L&9){re=h[0];let E;for(E=0;E<re.length;E+=1){const ue=Yt(h,re,E);D[E]?(D[E].p(ue,L),F(D[E],1)):(D[E]=tn(ue),D[E].c(),F(D[E],1),D[E].m(V,null))}for(Ue(),E=re.length;E<D.length;E+=1)K(E);Xe()}},i(h){if(!he){for(let L=0;L<re.length;L+=1)F(D[L]);he=!0}},o(h){D=D.filter(Boolean);for(let L=0;L<D.length;L+=1)U(D[L]);he=!1},d(h){h&&u(e),ze(ne,h),ze(le,h),ze(te,h),ze(Ie,h),ze(D,h),ge=!1,yt(ve)}}}function $l(l,e,n){let t=[],r="random",o="hardcodedRulesComplete",s,f=10;const i=()=>{const k=cn();for(;k.state==="not_over";)Qe(k,j.player,r),Qe(k,j.computer,o);return k};let c={total:0};const _=()=>{n(0,t=[]),n(5,c={total:0});for(let k=0;k<f;k++){const d=i();n(0,t=[d,...t]),c[d.state]||n(5,c[d.state]=0,c),n(5,c[d.state]+=1,c),n(5,c.total+=1,c)}};function g(){f=rn(this.value),n(4,f)}function S(){r=tt(this),n(1,r)}function I(){o=tt(this),n(2,o)}function $(){s=tt(this),n(3,s)}return[t,r,o,s,f,c,_,g,S,I,$]}class kl extends Se{constructor(e){super(),Ne(this,e,$l,bl,Ce,{})}}function El(l){let e,n,t,r,o,s,f,i,c,_,g,S,I,$,k,d,b,w,R,B,O,M,W,Q,Z,J,V,oe,q;return o=new on({props:{sketch:l[5]}}),J=new _n({props:{board:l[1]}}),{c(){e=p("h2"),n=P("Analyzer"),t=N(),r=p("div"),ae(o.$$.fragment),s=N(),f=p("div"),i=p("h4"),c=P("Controls"),_=N(),g=p("button"),S=P("Play O"),$=N(),k=p("button"),d=P("Play X"),w=N(),R=p("button"),B=P("Previous"),M=N(),W=p("button"),Q=P("Reset"),Z=N(),ae(J.$$.fragment),this.h()},l(T){e=m(T,"H2",{});var A=v(e);n=y(A,"Analyzer"),A.forEach(u),t=C(T),r=m(T,"DIV",{});var z=v(r);ie(o.$$.fragment,z),s=C(z),f=m(z,"DIV",{});var H=v(f);i=m(H,"H4",{});var ee=v(i);c=y(ee,"Controls"),ee.forEach(u),_=C(H),g=m(H,"BUTTON",{});var me=v(g);S=y(me,"Play O"),me.forEach(u),$=C(H),k=m(H,"BUTTON",{});var x=v(k);d=y(x,"Play X"),x.forEach(u),w=C(H),R=m(H,"BUTTON",{});var pe=v(R);B=y(pe,"Previous"),pe.forEach(u),M=C(H),W=m(H,"BUTTON",{});var _e=v(W);Q=y(_e,"Reset"),_e.forEach(u),H.forEach(u),Z=C(z),ie(J.$$.fragment,z),z.forEach(u),this.h()},h(){g.disabled=I=l[2]===j.player,k.disabled=b=l[2]===j.computer,R.disabled=O=(l[0]||[]).length<2},m(T,A){G(T,e,A),a(e,n),G(T,t,A),G(T,r,A),fe(o,r,null),a(r,s),a(r,f),a(f,i),a(i,c),a(f,_),a(f,g),a(g,S),a(f,$),a(f,k),a(k,d),a(f,w),a(f,R),a(R,B),a(f,M),a(f,W),a(W,Q),a(r,Z),fe(J,r,null),V=!0,oe||(q=[Pe(g,"click",l[6]),Pe(k,"click",l[7]),Pe(R,"click",l[4]),Pe(W,"click",l[3])],oe=!0)},p(T,[A]){(!V||A&4&&I!==(I=T[2]===j.player))&&(g.disabled=I),(!V||A&4&&b!==(b=T[2]===j.computer))&&(k.disabled=b),(!V||A&1&&O!==(O=(T[0]||[]).length<2))&&(R.disabled=O);const z={};A&2&&(z.board=T[1]),J.$set(z)},i(T){V||(F(o.$$.fragment,T),F(J.$$.fragment,T),V=!0)},o(T){U(o.$$.fragment,T),U(J.$$.fragment,T),V=!1},d(T){T&&u(e),T&&u(t),T&&u(r),ce(o),ce(J),oe=!1,yt(q)}}}function Pl(l,e,n){let t,r,o,s=j.player;function f($,k){qe(o,$,rt(k)),n(1,o),r.push({...o}),n(0,r),i()}function i(){n(2,s=s===j.player?j.computer:j.player)}function c(){n(1,o=an()),n(0,r=[{...o}])}function _(){r.length<=1||(r.pop(),n(0,r),n(1,o={...r[r.length-1]}))}const g=$=>{$.setup=()=>{t=$,$.createCanvas(400,400),c()},$.draw=()=>{$.background(0),Et($,o,{drawSelection:!0,selection:it($),currentPlayer:s})},$.mousePressed=()=>{if($.mouseX<0||$.mouseX>$.width||$.mouseY<0||$.mouseY>$.height)return;const k=it($);f(s,k)}};return Pt(()=>{t==null||t.remove()}),[r,o,s,c,_,g,()=>n(2,s=j.player),()=>n(2,s=j.computer)]}class yl extends Se{constructor(e){super(),Ne(this,e,Pl,El,Ce,{})}}function wl(l){let e;return{c(){e=P("Game")},l(n){e=y(n,"Game")},m(n,t){G(n,e,t)},d(n){n&&u(e)}}}function Sl(l){let e;return{c(){e=P("Generator")},l(n){e=y(n,"Generator")},m(n,t){G(n,e,t)},d(n){n&&u(e)}}}function Nl(l){let e;return{c(){e=P("Analyzer")},l(n){e=y(n,"Analyzer")},m(n,t){G(n,e,t)},d(n){n&&u(e)}}}function Cl(l){let e,n,t,r,o,s;return e=new pt({props:{$$slots:{default:[wl]},$$scope:{ctx:l}}}),t=new pt({props:{$$slots:{default:[Sl]},$$scope:{ctx:l}}}),o=new pt({props:{$$slots:{default:[Nl]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment),n=N(),ae(t.$$.fragment),r=N(),ae(o.$$.fragment)},l(f){ie(e.$$.fragment,f),n=C(f),ie(t.$$.fragment,f),r=C(f),ie(o.$$.fragment,f)},m(f,i){fe(e,f,i),G(f,n,i),fe(t,f,i),G(f,r,i),fe(o,f,i),s=!0},p(f,i){const c={};i&1&&(c.$$scope={dirty:i,ctx:f}),e.$set(c);const _={};i&1&&(_.$$scope={dirty:i,ctx:f}),t.$set(_);const g={};i&1&&(g.$$scope={dirty:i,ctx:f}),o.$set(g)},i(f){s||(F(e.$$.fragment,f),F(t.$$.fragment,f),F(o.$$.fragment,f),s=!0)},o(f){U(e.$$.fragment,f),U(t.$$.fragment,f),U(o.$$.fragment,f),s=!1},d(f){ce(e,f),f&&u(n),ce(t,f),f&&u(r),ce(o,f)}}}function Il(l){let e,n;return e=new ml({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function Tl(l){let e,n;return e=new kl({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function Ml(l){let e,n;return e=new yl({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function Al(l){let e,n,t,r,o,s,f,i;return e=new Nn({props:{$$slots:{default:[Cl]},$$scope:{ctx:l}}}),t=new mt({props:{$$slots:{default:[Il]},$$scope:{ctx:l}}}),o=new mt({props:{$$slots:{default:[Tl]},$$scope:{ctx:l}}}),f=new mt({props:{$$slots:{default:[Ml]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment),n=N(),ae(t.$$.fragment),r=N(),ae(o.$$.fragment),s=N(),ae(f.$$.fragment)},l(c){ie(e.$$.fragment,c),n=C(c),ie(t.$$.fragment,c),r=C(c),ie(o.$$.fragment,c),s=C(c),ie(f.$$.fragment,c)},m(c,_){fe(e,c,_),G(c,n,_),fe(t,c,_),G(c,r,_),fe(o,c,_),G(c,s,_),fe(f,c,_),i=!0},p(c,_){const g={};_&1&&(g.$$scope={dirty:_,ctx:c}),e.$set(g);const S={};_&1&&(S.$$scope={dirty:_,ctx:c}),t.$set(S);const I={};_&1&&(I.$$scope={dirty:_,ctx:c}),o.$set(I);const $={};_&1&&($.$$scope={dirty:_,ctx:c}),f.$set($)},i(c){i||(F(e.$$.fragment,c),F(t.$$.fragment,c),F(o.$$.fragment,c),F(f.$$.fragment,c),i=!0)},o(c){U(e.$$.fragment,c),U(t.$$.fragment,c),U(o.$$.fragment,c),U(f.$$.fragment,c),i=!1},d(c){ce(e,c),c&&u(n),ce(t,c),c&&u(r),ce(o,c),c&&u(s),ce(f,c)}}}function Bl(l){let e,n;return e=new En({props:{$$slots:{default:[Al]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},p(t,[r]){const o={};r&1&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}class Ol extends Se{constructor(e){super(),Ne(this,e,null,Bl,Ce,{})}}function Hl(l){let e,n;return e=new Ol({}),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,r){fe(e,t,r),n=!0},p:Te,i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}class Ll extends Se{constructor(e){super(),Ne(this,e,null,Hl,Ce,{})}}export{Ll as default};
