import{S as de,i as pe,s as he,C as Ke,k as $,l as b,m as g,h as u,n as U,b as I,N as $e,E as Qe,F as Ze,G as xe,f as D,t as L,H as Oe,a0 as Zt,o as Lt,j as xt,W as it,I as kt,a1 as Ft,A as en,$ as tn,g as Re,d as De,q as E,a as T,r as w,c as M,D as _,B as ye,u as j,w as x,x as ee,y as te,z as ne,J as Ut,e as Le,K as nn,M as yt,P as Xt,Q as rn}from"../../../chunks/index-1d785069.js";import{w as Ge}from"../../../chunks/index-c5a64178.js";import{P as zt}from"../../../chunks/P5-76a6b36f.js";let ln=1;function Yt(){return`svelte-tabs-${ln++}`}function on(t){let e,n,r,l;const o=t[4].default,s=Ke(o,t,t[3],null);return{c(){e=$("div"),s&&s.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var a=g(e);s&&s.l(a),a.forEach(u),this.h()},h(){U(e,"class","svelte-tabs")},m(i,a){I(i,e,a),s&&s.m(e,null),n=!0,r||(l=$e(e,"keydown",t[1]),r=!0)},p(i,[a]){s&&s.p&&(!n||a&8)&&Qe(s,o,i,i[3],n?xe(o,i[3],a,null):Ze(i[3]),null)},i(i){n||(D(s,i),n=!0)},o(i){L(s,i),n=!1},d(i){i&&u(e),s&&s.d(i),r=!1,l()}}}const ft={};function sn(t,e,n){const r=t.indexOf(e);t.splice(r,1),n.update(l=>l===e?t[r]||t[t.length-1]:l)}function an(t,e,n){let r,{$$slots:l={},$$scope:o}=e,{initialSelectedIndex:s=0}=e;const i=[],a=[],f=[],c=Ge({}),d=Ge({}),p=Ge(null);Oe(t,p,h=>n(5,r=h));const k=Ge(null);function y(h,P,A){h.push(P),A.update(V=>V||P),it(()=>sn(h,P,A))}function m(h){const P=a.indexOf(h);p.set(h),k.set(f[P])}Zt(ft,{registerTab(h){y(a,h,p)},registerTabElement(h){i.push(h)},registerPanel(h){y(f,h,k)},selectTab:m,selectedTab:p,selectedPanel:k,controls:c,labeledBy:d}),Lt(()=>{m(a[s])}),xt(()=>{for(let h=0;h<a.length;h++)c.update(P=>({...P,[a[h].id]:f[h].id})),d.update(P=>({...P,[f[h].id]:a[h].id}))});async function N(h){if(h.target.classList.contains("svelte-tabs__tab")){let P=a.indexOf(r);switch(h.key){case"ArrowRight":P+=1,P>a.length-1&&(P=0),m(a[P]),i[P].focus();break;case"ArrowLeft":P-=1,P<0&&(P=a.length-1),m(a[P]),i[P].focus()}}}return t.$$set=h=>{"initialSelectedIndex"in h&&n(2,s=h.initialSelectedIndex),"$$scope"in h&&n(3,o=h.$$scope)},[p,N,s,o,l]}class fn extends de{constructor(e){super(),pe(this,e,an,on,he,{initialSelectedIndex:2})}}function cn(t){let e,n,r,l,o,s;const i=t[9].default,a=Ke(i,t,t[8],null);return{c(){e=$("li"),a&&a.c(),this.h()},l(f){e=b(f,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var c=g(e);a&&a.l(c),c.forEach(u),this.h()},h(){U(e,"role","tab"),U(e,"id",t[3].id),U(e,"aria-controls",n=t[2][t[3].id]),U(e,"aria-selected",t[1]),U(e,"tabindex",r=t[1]?0:-1),U(e,"class","svelte-tabs__tab svelte-1fbofsd"),kt(e,"svelte-tabs__selected",t[1])},m(f,c){I(f,e,c),a&&a.m(e,null),t[10](e),l=!0,o||(s=$e(e,"click",t[11]),o=!0)},p(f,[c]){a&&a.p&&(!l||c&256)&&Qe(a,i,f,f[8],l?xe(i,f[8],c,null):Ze(f[8]),null),(!l||c&4&&n!==(n=f[2][f[3].id]))&&U(e,"aria-controls",n),(!l||c&2)&&U(e,"aria-selected",f[1]),(!l||c&2&&r!==(r=f[1]?0:-1))&&U(e,"tabindex",r),(!l||c&2)&&kt(e,"svelte-tabs__selected",f[1])},i(f){l||(D(a,f),l=!0)},o(f){L(a,f),l=!1},d(f){f&&u(e),a&&a.d(f),t[10](null),o=!1,s()}}}function un(t,e,n){let r,l,{$$slots:o={},$$scope:s}=e,i;const a={id:Yt()},{registerTab:f,registerTabElement:c,selectTab:d,selectedTab:p,controls:k}=Ft(ft);Oe(t,p,h=>n(7,r=h)),Oe(t,k,h=>n(2,l=h));let y;f(a),Lt(async()=>{await en(),c(i)});function m(h){tn[h?"unshift":"push"](()=>{i=h,n(0,i)})}const N=()=>d(a);return t.$$set=h=>{"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&n(1,y=r===a)},[i,y,l,a,d,p,k,r,s,o,m,N]}class Pt extends de{constructor(e){super(),pe(this,e,un,cn,he,{})}}function _n(t){let e,n;const r=t[1].default,l=Ke(r,t,t[0],null);return{c(){e=$("ul"),l&&l.c(),this.h()},l(o){e=b(o,"UL",{role:!0,class:!0});var s=g(e);l&&l.l(s),s.forEach(u),this.h()},h(){U(e,"role","tablist"),U(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(o,s){I(o,e,s),l&&l.m(e,null),n=!0},p(o,[s]){l&&l.p&&(!n||s&1)&&Qe(l,r,o,o[0],n?xe(r,o[0],s,null):Ze(o[0]),null)},i(o){n||(D(l,o),n=!0)},o(o){L(l,o),n=!1},d(o){o&&u(e),l&&l.d(o)}}}function dn(t,e,n){let{$$slots:r={},$$scope:l}=e;return t.$$set=o=>{"$$scope"in o&&n(0,l=o.$$scope)},[l,r]}class pn extends de{constructor(e){super(),pe(this,e,dn,_n,he,{})}}function Et(t){let e;const n=t[6].default,r=Ke(n,t,t[5],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&32)&&Qe(r,n,l,l[5],e?xe(n,l[5],o,null):Ze(l[5]),null)},i(l){e||(D(r,l),e=!0)},o(l){L(r,l),e=!1},d(l){r&&r.d(l)}}}function hn(t){let e,n,r,l=t[1]===t[2]&&Et(t);return{c(){e=$("div"),l&&l.c(),this.h()},l(o){e=b(o,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=g(e);l&&l.l(s),s.forEach(u),this.h()},h(){U(e,"id",t[2].id),U(e,"aria-labelledby",n=t[0][t[2].id]),U(e,"class","svelte-tabs__tab-panel svelte-epfyet"),U(e,"role","tabpanel")},m(o,s){I(o,e,s),l&&l.m(e,null),r=!0},p(o,[s]){o[1]===o[2]?l?(l.p(o,s),s&2&&D(l,1)):(l=Et(o),l.c(),D(l,1),l.m(e,null)):l&&(Re(),L(l,1,1,()=>{l=null}),De()),(!r||s&1&&n!==(n=o[0][o[2].id]))&&U(e,"aria-labelledby",n)},i(o){r||(D(l),r=!0)},o(o){L(l),r=!1},d(o){o&&u(e),l&&l.d()}}}function mn(t,e,n){let r,l,{$$slots:o={},$$scope:s}=e;const i={id:Yt()},{registerPanel:a,selectedPanel:f,labeledBy:c}=Ft(ft);return Oe(t,f,d=>n(1,l=d)),Oe(t,c,d=>n(0,r=d)),a(i),t.$$set=d=>{"$$scope"in d&&n(5,s=d.$$scope)},[r,l,i,f,c,s,o]}class wt extends de{constructor(e){super(),pe(this,e,mn,hn,he,{})}}function Pe(t){const{x:e,y:n}=t;if(e<0||e>2||n<0||n>2)throw new Error(`Invalid coords (${e},${n})`);return 8-(3*n+e)}function ct(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const vn=[448,56,7,292,146,73,273,84],$n=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],bn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],gn=[{p:2,o:5},{p:2,o:144}],Ce=(t,e)=>(t&e)===e;function St(t){let e=t,n=0;for(;e;)n+=e&1,e>>=1;return n}function It(t,e){const n=Pe(e);return R(t,n)}function R(t,e){return!(t&1<<e)}function lt(t,e){return t+2**e}const ot=t=>{for(const e of vn)if(Ce(t,e))return!0;return!1};var O=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(O||{});function jt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function we(t,e){return e===O.player?t.player:t.computer}function Se(t,e){return e===O.player?t.computer:t.player}function Fe(t,e){if(!e&&!kn(t))return"invalid_board";const n=ot(t.player),r=ot(t.computer);return n&&r?"draw":n?"player_win":r?"computer_win":Pn(t)?"not_over":"over"}function Ve(t,e,n){if(!yn(t,n))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${n} `);e===O.player?t.player=lt(t.player,n):t.computer=lt(t.computer,n)}function kn(t){if(t.player&t.computer)return!1;const e=St(t.player),n=St(t.computer);return!(Math.abs(e-n)>1)}function yn(t,e){return R(t.player,e)&&R(t.computer,e)}function Pn(t){return(t.player|t.computer)!==511}function ut(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const n=[];let r=0;for(;r<9;)e&1||n.push(r),r++,e>>=1;return n}const En=[2,5,8,1,4,7,0,3,6];function Ct(t){let e=0;return En.forEach((n,r)=>{R(t,r)||(e=lt(e,n))}),e}function Ue(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const n={...t};for(let r=0;r<e;r++)n.player=Ct(n.player),n.computer=Ct(n.computer);return n}function Ae(t,e){const n=we(t,e);return ot(n)}function Xe(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function Jt(t,e,n){const r=Pe(n),l=we(t,e),o=Se(t,e);if(r===4){const s=R(o,5)&&!R(l,3)||!R(l,5)&&R(o,3)?1:0,i=R(o,7)&&!R(l,1)||!R(l,7)&&R(o,1)?1:0,a=R(o,8)&&!R(l,0)||!R(l,8)&&R(o,0)?1:0,f=R(o,6)&&!R(l,2)||!R(l,6)&&R(o,2)?1:0;return s+i+a+f>=2}if(et.has(r)){const s={0:0,2:3,6:1,8:2}[r]||0,i=Ue(t,s),a=we(i,e),f=Se(i,e),c=R(f,2)&&!R(a,1)||!R(a,2)&&R(f,1),d=R(f,6)&&!R(a,3)||!R(a,6)&&R(f,3);return c&&d}if(_t.has(r)){const s={1:0,3:1,5:3,7:2}[r]||0,i=Ue(t,s),a=we(i,e),f=Se(i,e),c=R(f,2)&&!R(a,0)||!R(a,2)&&R(f,0),d=R(f,7)&&!R(a,4)||!R(a,7)&&R(f,4);return c&&d}return!1}function wn(t,e,n){const r=we(t,e),o={player:Se(t,e),computer:r};return Jt(o,O.player,n)}function ze(t,e,n){const r=Pe(n),l=we(t,e),o=Se(t,e);if(r===4){for(const{o:s,p:i}of $n)if(Ce(l,i)&&Ce(o,s))return!0}if(et.has(r)){const s={0:0,2:3,6:1,8:2}[r]||0,i=Ue(t,s),a=we(i,e),f=Se(i,e);for(const{o:c,p:d}of bn)if(Ce(a,d)&&Ce(f,c))return!0}if(_t.has(r)){const s={1:0,3:1,5:3,7:2}[r]||0,i=Ue(t,s),a=we(i,e),f=Se(i,e);for(const{o:c,p:d}of gn)if(Ce(a,d)&&Ce(f,c))return!0}return!1}const et=new Set([0,2,6,8]),_t=new Set([1,3,5,7]);function Ye(t,e,n){const r=Pe(n);if(!et.has(r))return!1;const l=8-r,o=Se(t,e);return!R(o,l)}function je(t){const e=Pe(t);return et.has(e)}function Je(t){const e=Pe(t);return _t.has(e)}function Sn(t,e){const n=ut(t);if(n.length===0)throw new Error("No available moves");let r;for(const l of n){const o={...t},s=ct(l);Ve(o,e,l);const i=In(o,e,s);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function In(t,e,n){return Ae(t,e)?{score:8,reason:"win",move:n}:ze(t,e,n)?{score:7,reason:"block_opponent",move:n}:Jt(t,e,n)?{score:6,reason:"create_fork",move:n}:wn(t,e,n)?{score:5,reason:"block_opponent_fork",move:n}:Xe(n)?{score:4,reason:"take_center",move:n}:Ye(t,e,n)?{score:3,reason:"take_opposite_corner",move:n}:je(n)?{score:2,reason:"take_corner",move:n}:Je(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Cn(t,e){const n=ut(t);if(n.length===0)throw new Error("No available moves");let r;for(const l of n){const o={...t},s=ct(l);Ve(o,e,l);const i=Nn(o,e,s);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function Nn(t,e,n){return Ae(t,O.player)?{score:8,reason:"win",move:n}:ze(t,e,n)?{score:7,reason:"block_opponent",move:n}:Xe(n)?{score:4,reason:"take_center",move:n}:Ye(t,e,n)?{score:3,reason:"take_opposite_corner",move:n}:je(n)?{score:2,reason:"take_corner",move:n}:Je(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function An(t){const e=ut(t);if(e.length===0)throw new Error("No available moves");const n=Math.floor(Math.random()*e.length),r=e[n];return{score:0,reason:"random",move:ct(r)}}const st={random:An,hardcodedRules:Cn,hardcodedRulesComplete:Sn},Tn=t=>({board:jt(),currentPlayer:t??O.player,state:"not_over",moveHistory:[]});function qt(t){t.currentPlayer=t.currentPlayer===O.player?O.computer:O.player}const Mn=(t,e,n)=>{t.state==="not_over"&&(Ve(t.board,e,Pe(n)),t.state=Fe(t.board),t.moveHistory.push({board:{...t.board},moveCoord:n,player:e,method:"manual"}),qt(t))},nt=(t,e,n)=>{if(t.state!=="not_over")return;const r=st[n],l=r(t.board,e);Ve(t.board,e,Pe(l.move)),t.state=Fe(t.board),t.moveHistory.push({board:{...t.board},moveCoord:l.move,player:e,method:n,aiChoice:l}),qt(t)},We=(t,e)=>{if(t.moveHistory.length>0){const n=t.moveHistory[t.moveHistory.length-1];if(n.player===e)return n}if(t.moveHistory.length>1){const n=t.moveHistory[t.moveHistory.length-2];if(n.player===e)return n}return null};function at(t,e,n){var c;const r=t.width/3,l=t.height/3,{height:o,width:s}=t,{drawSelection:i,selection:a,currentPlayer:f}=n||{};t.rectMode(t.CENTER),t.noFill(),t.stroke(255),t.strokeWeight(1),t.line(r,0,r,o),t.line(r*2,0,r*2,o),t.line(0,l,s,l),t.line(0,l*2,s,l*2),t.stroke(155),t.strokeWeight(3),t.rect(t.width/2,t.height/2,t.width,t.height),t.strokeWeight(4);for(let d=0;d<3;d++)for(let p=0;p<3;p++)((c=n==null?void 0:n.highlightCell)==null?void 0:c.x)===p&&(n==null?void 0:n.highlightCell.y)===d&&(t.noStroke(),t.fill(30,250,80,80),t.rect(p*r+r/2,d*l+l/2,r*.95,l*.95),t.noFill()),(!It(e.player,{x:p,y:d})||i&&f===O.player&&(a==null?void 0:a.x)===p&&(a==null?void 0:a.y)===d)&&(t.stroke("#64ccfc"),t.circle(p*r+r/2,d*l+l/2,l/2)),(!It(e.computer,{x:p,y:d})||i&&f===O.computer&&(a==null?void 0:a.x)===p&&(a==null?void 0:a.y)===d)&&(t.stroke("red"),t.line(p*r+r*.3,d*l+l*.3,p*r+r*.7,d*l+l*.7),t.line(p*r+r*.7,d*l+l*.3,p*r+r*.3,d*l+l*.7))}function qe(t){const{mouseX:e,mouseY:n,width:r,height:l}=t,o=Math.floor(t.map(e,0,r,0,3)),s=Math.floor(t.map(n,0,l,0,3));return{x:o,y:s}}function Nt(t){let e,n,r,l,o,s=Fe(t[0])+"",i,a,f,c,d,p,k,y,m,N,h=t[0].player.toString(2).padStart(9,"0")+"",P,A,V,X=t[0].player+"",J,q,re,le,Y,G=Ae(t[0],O.player)?"✅":"❌",Q,F,S,C,W,B,oe,ie,z,ue,se=t[0].computer.toString(2).padStart(9,"0")+"",fe,me,ce,be=t[0].computer+"",ve,Z,v,H,ge,Ee=Ae(t[0],O.computer)?"✅":"❌",Ie;return{c(){e=$("div"),n=$("span"),r=E("State:"),l=T(),o=$("span"),i=E(s),a=T(),f=$("div"),c=$("span"),d=E("Player 1"),p=$("span"),k=E("Player, O"),y=T(),m=$("span"),N=E("0b"),P=E(h),A=T(),V=$("span"),J=E(X),q=T(),re=$("span"),le=E("Wins"),Y=$("span"),Q=E(G),F=T(),S=$("div"),C=$("span"),W=E("Player 2"),B=$("span"),oe=E("Computer, X"),ie=T(),z=$("span"),ue=E("0b"),fe=E(se),me=T(),ce=$("span"),ve=E(be),Z=T(),v=$("span"),H=E("Wins"),ge=$("span"),Ie=E(Ee),this.h()},l(ae){e=b(ae,"DIV",{class:!0});var K=g(e);n=b(K,"SPAN",{});var Te=g(n);r=w(Te,"State:"),Te.forEach(u),l=M(K),o=b(K,"SPAN",{});var Me=g(o);i=w(Me,s),Me.forEach(u),a=M(K),f=b(K,"DIV",{class:!0});var _e=g(f);c=b(_e,"SPAN",{});var Be=g(c);d=w(Be,"Player 1"),Be.forEach(u),p=b(_e,"SPAN",{});var He=g(p);k=w(He,"Player, O"),He.forEach(u),y=M(_e),m=b(_e,"SPAN",{});var Ne=g(m);N=w(Ne,"0b"),P=w(Ne,h),Ne.forEach(u),A=M(_e),V=b(_e,"SPAN",{});var dt=g(V);J=w(dt,X),dt.forEach(u),q=M(_e),re=b(_e,"SPAN",{});var pt=g(re);le=w(pt,"Wins"),pt.forEach(u),Y=b(_e,"SPAN",{});var ht=g(Y);Q=w(ht,G),ht.forEach(u),_e.forEach(u),F=M(K),S=b(K,"DIV",{class:!0});var ke=g(S);C=b(ke,"SPAN",{});var mt=g(C);W=w(mt,"Player 2"),mt.forEach(u),B=b(ke,"SPAN",{});var vt=g(B);oe=w(vt,"Computer, X"),vt.forEach(u),ie=M(ke),z=b(ke,"SPAN",{});var tt=g(z);ue=w(tt,"0b"),fe=w(tt,se),tt.forEach(u),me=M(ke),ce=b(ke,"SPAN",{});var $t=g(ce);ve=w($t,be),$t.forEach(u),Z=M(ke),v=b(ke,"SPAN",{});var bt=g(v);H=w(bt,"Wins"),bt.forEach(u),ge=b(ke,"SPAN",{});var gt=g(ge);Ie=w(gt,Ee),gt.forEach(u),ke.forEach(u),K.forEach(u),this.h()},h(){U(f,"class","grid2cols svelte-1lw5ne4"),U(S,"class","grid2cols svelte-1lw5ne4"),U(e,"class","grid2cols svelte-1lw5ne4")},m(ae,K){I(ae,e,K),_(e,n),_(n,r),_(e,l),_(e,o),_(o,i),_(e,a),_(e,f),_(f,c),_(c,d),_(f,p),_(p,k),_(f,y),_(f,m),_(m,N),_(m,P),_(f,A),_(f,V),_(V,J),_(f,q),_(f,re),_(re,le),_(f,Y),_(Y,Q),_(e,F),_(e,S),_(S,C),_(C,W),_(S,B),_(B,oe),_(S,ie),_(S,z),_(z,ue),_(z,fe),_(S,me),_(S,ce),_(ce,ve),_(S,Z),_(S,v),_(v,H),_(S,ge),_(ge,Ie)},p(ae,K){K&1&&s!==(s=Fe(ae[0])+"")&&j(i,s),K&1&&h!==(h=ae[0].player.toString(2).padStart(9,"0")+"")&&j(P,h),K&1&&X!==(X=ae[0].player+"")&&j(J,X),K&1&&G!==(G=Ae(ae[0],O.player)?"✅":"❌")&&j(Q,G),K&1&&se!==(se=ae[0].computer.toString(2).padStart(9,"0")+"")&&j(fe,se),K&1&&be!==(be=ae[0].computer+"")&&j(ve,be),K&1&&Ee!==(Ee=Ae(ae[0],O.computer)?"✅":"❌")&&j(Ie,Ee)},d(ae){ae&&u(e)}}}function Bn(t){let e,n,r,l,o=t[0]&&Nt(t);return{c(){e=$("div"),n=$("h4"),r=E("Board info"),l=T(),o&&o.c()},l(s){e=b(s,"DIV",{});var i=g(e);n=b(i,"H4",{});var a=g(n);r=w(a,"Board info"),a.forEach(u),l=M(i),o&&o.l(i),i.forEach(u)},m(s,i){I(s,e,i),_(e,n),_(n,r),_(e,l),o&&o.m(e,null)},p(s,[i]){s[0]?o?o.p(s,i):(o=Nt(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:ye,o:ye,d(s){s&&u(e),o&&o.d()}}}function Hn(t,e,n){let{board:r}=e;return t.$$set=l=>{"board"in l&&n(0,r=l.board)},[r]}class Kt extends de{constructor(e){super(),pe(this,e,Hn,Bn,he,{board:0})}}function On(t){let e,n,r=JSON.stringify(t[0])+"",l;return{c(){e=$("p"),n=E("Board is undefined "),l=E(r)},l(o){e=b(o,"P",{});var s=g(e);n=w(s,"Board is undefined "),l=w(s,r),s.forEach(u)},m(o,s){I(o,e,s),_(e,n),_(e,l)},p(o,s){s&1&&r!==(r=JSON.stringify(o[0])+"")&&j(l,r)},i:ye,o:ye,d(o){o&&u(e)}}}function Rn(t){let e,n;return e=new zt({props:{sketch:t[1]}}),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,l){te(e,r,l),n=!0},p:ye,i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function Dn(t){let e,n,r,l;const o=[Rn,On],s=[];function i(a,f){return a[0]?0:1}return n=i(t),r=s[n]=o[n](t),{c(){e=$("div"),r.c()},l(a){e=b(a,"DIV",{});var f=g(e);r.l(f),f.forEach(u)},m(a,f){I(a,e,f),s[n].m(e,null),l=!0},p(a,[f]){let c=n;n=i(a),n===c?s[n].p(a,f):(Re(),L(s[c],1,1,()=>{s[c]=null}),De(),r=s[n],r?r.p(a,f):(r=s[n]=o[n](a),r.c()),D(r,1),r.m(e,null))},i(a){l||(D(r),l=!0)},o(a){L(r),l=!1},d(a){a&&u(e),s[n].d()}}}function Vn(t,e,n){let{dimensionPx:r}=e,{board:l}=e,{highlightCell:o=void 0}=e,{highlightMouse:s=!1}=e,{onClick:i=()=>{}}=e,a;const f=c=>{c.setup=()=>{a=c,c.createCanvas(r.width,r.height)},c.draw=()=>{c.background(0),s?at(c,l,{highlightCell:qe(c)}):at(c,l,{highlightCell:o})},c.mousePressed=()=>{c.mouseX<0||c.mouseX>c.width||c.mouseY<0||c.mouseY>c.height||i("manual",qe(c))}};return it(()=>{a==null||a.remove()}),t.$$set=c=>{"dimensionPx"in c&&n(2,r=c.dimensionPx),"board"in c&&n(0,l=c.board),"highlightCell"in c&&n(3,o=c.highlightCell),"highlightMouse"in c&&n(4,s=c.highlightMouse),"onClick"in c&&n(5,i=c.onClick)},[l,f,r,o,s,i]}class Qt extends de{constructor(e){super(),pe(this,e,Vn,Dn,he,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,onClick:5})}}function At(t,e,n){const r=t.slice();return r[3]=e[n],r}function Tt(t){let e,n,r,l,o,s,i,a,f,c,d,p,k=t[0].length===0&&Mt(),y=[...t[0]].reverse(),m=[];for(let h=0;h<y.length;h+=1)m[h]=Bt(At(t,y,h));const N=h=>L(m[h],1,1,()=>{m[h]=null});return{c(){e=$("div"),k&&k.c(),n=T(),r=$("h4"),l=E("Move"),o=T(),s=$("h4"),i=E("Selection"),a=T(),f=$("h4"),c=E("AI"),d=T();for(let h=0;h<m.length;h+=1)m[h].c();this.h()},l(h){e=b(h,"DIV",{class:!0});var P=g(e);k&&k.l(P),n=M(P),r=b(P,"H4",{});var A=g(r);l=w(A,"Move"),A.forEach(u),o=M(P),s=b(P,"H4",{});var V=g(s);i=w(V,"Selection"),V.forEach(u),a=M(P),f=b(P,"H4",{});var X=g(f);c=w(X,"AI"),X.forEach(u),d=M(P);for(let J=0;J<m.length;J+=1)m[J].l(P);P.forEach(u),this.h()},h(){U(e,"class","grid4cols svelte-1b41g2d")},m(h,P){I(h,e,P),k&&k.m(e,null),_(e,n),_(e,r),_(r,l),_(e,o),_(e,s),_(s,i),_(e,a),_(e,f),_(f,c),_(e,d);for(let A=0;A<m.length;A+=1)m[A].m(e,null);p=!0},p(h,P){if(h[0].length===0?k||(k=Mt(),k.c(),k.m(e,n)):k&&(k.d(1),k=null),P&1){y=[...h[0]].reverse();let A;for(A=0;A<y.length;A+=1){const V=At(h,y,A);m[A]?(m[A].p(V,P),D(m[A],1)):(m[A]=Bt(V),m[A].c(),D(m[A],1),m[A].m(e,null))}for(Re(),A=y.length;A<m.length;A+=1)N(A);De()}},i(h){if(!p){for(let P=0;P<y.length;P+=1)D(m[P]);p=!0}},o(h){m=m.filter(Boolean);for(let P=0;P<m.length;P+=1)L(m[P]);p=!1},d(h){h&&u(e),k&&k.d(),Ut(m,h)}}}function Mt(t){let e,n;return{c(){e=$("p"),n=E("No move yet.")},l(r){e=b(r,"P",{});var l=g(e);n=w(l,"No move yet."),l.forEach(u)},m(r,l){I(r,e,l),_(e,n)},d(r){r&&u(e)}}}function Gn(t){let e;return{c(){e=$("span")},l(n){e=b(n,"SPAN",{}),g(e).forEach(u)},m(n,r){I(n,e,r)},p:ye,d(n){n&&u(e)}}}function Wn(t){let e,n=t[3].aiChoice.score+"",r,l,o=t[3].aiChoice.reason+"",s;return{c(){e=$("span"),r=E(n),l=E(" - "),s=E(o)},l(i){e=b(i,"SPAN",{});var a=g(e);r=w(a,n),l=w(a," - "),s=w(a,o),a.forEach(u)},m(i,a){I(i,e,a),_(e,r),_(e,l),_(e,s)},p(i,a){a&1&&n!==(n=i[3].aiChoice.score+"")&&j(r,n),a&1&&o!==(o=i[3].aiChoice.reason+"")&&j(s,o)},d(i){i&&u(e)}}}function Bt(t){let e,n,r,l=t[3].method+"",o,s,i,a;e=new Qt({props:{board:t[3].board,dimensionPx:{width:90,height:90},highlightCell:t[3].moveCoord}});function f(p,k){return p[3].aiChoice?Wn:Gn}let c=f(t),d=c(t);return{c(){x(e.$$.fragment),n=T(),r=$("span"),o=E(l),s=T(),d.c(),i=Le()},l(p){ee(e.$$.fragment,p),n=M(p),r=b(p,"SPAN",{});var k=g(r);o=w(k,l),k.forEach(u),s=M(p),d.l(p),i=Le()},m(p,k){te(e,p,k),I(p,n,k),I(p,r,k),_(r,o),I(p,s,k),d.m(p,k),I(p,i,k),a=!0},p(p,k){const y={};k&1&&(y.board=p[3].board),k&1&&(y.highlightCell=p[3].moveCoord),e.$set(y),(!a||k&1)&&l!==(l=p[3].method+"")&&j(o,l),c===(c=f(p))&&d?d.p(p,k):(d.d(1),d=c(p),d&&(d.c(),d.m(i.parentNode,i)))},i(p){a||(D(e.$$.fragment,p),a=!0)},o(p){L(e.$$.fragment,p),a=!1},d(p){ne(e,p),p&&u(n),p&&u(r),p&&u(s),d.d(p),p&&u(i)}}}function Ln(t){let e,n,r=t[1]?"Hide":"Show",l,o,s,i,a,f,c=t[1]&&Tt(t);return{c(){e=$("div"),n=$("button"),l=E(r),o=E(" move history"),s=T(),c&&c.c()},l(d){e=b(d,"DIV",{});var p=g(e);n=b(p,"BUTTON",{});var k=g(n);l=w(k,r),o=w(k," move history"),k.forEach(u),s=M(p),c&&c.l(p),p.forEach(u)},m(d,p){I(d,e,p),_(e,n),_(n,l),_(n,o),_(e,s),c&&c.m(e,null),i=!0,a||(f=$e(n,"click",t[2]),a=!0)},p(d,[p]){(!i||p&2)&&r!==(r=d[1]?"Hide":"Show")&&j(l,r),d[1]?c?(c.p(d,p),p&2&&D(c,1)):(c=Tt(d),c.c(),D(c,1),c.m(e,null)):c&&(Re(),L(c,1,1,()=>{c=null}),De())},i(d){i||(D(c),i=!0)},o(d){L(c),i=!1},d(d){d&&u(e),c&&c.d(),a=!1,f()}}}function Fn(t,e,n){let{history:r}=e,l=!0;const o=()=>n(1,l=!l);return t.$$set=s=>{"history"in s&&n(0,r=s.history)},[r,l,o]}class Un extends de{constructor(e){super(),pe(this,e,Fn,Ln,he,{history:0})}}function rt(t){const e=t.slice(),n=e[0];return e[1]=n.moveCoord,e[2]=n.player,e[3]=n.board,e[4]=n.aiChoice,e}function Ht(t){let e,n,r,l,o=t[1].x+"",s,i,a=t[1].y+"",f,c,d,p,k,y=Xe(t[1])?"✅":"❌",m,N,h,P,A,V=je(t[1])?"✅":"❌",X,J,q,re,le,Y=Je(t[1])?"✅":"❌",G,Q,F,S,C,W,B=Ye(t[3],t[2],t[1])?"✅":"❌",oe,ie,z,ue,se,fe,me=ze(t[3],t[2],t[1])?"✅":"❌",ce,be,ve,Z=t[4]&&Ot(t);return{c(){e=$("span"),n=E("Last move:"),r=T(),l=$("span"),s=E(o),i=E(", "),f=E(a),c=T(),d=$("span"),p=E("center"),k=$("span"),m=E(y),N=T(),h=$("span"),P=E("corner"),A=$("span"),X=E(V),J=T(),q=$("span"),re=E("side"),le=$("span"),G=E(Y),Q=T(),F=$("span"),S=E("Took opposite corner"),C=T(),W=$("span"),oe=E(B),ie=T(),z=$("span"),ue=E("Last move blocks opponent"),se=T(),fe=$("span"),ce=E(me),be=T(),Z&&Z.c(),ve=Le()},l(v){e=b(v,"SPAN",{});var H=g(e);n=w(H,"Last move:"),H.forEach(u),r=M(v),l=b(v,"SPAN",{});var ge=g(l);s=w(ge,o),i=w(ge,", "),f=w(ge,a),ge.forEach(u),c=M(v),d=b(v,"SPAN",{});var Ee=g(d);p=w(Ee,"center"),Ee.forEach(u),k=b(v,"SPAN",{});var Ie=g(k);m=w(Ie,y),Ie.forEach(u),N=M(v),h=b(v,"SPAN",{});var ae=g(h);P=w(ae,"corner"),ae.forEach(u),A=b(v,"SPAN",{});var K=g(A);X=w(K,V),K.forEach(u),J=M(v),q=b(v,"SPAN",{});var Te=g(q);re=w(Te,"side"),Te.forEach(u),le=b(v,"SPAN",{});var Me=g(le);G=w(Me,Y),Me.forEach(u),Q=M(v),F=b(v,"SPAN",{});var _e=g(F);S=w(_e,"Took opposite corner"),_e.forEach(u),C=M(v),W=b(v,"SPAN",{});var Be=g(W);oe=w(Be,B),Be.forEach(u),ie=M(v),z=b(v,"SPAN",{});var He=g(z);ue=w(He,"Last move blocks opponent"),He.forEach(u),se=M(v),fe=b(v,"SPAN",{});var Ne=g(fe);ce=w(Ne,me),Ne.forEach(u),be=M(v),Z&&Z.l(v),ve=Le()},m(v,H){I(v,e,H),_(e,n),I(v,r,H),I(v,l,H),_(l,s),_(l,i),_(l,f),I(v,c,H),I(v,d,H),_(d,p),I(v,k,H),_(k,m),I(v,N,H),I(v,h,H),_(h,P),I(v,A,H),_(A,X),I(v,J,H),I(v,q,H),_(q,re),I(v,le,H),_(le,G),I(v,Q,H),I(v,F,H),_(F,S),I(v,C,H),I(v,W,H),_(W,oe),I(v,ie,H),I(v,z,H),_(z,ue),I(v,se,H),I(v,fe,H),_(fe,ce),I(v,be,H),Z&&Z.m(v,H),I(v,ve,H)},p(v,H){H&1&&o!==(o=v[1].x+"")&&j(s,o),H&1&&a!==(a=v[1].y+"")&&j(f,a),H&1&&y!==(y=Xe(v[1])?"✅":"❌")&&j(m,y),H&1&&V!==(V=je(v[1])?"✅":"❌")&&j(X,V),H&1&&Y!==(Y=Je(v[1])?"✅":"❌")&&j(G,Y),H&1&&B!==(B=Ye(v[3],v[2],v[1])?"✅":"❌")&&j(oe,B),H&1&&me!==(me=ze(v[3],v[2],v[1])?"✅":"❌")&&j(ce,me),v[4]?Z?Z.p(v,H):(Z=Ot(v),Z.c(),Z.m(ve.parentNode,ve)):Z&&(Z.d(1),Z=null)},d(v){v&&u(e),v&&u(r),v&&u(l),v&&u(c),v&&u(d),v&&u(k),v&&u(N),v&&u(h),v&&u(A),v&&u(J),v&&u(q),v&&u(le),v&&u(Q),v&&u(F),v&&u(C),v&&u(W),v&&u(ie),v&&u(z),v&&u(se),v&&u(fe),v&&u(be),Z&&Z.d(v),v&&u(ve)}}}function Ot(t){let e,n,r,l,o=t[4].score+"",s,i,a,f,c,d,p=t[4].reason+"",k;return{c(){e=$("span"),n=E("Score"),r=T(),l=$("span"),s=E(o),i=T(),a=$("span"),f=E("Reason"),c=T(),d=$("span"),k=E(p)},l(y){e=b(y,"SPAN",{});var m=g(e);n=w(m,"Score"),m.forEach(u),r=M(y),l=b(y,"SPAN",{});var N=g(l);s=w(N,o),N.forEach(u),i=M(y),a=b(y,"SPAN",{});var h=g(a);f=w(h,"Reason"),h.forEach(u),c=M(y),d=b(y,"SPAN",{});var P=g(d);k=w(P,p),P.forEach(u)},m(y,m){I(y,e,m),_(e,n),I(y,r,m),I(y,l,m),_(l,s),I(y,i,m),I(y,a,m),_(a,f),I(y,c,m),I(y,d,m),_(d,k)},p(y,m){m&1&&o!==(o=y[4].score+"")&&j(s,o),m&1&&p!==(p=y[4].reason+"")&&j(k,p)},d(y){y&&u(e),y&&u(r),y&&u(l),y&&u(i),y&&u(a),y&&u(c),y&&u(d)}}}function Xn(t){let e,n=t[0]&&Ht(rt(t));return{c(){e=$("div"),n&&n.c(),this.h()},l(r){e=b(r,"DIV",{class:!0});var l=g(e);n&&n.l(l),l.forEach(u),this.h()},h(){U(e,"class","grid2cols svelte-1lw5ne4")},m(r,l){I(r,e,l),n&&n.m(e,null)},p(r,[l]){r[0]?n?n.p(rt(r),l):(n=Ht(rt(r)),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ye,o:ye,d(r){r&&u(e),n&&n.d()}}}function zn(t,e,n){let{historyItem:r}=e;return t.$$set=l=>{"historyItem"in l&&n(0,r=l.historyItem)},[r]}class Rt extends de{constructor(e){super(),pe(this,e,zn,Xn,he,{historyItem:0})}}function Yn(t){let e,n,r,l,o,s=t[1](t[0])+"",i,a,f,c,d,p,k,y,m;return c=new Rt({props:{historyItem:We(t[0],O.player)}}),p=new Rt({props:{historyItem:We(t[0],O.computer)}}),y=new Un({props:{history:t[0].moveHistory}}),{c(){e=$("div"),n=$("h4"),r=E("Game info"),l=T(),o=$("span"),i=E(s),a=T(),f=$("div"),x(c.$$.fragment),d=T(),x(p.$$.fragment),k=T(),x(y.$$.fragment),this.h()},l(N){e=b(N,"DIV",{});var h=g(e);n=b(h,"H4",{});var P=g(n);r=w(P,"Game info"),P.forEach(u),l=M(h),o=b(h,"SPAN",{});var A=g(o);i=w(A,s),A.forEach(u),a=M(h),f=b(h,"DIV",{class:!0});var V=g(f);ee(c.$$.fragment,V),d=M(V),ee(p.$$.fragment,V),V.forEach(u),k=M(h),ee(y.$$.fragment,h),h.forEach(u),this.h()},h(){U(f,"class","grid2cols svelte-1lw5ne4")},m(N,h){I(N,e,h),_(e,n),_(n,r),_(e,l),_(e,o),_(o,i),_(e,a),_(e,f),te(c,f,null),_(f,d),te(p,f,null),_(e,k),te(y,e,null),m=!0},p(N,[h]){(!m||h&1)&&s!==(s=N[1](N[0])+"")&&j(i,s);const P={};h&1&&(P.historyItem=We(N[0],O.player)),c.$set(P);const A={};h&1&&(A.historyItem=We(N[0],O.computer)),p.$set(A);const V={};h&1&&(V.history=N[0].moveHistory),y.$set(V)},i(N){m||(D(c.$$.fragment,N),D(p.$$.fragment,N),D(y.$$.fragment,N),m=!0)},o(N){L(c.$$.fragment,N),L(p.$$.fragment,N),L(y.$$.fragment,N),m=!1},d(N){N&&u(e),ne(c),ne(p),ne(y)}}}function jn(t,e,n){let{game:r}=e;const l=o=>!o||!o.state?"N/A":o.state==="not_over"?"Turn: "+(o.currentPlayer===O.player?"Player":"Computer"):o.state==="player_win"?"Player Win":o.state==="computer_win"?"Computer Win":o.state==="draw"?"Draw":o.state==="over"?"Game Over":"Invalid Game";return t.$$set=o=>{"game"in o&&n(0,r=o.game)},[r,l]}class Jn extends de{constructor(e){super(),pe(this,e,jn,Yn,he,{game:0})}}function Dt(t,e,n){const r=t.slice();return r[12]=e[n],r}function Vt(t){let e,n,r,l;return{c(){e=$("p"),n=E("Restarting in "),r=E(t[1]),l=E(" seconds")},l(o){e=b(o,"P",{});var s=g(e);n=w(s,"Restarting in "),r=w(s,t[1]),l=w(s," seconds"),s.forEach(u)},m(o,s){I(o,e,s),_(e,n),_(e,r),_(e,l)},p(o,s){s&2&&j(r,o[1])},d(o){o&&u(e)}}}function Gt(t){let e,n=t[12]+"",r,l;return{c(){e=$("option"),r=E(n),l=T(),this.h()},l(o){e=b(o,"OPTION",{});var s=g(e);r=w(s,n),l=M(s),s.forEach(u),this.h()},h(){e.__value=t[12],e.value=e.__value},m(o,s){I(o,e,s),_(e,r),_(e,l)},p:ye,d(o){o&&u(e)}}}function Wt(t){let e,n,r,l,o,s,i;return n=new Qt({props:{board:t[0].board,dimensionPx:{width:400,height:400},onClick:t[3],highlightMouse:!0}}),l=new Kt({props:{board:t[0].board}}),s=new Jn({props:{game:t[0]}}),{c(){e=$("div"),x(n.$$.fragment),r=T(),x(l.$$.fragment),o=T(),x(s.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var f=g(e);ee(n.$$.fragment,f),r=M(f),ee(l.$$.fragment,f),f.forEach(u),o=M(a),ee(s.$$.fragment,a),this.h()},h(){U(e,"class","grid2colsResponsive svelte-1epiyf5")},m(a,f){I(a,e,f),te(n,e,null),_(e,r),te(l,e,null),I(a,o,f),te(s,a,f),i=!0},p(a,f){const c={};f&1&&(c.board=a[0].board),n.$set(c);const d={};f&1&&(d.board=a[0].board),l.$set(d);const p={};f&1&&(p.game=a[0]),s.$set(p)},i(a){i||(D(n.$$.fragment,a),D(l.$$.fragment,a),D(s.$$.fragment,a),i=!0)},o(a){L(n.$$.fragment,a),L(l.$$.fragment,a),L(s.$$.fragment,a),i=!1},d(a){a&&u(e),ne(n),ne(l),a&&u(o),ne(s,a)}}}function qn(t){let e,n,r,l,o,s,i,a,f,c,d,p,k,y,m,N,h,P,A,V,X,J,q,re,le,Y,G=t[1]>0&&Vt(t),Q=Object.keys(st),F=[];for(let C=0;C<Q.length;C+=1)F[C]=Gt(Dt(t,Q,C));let S=t[0].board&&Wt(t);return{c(){e=$("h2"),n=E("Game"),r=T(),l=$("div"),G&&G.c(),o=T(),s=$("label"),i=E("AI type"),a=T(),f=$("select");for(let C=0;C<F.length;C+=1)F[C].c();c=T(),d=$("div"),p=$("span"),k=E("Player automatic move"),y=T(),m=$("button"),N=E("Random move"),h=T(),P=$("button"),A=E("Hardcoded rules"),V=T(),X=$("button"),J=E("Complete hardcoded rules"),q=T(),S&&S.c(),this.h()},l(C){e=b(C,"H2",{});var W=g(e);n=w(W,"Game"),W.forEach(u),r=M(C),l=b(C,"DIV",{});var B=g(l);G&&G.l(B),o=M(B),s=b(B,"LABEL",{for:!0});var oe=g(s);i=w(oe,"AI type"),oe.forEach(u),a=M(B),f=b(B,"SELECT",{id:!0});var ie=g(f);for(let ce=0;ce<F.length;ce+=1)F[ce].l(ie);ie.forEach(u),c=M(B),d=b(B,"DIV",{});var z=g(d);p=b(z,"SPAN",{});var ue=g(p);k=w(ue,"Player automatic move"),ue.forEach(u),y=M(z),m=b(z,"BUTTON",{});var se=g(m);N=w(se,"Random move"),se.forEach(u),h=M(z),P=b(z,"BUTTON",{});var fe=g(P);A=w(fe,"Hardcoded rules"),fe.forEach(u),V=M(z),X=b(z,"BUTTON",{});var me=g(X);J=w(me,"Complete hardcoded rules"),me.forEach(u),z.forEach(u),q=M(B),S&&S.l(B),B.forEach(u),this.h()},h(){U(s,"for","aiType"),U(f,"id","aiType"),t[2]===void 0&&nn(()=>t[4].call(f))},m(C,W){I(C,e,W),_(e,n),I(C,r,W),I(C,l,W),G&&G.m(l,null),_(l,o),_(l,s),_(s,i),_(l,a),_(l,f);for(let B=0;B<F.length;B+=1)F[B].m(f,null);yt(f,t[2]),_(l,c),_(l,d),_(d,p),_(p,k),_(d,y),_(d,m),_(m,N),_(d,h),_(d,P),_(P,A),_(d,V),_(d,X),_(X,J),_(l,q),S&&S.m(l,null),re=!0,le||(Y=[$e(f,"change",t[4]),$e(m,"click",t[5]),$e(P,"click",t[6]),$e(X,"click",t[7])],le=!0)},p(C,[W]){if(C[1]>0?G?G.p(C,W):(G=Vt(C),G.c(),G.m(l,o)):G&&(G.d(1),G=null),W&0){Q=Object.keys(st);let B;for(B=0;B<Q.length;B+=1){const oe=Dt(C,Q,B);F[B]?F[B].p(oe,W):(F[B]=Gt(oe),F[B].c(),F[B].m(f,null))}for(;B<F.length;B+=1)F[B].d(1);F.length=Q.length}W&4&&yt(f,C[2]),C[0].board?S?(S.p(C,W),W&1&&D(S,1)):(S=Wt(C),S.c(),D(S,1),S.m(l,null)):S&&(Re(),L(S,1,1,()=>{S=null}),De())},i(C){re||(D(S),re=!0)},o(C){L(S),re=!1},d(C){C&&u(e),C&&u(r),C&&u(l),G&&G.d(),Ut(F,C),S&&S.d(),le=!1,Xt(Y)}}}function Kn(t,e,n){let r,l,o,s="hardcodedRulesComplete",i=!1;a();function a(){n(0,r=Tn(i?O.computer:O.player)),i&&nt(r,O.computer,s),l=r.currentPlayer,i=!i}const f=(m,N)=>{if(l===O.player){if(m==="manual"){if(!N)return;Mn(r,O.player,N)}else nt(r,O.player,m);n(0,r),l=r.currentPlayer,setTimeout(()=>{if(nt(r,O.computer,s),n(0,r),l=r.currentPlayer,r.state!=="not_over"){n(1,o=4);const h=setInterval(()=>{n(1,o--,o),o===0&&(a(),clearInterval(h))},1e3)}},500)}},c=(m,N)=>{f(m,N)};function d(){s=rn(this),n(2,s)}return[r,o,s,c,d,()=>c("random"),()=>c("hardcodedRules"),()=>c("hardcodedRulesComplete")]}class Qn extends de{constructor(e){super(),pe(this,e,Kn,qn,he,{})}}function Zn(t){let e,n,r,l,o,s,i,a,f,c,d,p,k,y,m,N,h,P,A,V,X,J,q,re,le,Y,G,Q,F;return o=new zt({props:{sketch:t[6]}}),Y=new Kt({props:{board:t[1],lastMove:t[3]}}),{c(){e=$("h2"),n=E("Analyzer"),r=T(),l=$("div"),x(o.$$.fragment),s=T(),i=$("div"),a=$("h4"),f=E("Controls"),c=T(),d=$("button"),p=E("Play O"),y=T(),m=$("button"),N=E("Play X"),P=T(),A=$("button"),V=E("Previous"),J=T(),q=$("button"),re=E("Reset"),le=T(),x(Y.$$.fragment),this.h()},l(S){e=b(S,"H2",{});var C=g(e);n=w(C,"Analyzer"),C.forEach(u),r=M(S),l=b(S,"DIV",{});var W=g(l);ee(o.$$.fragment,W),s=M(W),i=b(W,"DIV",{});var B=g(i);a=b(B,"H4",{});var oe=g(a);f=w(oe,"Controls"),oe.forEach(u),c=M(B),d=b(B,"BUTTON",{});var ie=g(d);p=w(ie,"Play O"),ie.forEach(u),y=M(B),m=b(B,"BUTTON",{});var z=g(m);N=w(z,"Play X"),z.forEach(u),P=M(B),A=b(B,"BUTTON",{});var ue=g(A);V=w(ue,"Previous"),ue.forEach(u),J=M(B),q=b(B,"BUTTON",{});var se=g(q);re=w(se,"Reset"),se.forEach(u),B.forEach(u),le=M(W),ee(Y.$$.fragment,W),W.forEach(u),this.h()},h(){d.disabled=k=t[2]===O.player,m.disabled=h=t[2]===O.computer,A.disabled=X=(t[0]||[]).length<2},m(S,C){I(S,e,C),_(e,n),I(S,r,C),I(S,l,C),te(o,l,null),_(l,s),_(l,i),_(i,a),_(a,f),_(i,c),_(i,d),_(d,p),_(i,y),_(i,m),_(m,N),_(i,P),_(i,A),_(A,V),_(i,J),_(i,q),_(q,re),_(l,le),te(Y,l,null),G=!0,Q||(F=[$e(d,"click",t[7]),$e(m,"click",t[8]),$e(A,"click",t[5]),$e(q,"click",t[4])],Q=!0)},p(S,[C]){(!G||C&4&&k!==(k=S[2]===O.player))&&(d.disabled=k),(!G||C&4&&h!==(h=S[2]===O.computer))&&(m.disabled=h),(!G||C&1&&X!==(X=(S[0]||[]).length<2))&&(A.disabled=X);const W={};C&2&&(W.board=S[1]),C&8&&(W.lastMove=S[3]),Y.$set(W)},i(S){G||(D(o.$$.fragment,S),D(Y.$$.fragment,S),G=!0)},o(S){L(o.$$.fragment,S),L(Y.$$.fragment,S),G=!1},d(S){S&&u(e),S&&u(r),S&&u(l),ne(o),ne(Y),Q=!1,Xt(F)}}}function xn(t,e,n){let r,l,o,s=O.player,i;function a(m,N){Ve(o,m,Pe(N)),n(3,i=N),n(1,o),l.push({...o}),n(0,l),f()}function f(){n(2,s=s===O.player?O.computer:O.player)}function c(){n(1,o=jt()),n(0,l=[{...o}]),n(3,i={x:-1,y:-1})}function d(){l.length<=1||(l.pop(),n(0,l),n(1,o={...l[l.length-1]}))}const p=m=>{m.setup=()=>{r=m,m.createCanvas(400,400),c()},m.draw=()=>{m.background(0),at(m,o,{drawSelection:!0,selection:qe(m),currentPlayer:s})},m.mousePressed=()=>{if(m.mouseX<0||m.mouseX>m.width||m.mouseY<0||m.mouseY>m.height)return;const N=qe(m);a(s,N)}};return it(()=>{r==null||r.remove()}),[l,o,s,i,c,d,p,()=>n(2,s=O.player),()=>n(2,s=O.computer)]}class er extends de{constructor(e){super(),pe(this,e,xn,Zn,he,{})}}function tr(t){let e;return{c(){e=E("Game")},l(n){e=w(n,"Game")},m(n,r){I(n,e,r)},d(n){n&&u(e)}}}function nr(t){let e;return{c(){e=E("Analyzer")},l(n){e=w(n,"Analyzer")},m(n,r){I(n,e,r)},d(n){n&&u(e)}}}function rr(t){let e,n,r,l;return e=new Pt({props:{$$slots:{default:[tr]},$$scope:{ctx:t}}}),r=new Pt({props:{$$slots:{default:[nr]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=T(),x(r.$$.fragment)},l(o){ee(e.$$.fragment,o),n=M(o),ee(r.$$.fragment,o)},m(o,s){te(e,o,s),I(o,n,s),te(r,o,s),l=!0},p(o,s){const i={};s&1&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const a={};s&1&&(a.$$scope={dirty:s,ctx:o}),r.$set(a)},i(o){l||(D(e.$$.fragment,o),D(r.$$.fragment,o),l=!0)},o(o){L(e.$$.fragment,o),L(r.$$.fragment,o),l=!1},d(o){ne(e,o),o&&u(n),ne(r,o)}}}function lr(t){let e,n;return e=new Qn({}),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,l){te(e,r,l),n=!0},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function or(t){let e,n;return e=new er({}),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,l){te(e,r,l),n=!0},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function sr(t){let e,n,r,l,o,s;return e=new pn({props:{$$slots:{default:[rr]},$$scope:{ctx:t}}}),r=new wt({props:{$$slots:{default:[lr]},$$scope:{ctx:t}}}),o=new wt({props:{$$slots:{default:[or]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=T(),x(r.$$.fragment),l=T(),x(o.$$.fragment)},l(i){ee(e.$$.fragment,i),n=M(i),ee(r.$$.fragment,i),l=M(i),ee(o.$$.fragment,i)},m(i,a){te(e,i,a),I(i,n,a),te(r,i,a),I(i,l,a),te(o,i,a),s=!0},p(i,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a&1&&(c.$$scope={dirty:a,ctx:i}),r.$set(c);const d={};a&1&&(d.$$scope={dirty:a,ctx:i}),o.$set(d)},i(i){s||(D(e.$$.fragment,i),D(r.$$.fragment,i),D(o.$$.fragment,i),s=!0)},o(i){L(e.$$.fragment,i),L(r.$$.fragment,i),L(o.$$.fragment,i),s=!1},d(i){ne(e,i),i&&u(n),ne(r,i),i&&u(l),ne(o,i)}}}function ar(t){let e,n;return e=new fn({props:{$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,l){te(e,r,l),n=!0},p(r,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}class ir extends de{constructor(e){super(),pe(this,e,null,ar,he,{})}}function fr(t){let e,n;return e=new ir({}),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,l){te(e,r,l),n=!0},p:ye,i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}class dr extends de{constructor(e){super(),pe(this,e,null,fr,he,{})}}export{dr as default};
