import{S as _e,i as de,s as me,C as qe,k as b,l as y,m as k,h as c,n as q,b as S,N as $e,E as Ke,F as Qe,G as Ze,f as X,t as J,H as Oe,a0 as Zt,o as Wt,j as xt,W as at,I as yt,a1 as Lt,A as en,$ as tn,g as Re,d as De,q as g,a as B,r as E,c as H,D as f,B as Pe,u as Q,w as te,x as ne,y as re,z as oe,J as Ut,e as Le,K as nn,M as kt,P as Xt,Q as rn}from"../../../chunks/index-1d785069.js";import{w as Ve}from"../../../chunks/index-c5a64178.js";import{P as Ft}from"../../../chunks/P5-76a6b36f.js";let on=1;function zt(){return`svelte-tabs-${on++}`}function ln(t){let e,n,r,o;const l=t[4].default,a=qe(l,t,t[3],null);return{c(){e=b("div"),a&&a.c(),this.h()},l(i){e=y(i,"DIV",{class:!0});var s=k(e);a&&a.l(s),s.forEach(c),this.h()},h(){q(e,"class","svelte-tabs")},m(i,s){S(i,e,s),a&&a.m(e,null),n=!0,r||(o=$e(e,"keydown",t[1]),r=!0)},p(i,[s]){a&&a.p&&(!n||s&8)&&Ke(a,l,i,i[3],n?Ze(l,i[3],s,null):Qe(i[3]),null)},i(i){n||(X(a,i),n=!0)},o(i){J(a,i),n=!1},d(i){i&&c(e),a&&a.d(i),r=!1,o()}}}const it={};function sn(t,e,n){const r=t.indexOf(e);t.splice(r,1),n.update(o=>o===e?t[r]||t[t.length-1]:o)}function an(t,e,n){let r,{$$slots:o={},$$scope:l}=e,{initialSelectedIndex:a=0}=e;const i=[],s=[],u=[],p=Ve({}),_=Ve({}),C=Ve(null);Oe(t,C,v=>n(5,r=v));const D=Ve(null);function w(v,$,G){v.push($),G.update(O=>O||$),at(()=>sn(v,$,G))}function h(v){const $=s.indexOf(v);C.set(v),D.set(u[$])}Zt(it,{registerTab(v){w(s,v,C)},registerTabElement(v){i.push(v)},registerPanel(v){w(u,v,D)},selectTab:h,selectedTab:C,selectedPanel:D,controls:p,labeledBy:_}),Wt(()=>{h(s[a])}),xt(()=>{for(let v=0;v<s.length;v++)p.update($=>({...$,[s[v].id]:u[v].id})),_.update($=>({...$,[u[v].id]:s[v].id}))});async function I(v){if(v.target.classList.contains("svelte-tabs__tab")){let $=s.indexOf(r);switch(v.key){case"ArrowRight":$+=1,$>s.length-1&&($=0),h(s[$]),i[$].focus();break;case"ArrowLeft":$-=1,$<0&&($=s.length-1),h(s[$]),i[$].focus()}}}return t.$$set=v=>{"initialSelectedIndex"in v&&n(2,a=v.initialSelectedIndex),"$$scope"in v&&n(3,l=v.$$scope)},[C,I,a,l,o]}class fn extends _e{constructor(e){super(),de(this,e,an,ln,me,{initialSelectedIndex:2})}}function cn(t){let e,n,r,o,l,a;const i=t[9].default,s=qe(i,t,t[8],null);return{c(){e=b("li"),s&&s.c(),this.h()},l(u){e=y(u,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var p=k(e);s&&s.l(p),p.forEach(c),this.h()},h(){q(e,"role","tab"),q(e,"id",t[3].id),q(e,"aria-controls",n=t[2][t[3].id]),q(e,"aria-selected",t[1]),q(e,"tabindex",r=t[1]?0:-1),q(e,"class","svelte-tabs__tab svelte-1fbofsd"),yt(e,"svelte-tabs__selected",t[1])},m(u,p){S(u,e,p),s&&s.m(e,null),t[10](e),o=!0,l||(a=$e(e,"click",t[11]),l=!0)},p(u,[p]){s&&s.p&&(!o||p&256)&&Ke(s,i,u,u[8],o?Ze(i,u[8],p,null):Qe(u[8]),null),(!o||p&4&&n!==(n=u[2][u[3].id]))&&q(e,"aria-controls",n),(!o||p&2)&&q(e,"aria-selected",u[1]),(!o||p&2&&r!==(r=u[1]?0:-1))&&q(e,"tabindex",r),(!o||p&2)&&yt(e,"svelte-tabs__selected",u[1])},i(u){o||(X(s,u),o=!0)},o(u){J(s,u),o=!1},d(u){u&&c(e),s&&s.d(u),t[10](null),l=!1,a()}}}function un(t,e,n){let r,o,{$$slots:l={},$$scope:a}=e,i;const s={id:zt()},{registerTab:u,registerTabElement:p,selectTab:_,selectedTab:C,controls:D}=Lt(it);Oe(t,C,v=>n(7,r=v)),Oe(t,D,v=>n(2,o=v));let w;u(s),Wt(async()=>{await en(),p(i)});function h(v){tn[v?"unshift":"push"](()=>{i=v,n(0,i)})}const I=()=>_(s);return t.$$set=v=>{"$$scope"in v&&n(8,a=v.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&n(1,w=r===s)},[i,w,o,s,_,C,D,r,a,l,h,I]}class Pt extends _e{constructor(e){super(),de(this,e,un,cn,me,{})}}function pn(t){let e,n;const r=t[1].default,o=qe(r,t,t[0],null);return{c(){e=b("ul"),o&&o.c(),this.h()},l(l){e=y(l,"UL",{role:!0,class:!0});var a=k(e);o&&o.l(a),a.forEach(c),this.h()},h(){q(e,"role","tablist"),q(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(l,a){S(l,e,a),o&&o.m(e,null),n=!0},p(l,[a]){o&&o.p&&(!n||a&1)&&Ke(o,r,l,l[0],n?Ze(r,l[0],a,null):Qe(l[0]),null)},i(l){n||(X(o,l),n=!0)},o(l){J(o,l),n=!1},d(l){l&&c(e),o&&o.d(l)}}}function _n(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=l=>{"$$scope"in l&&n(0,o=l.$$scope)},[o,r]}class dn extends _e{constructor(e){super(),de(this,e,_n,pn,me,{})}}function gt(t){let e;const n=t[6].default,r=qe(n,t,t[5],null);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,l){r&&r.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l&32)&&Ke(r,n,o,o[5],e?Ze(n,o[5],l,null):Qe(o[5]),null)},i(o){e||(X(r,o),e=!0)},o(o){J(r,o),e=!1},d(o){r&&r.d(o)}}}function mn(t){let e,n,r,o=t[1]===t[2]&&gt(t);return{c(){e=b("div"),o&&o.c(),this.h()},l(l){e=y(l,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var a=k(e);o&&o.l(a),a.forEach(c),this.h()},h(){q(e,"id",t[2].id),q(e,"aria-labelledby",n=t[0][t[2].id]),q(e,"class","svelte-tabs__tab-panel svelte-epfyet"),q(e,"role","tabpanel")},m(l,a){S(l,e,a),o&&o.m(e,null),r=!0},p(l,[a]){l[1]===l[2]?o?(o.p(l,a),a&2&&X(o,1)):(o=gt(l),o.c(),X(o,1),o.m(e,null)):o&&(Re(),J(o,1,1,()=>{o=null}),De()),(!r||a&1&&n!==(n=l[0][l[2].id]))&&q(e,"aria-labelledby",n)},i(l){r||(X(o),r=!0)},o(l){J(o),r=!1},d(l){l&&c(e),o&&o.d()}}}function hn(t,e,n){let r,o,{$$slots:l={},$$scope:a}=e;const i={id:zt()},{registerPanel:s,selectedPanel:u,labeledBy:p}=Lt(it);return Oe(t,u,_=>n(1,o=_)),Oe(t,p,_=>n(0,r=_)),s(i),t.$$set=_=>{"$$scope"in _&&n(5,a=_.$$scope)},[r,o,i,u,p,a,l]}class Et extends _e{constructor(e){super(),de(this,e,hn,mn,me,{})}}function ge(t){const{x:e,y:n}=t;if(e<0||e>2||n<0||n>2)throw new Error(`Invalid coords (${e},${n})`);return 8-(3*n+e)}function ft(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const vn=[448,56,7,292,146,73,273,84],$n=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],bn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],yn=[{p:2,o:5},{p:2,o:144}],Ne=(t,e)=>(t&e)===e;function wt(t){let e=t,n=0;for(;e;)n+=e&1,e>>=1;return n}function St(t,e){const n=ge(e);return U(t,n)}function U(t,e){return!(t&1<<e)}function rt(t,e){return t+2**e}const ot=t=>{for(const e of vn)if(Ne(t,e))return!0;return!1};var L=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(L||{});function Yt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function we(t,e){return e===L.player?t.player:t.computer}function Se(t,e){return e===L.player?t.computer:t.player}function Ue(t,e){if(!e&&!kn(t))return"invalid_board";const n=ot(t.player),r=ot(t.computer);return n&&r?"draw":n?"player_win":r?"computer_win":gn(t)?"not_over":"over"}function Ge(t,e,n){if(!Pn(t,n))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${n} `);e===L.player?t.player=rt(t.player,n):t.computer=rt(t.computer,n)}function kn(t){if(t.player&t.computer)return!1;const e=wt(t.player),n=wt(t.computer);return!(Math.abs(e-n)>1)}function Pn(t,e){return U(t.player,e)&&U(t.computer,e)}function gn(t){return(t.player|t.computer)!==511}function ct(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const n=[];let r=0;for(;r<9;)e&1||n.push(r),r++,e>>=1;return n}const En=[2,5,8,1,4,7,0,3,6];function It(t){let e=0;return En.forEach((n,r)=>{U(t,r)||(e=rt(e,n))}),e}function Xe(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const n={...t};for(let r=0;r<e;r++)n.player=It(n.player),n.computer=It(n.computer);return n}function Ce(t,e){const n=we(t,e);return ot(n)}function Fe(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function Jt(t,e,n){const r=ge(n),o=we(t,e),l=Se(t,e);if(r===4){const a=U(l,5)&&!U(o,3)||!U(o,5)&&U(l,3)?1:0,i=U(l,7)&&!U(o,1)||!U(o,7)&&U(l,1)?1:0,s=U(l,8)&&!U(o,0)||!U(o,8)&&U(l,0)?1:0,u=U(l,6)&&!U(o,2)||!U(o,6)&&U(l,2)?1:0;return a+i+s+u>=2}if(xe.has(r)){const a={0:0,2:3,6:1,8:2}[r]||0,i=Xe(t,a),s=we(i,e),u=Se(i,e),p=U(u,2)&&!U(s,1)||!U(s,2)&&U(u,1),_=U(u,6)&&!U(s,3)||!U(s,6)&&U(u,3);return p&&_}if(ut.has(r)){const a={1:0,3:1,5:3,7:2}[r]||0,i=Xe(t,a),s=we(i,e),u=Se(i,e),p=U(u,2)&&!U(s,0)||!U(s,2)&&U(u,0),_=U(u,7)&&!U(s,4)||!U(s,7)&&U(u,4);return p&&_}return!1}function wn(t,e,n){const r=we(t,e),l={player:Se(t,e),computer:r};return Jt(l,L.player,n)}function ze(t,e,n){const r=ge(n),o=we(t,e),l=Se(t,e);if(r===4){for(const{o:a,p:i}of $n)if(Ne(o,i)&&Ne(l,a))return!0}if(xe.has(r)){const a={0:0,2:3,6:1,8:2}[r]||0,i=Xe(t,a),s=we(i,e),u=Se(i,e);for(const{o:p,p:_}of bn)if(Ne(s,_)&&Ne(u,p))return!0}if(ut.has(r)){const a={1:0,3:1,5:3,7:2}[r]||0,i=Xe(t,a),s=we(i,e),u=Se(i,e);for(const{o:p,p:_}of yn)if(Ne(s,_)&&Ne(u,p))return!0}return!1}const xe=new Set([0,2,6,8]),ut=new Set([1,3,5,7]);function Ye(t,e,n){const r=ge(n);if(!xe.has(r))return!1;const o=8-r,l=Se(t,e);return!U(l,o)}function Je(t){const e=ge(t);return xe.has(e)}function je(t){const e=ge(t);return ut.has(e)}function Sn(t,e){const n=ct(t);if(n.length===0)throw new Error("No available moves");let r;for(const o of n){const l={...t},a=ft(o);Ge(l,e,o);const i=In(l,e,a);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function In(t,e,n){return Ce(t,e)?{score:8,reason:"win",move:n}:ze(t,e,n)?{score:7,reason:"block_opponent",move:n}:Jt(t,e,n)?{score:6,reason:"create_fork",move:n}:wn(t,e,n)?{score:5,reason:"block_opponent_fork",move:n}:Fe(n)?{score:4,reason:"take_center",move:n}:Ye(t,e,n)?{score:3,reason:"take_opposite_corner",move:n}:Je(n)?{score:2,reason:"take_corner",move:n}:je(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Nn(t,e){const n=ct(t);if(n.length===0)throw new Error("No available moves");let r;for(const o of n){const l={...t},a=ft(o);Ge(l,e,o);const i=An(l,e,a);i.score>((r==null?void 0:r.score)??-1)&&(r=i)}if(!r)throw new Error("Error in getMoveHardcoded");return r}function An(t,e,n){return Ce(t,L.player)?{score:8,reason:"win",move:n}:ze(t,e,n)?{score:7,reason:"block_opponent",move:n}:Fe(n)?{score:4,reason:"take_center",move:n}:Ye(t,e,n)?{score:3,reason:"take_opposite_corner",move:n}:Je(n)?{score:2,reason:"take_corner",move:n}:je(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Cn(t){const e=ct(t);if(e.length===0)throw new Error("No available moves");const n=Math.floor(Math.random()*e.length),r=e[n];return{score:0,reason:"random",move:ft(r)}}const lt={random:Cn,hardcodedRules:Nn,hardcodedRulesComplete:Sn},Tn=t=>({board:Yt(),currentPlayer:t??L.player,state:"not_over",moveHistory:[]});function jt(t){t.currentPlayer=t.currentPlayer===L.player?L.computer:L.player}const Mn=(t,e,n)=>{t.state==="not_over"&&(Ge(t.board,e,ge(n)),t.state=Ue(t.board),t.moveHistory.push({board:{...t.board},moveCoord:n,player:e,method:"manual"}),jt(t))},tt=(t,e,n)=>{if(t.state!=="not_over")return;const r=lt[n],o=r(t.board,e);Ge(t.board,e,ge(o.move)),t.state=Ue(t.board),t.moveHistory.push({board:{...t.board},moveCoord:o.move,player:e,method:n,aiChoice:o}),jt(t)},We=(t,e)=>{if(t.moveHistory.length>0){const n=t.moveHistory[t.moveHistory.length-1];if(n.player===e)return n}if(t.moveHistory.length>1){const n=t.moveHistory[t.moveHistory.length-2];if(n.player===e)return n}return null};function qt(t,e,n){const r=t.width/3,o=t.height/3,{height:l,width:a}=t,{drawSelection:i,selection:s,currentPlayer:u}=n||{};t.noFill(),t.stroke(255),t.strokeWeight(1),t.line(r,0,r,l),t.line(r*2,0,r*2,l),t.line(0,o,a,o),t.line(0,o*2,a,o*2),t.stroke(155),t.strokeWeight(3),t.rect(0,0,t.width,t.height),t.strokeWeight(4);for(let p=0;p<3;p++)for(let _=0;_<3;_++)(!St(e.player,{x:_,y:p})||i&&u===L.player&&(s==null?void 0:s.x)===_&&(s==null?void 0:s.y)===p)&&(t.stroke("#64ccfc"),t.circle(_*r+r/2,p*o+o/2,o/2)),(!St(e.computer,{x:_,y:p})||i&&u===L.computer&&(s==null?void 0:s.x)===_&&(s==null?void 0:s.y)===p)&&(t.stroke("red"),t.line(_*r+r*.3,p*o+o*.3,_*r+r*.7,p*o+o*.7),t.line(_*r+r*.7,p*o+o*.3,_*r+r*.3,p*o+o*.7))}function st(t){const{mouseX:e,mouseY:n,width:r,height:o}=t,l=Math.floor(t.map(e,0,r,0,3)),a=Math.floor(t.map(n,0,o,0,3));return{x:l,y:a}}function Nt(t){let e,n,r,o,l,a=Ue(t[0])+"",i,s,u,p,_,C,D,w,h,I,v=t[0].player.toString(2).padStart(9,"0")+"",$,G,O,T=t[0].player+"",P,m,N,F,Y,V=Ce(t[0],L.player)?"✅":"❌",Z,j,A,M,z,R,le,ie,K,ue,se=t[0].computer.toString(2).padStart(9,"0")+"",fe,he,ce,be=t[0].computer+"",ve,ee,d,W,ye,Ee=Ce(t[0],L.computer)?"✅":"❌",Ie;return{c(){e=b("div"),n=b("span"),r=g("State:"),o=B(),l=b("span"),i=g(a),s=B(),u=b("div"),p=b("span"),_=g("Player 1"),C=b("span"),D=g("Player, O"),w=B(),h=b("span"),I=g("0b"),$=g(v),G=B(),O=b("span"),P=g(T),m=B(),N=b("span"),F=g("Wins"),Y=b("span"),Z=g(V),j=B(),A=b("div"),M=b("span"),z=g("Player 2"),R=b("span"),le=g("Computer, X"),ie=B(),K=b("span"),ue=g("0b"),fe=g(se),he=B(),ce=b("span"),ve=g(be),ee=B(),d=b("span"),W=g("Wins"),ye=b("span"),Ie=g(Ee),this.h()},l(ae){e=y(ae,"DIV",{class:!0});var x=k(e);n=y(x,"SPAN",{});var Te=k(n);r=E(Te,"State:"),Te.forEach(c),o=H(x),l=y(x,"SPAN",{});var Me=k(l);i=E(Me,a),Me.forEach(c),s=H(x),u=y(x,"DIV",{class:!0});var pe=k(u);p=y(pe,"SPAN",{});var Be=k(p);_=E(Be,"Player 1"),Be.forEach(c),C=y(pe,"SPAN",{});var He=k(C);D=E(He,"Player, O"),He.forEach(c),w=H(pe),h=y(pe,"SPAN",{});var Ae=k(h);I=E(Ae,"0b"),$=E(Ae,v),Ae.forEach(c),G=H(pe),O=y(pe,"SPAN",{});var pt=k(O);P=E(pt,T),pt.forEach(c),m=H(pe),N=y(pe,"SPAN",{});var _t=k(N);F=E(_t,"Wins"),_t.forEach(c),Y=y(pe,"SPAN",{});var dt=k(Y);Z=E(dt,V),dt.forEach(c),pe.forEach(c),j=H(x),A=y(x,"DIV",{class:!0});var ke=k(A);M=y(ke,"SPAN",{});var mt=k(M);z=E(mt,"Player 2"),mt.forEach(c),R=y(ke,"SPAN",{});var ht=k(R);le=E(ht,"Computer, X"),ht.forEach(c),ie=H(ke),K=y(ke,"SPAN",{});var et=k(K);ue=E(et,"0b"),fe=E(et,se),et.forEach(c),he=H(ke),ce=y(ke,"SPAN",{});var vt=k(ce);ve=E(vt,be),vt.forEach(c),ee=H(ke),d=y(ke,"SPAN",{});var $t=k(d);W=E($t,"Wins"),$t.forEach(c),ye=y(ke,"SPAN",{});var bt=k(ye);Ie=E(bt,Ee),bt.forEach(c),ke.forEach(c),x.forEach(c),this.h()},h(){q(u,"class","grid2cols svelte-1lw5ne4"),q(A,"class","grid2cols svelte-1lw5ne4"),q(e,"class","grid2cols svelte-1lw5ne4")},m(ae,x){S(ae,e,x),f(e,n),f(n,r),f(e,o),f(e,l),f(l,i),f(e,s),f(e,u),f(u,p),f(p,_),f(u,C),f(C,D),f(u,w),f(u,h),f(h,I),f(h,$),f(u,G),f(u,O),f(O,P),f(u,m),f(u,N),f(N,F),f(u,Y),f(Y,Z),f(e,j),f(e,A),f(A,M),f(M,z),f(A,R),f(R,le),f(A,ie),f(A,K),f(K,ue),f(K,fe),f(A,he),f(A,ce),f(ce,ve),f(A,ee),f(A,d),f(d,W),f(A,ye),f(ye,Ie)},p(ae,x){x&1&&a!==(a=Ue(ae[0])+"")&&Q(i,a),x&1&&v!==(v=ae[0].player.toString(2).padStart(9,"0")+"")&&Q($,v),x&1&&T!==(T=ae[0].player+"")&&Q(P,T),x&1&&V!==(V=Ce(ae[0],L.player)?"✅":"❌")&&Q(Z,V),x&1&&se!==(se=ae[0].computer.toString(2).padStart(9,"0")+"")&&Q(fe,se),x&1&&be!==(be=ae[0].computer+"")&&Q(ve,be),x&1&&Ee!==(Ee=Ce(ae[0],L.computer)?"✅":"❌")&&Q(Ie,Ee)},d(ae){ae&&c(e)}}}function Bn(t){let e,n,r,o,l=t[0]&&Nt(t);return{c(){e=b("div"),n=b("h4"),r=g("Board info"),o=B(),l&&l.c()},l(a){e=y(a,"DIV",{});var i=k(e);n=y(i,"H4",{});var s=k(n);r=E(s,"Board info"),s.forEach(c),o=H(i),l&&l.l(i),i.forEach(c)},m(a,i){S(a,e,i),f(e,n),f(n,r),f(e,o),l&&l.m(e,null)},p(a,[i]){a[0]?l?l.p(a,i):(l=Nt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Pe,o:Pe,d(a){a&&c(e),l&&l.d()}}}function Hn(t,e,n){let{board:r}=e;return t.$$set=o=>{"board"in o&&n(0,r=o.board)},[r]}class Kt extends _e{constructor(e){super(),de(this,e,Hn,Bn,me,{board:0})}}function On(t){let e,n,r=JSON.stringify(t[0])+"",o;return{c(){e=b("p"),n=g("Board is undefined "),o=g(r)},l(l){e=y(l,"P",{});var a=k(e);n=E(a,"Board is undefined "),o=E(a,r),a.forEach(c)},m(l,a){S(l,e,a),f(e,n),f(e,o)},p(l,a){a&1&&r!==(r=JSON.stringify(l[0])+"")&&Q(o,r)},i:Pe,o:Pe,d(l){l&&c(e)}}}function Rn(t){let e,n;return e=new Ft({props:{sketch:t[1]}}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p:Pe,i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Dn(t){let e,n,r,o;const l=[Rn,On],a=[];function i(s,u){return s[0]?0:1}return n=i(t),r=a[n]=l[n](t),{c(){e=b("div"),r.c()},l(s){e=y(s,"DIV",{});var u=k(e);r.l(u),u.forEach(c)},m(s,u){S(s,e,u),a[n].m(e,null),o=!0},p(s,[u]){let p=n;n=i(s),n===p?a[n].p(s,u):(Re(),J(a[p],1,1,()=>{a[p]=null}),De(),r=a[n],r?r.p(s,u):(r=a[n]=l[n](s),r.c()),X(r,1),r.m(e,null))},i(s){o||(X(r),o=!0)},o(s){J(r),o=!1},d(s){s&&c(e),a[n].d()}}}function Gn(t,e,n){let{dimensionPx:r}=e,{board:o}=e,{onClick:l=()=>{}}=e,a;const i=s=>{s.setup=()=>{a=s,s.createCanvas(r.width,r.height)},s.draw=()=>{s.background(0),qt(s,o)},s.mousePressed=()=>{s.mouseX<0||s.mouseX>s.width||s.mouseY<0||s.mouseY>s.height||l("manual",st(s))}};return at(()=>{a==null||a.remove()}),t.$$set=s=>{"dimensionPx"in s&&n(2,r=s.dimensionPx),"board"in s&&n(0,o=s.board),"onClick"in s&&n(3,l=s.onClick)},[o,i,r,l]}class Qt extends _e{constructor(e){super(),de(this,e,Gn,Dn,me,{dimensionPx:2,board:0,onClick:3})}}function At(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ct(t){let e,n;return{c(){e=b("p"),n=g("No move yet.")},l(r){e=y(r,"P",{});var o=k(e);n=E(o,"No move yet."),o.forEach(c)},m(r,o){S(r,e,o),f(e,n)},d(r){r&&c(e)}}}function Vn(t){let e,n;return{c(){e=b("span"),n=g("-")},l(r){e=y(r,"SPAN",{});var o=k(e);n=E(o,"-"),o.forEach(c)},m(r,o){S(r,e,o),f(e,n)},p:Pe,d(r){r&&c(e)}}}function Wn(t){let e,n=JSON.stringify(t[1].aiChoice)+"",r;return{c(){e=b("span"),r=g(n)},l(o){e=y(o,"SPAN",{});var l=k(e);r=E(l,n),l.forEach(c)},m(o,l){S(o,e,l),f(e,r)},p(o,l){l&1&&n!==(n=JSON.stringify(o[1].aiChoice)+"")&&Q(r,n)},d(o){o&&c(e)}}}function Tt(t){let e,n=t[1].moveCoord.x+"",r,o,l=t[1].moveCoord.y+"",a,i,s,u,p=t[1].player+"",_,C,D=t[1].method+"",w,h,I,v,$,G;I=new Qt({props:{board:t[1].board,dimensionPx:{width:50,height:50}}});function O(m,N){return m[1].aiChoice?Wn:Vn}let T=O(t),P=T(t);return{c(){e=b("span"),r=g(n),o=g(", "),a=g(l),i=B(),s=b("span"),u=g("Player "),_=g(p),C=g(" - Method "),w=g(D),h=B(),te(I.$$.fragment),v=B(),P.c(),$=Le()},l(m){e=y(m,"SPAN",{});var N=k(e);r=E(N,n),o=E(N,", "),a=E(N,l),N.forEach(c),i=H(m),s=y(m,"SPAN",{});var F=k(s);u=E(F,"Player "),_=E(F,p),C=E(F," - Method "),w=E(F,D),F.forEach(c),h=H(m),ne(I.$$.fragment,m),v=H(m),P.l(m),$=Le()},m(m,N){S(m,e,N),f(e,r),f(e,o),f(e,a),S(m,i,N),S(m,s,N),f(s,u),f(s,_),f(s,C),f(s,w),S(m,h,N),re(I,m,N),S(m,v,N),P.m(m,N),S(m,$,N),G=!0},p(m,N){(!G||N&1)&&n!==(n=m[1].moveCoord.x+"")&&Q(r,n),(!G||N&1)&&l!==(l=m[1].moveCoord.y+"")&&Q(a,l),(!G||N&1)&&p!==(p=m[1].player+"")&&Q(_,p),(!G||N&1)&&D!==(D=m[1].method+"")&&Q(w,D);const F={};N&1&&(F.board=m[1].board),I.$set(F),T===(T=O(m))&&P?P.p(m,N):(P.d(1),P=T(m),P&&(P.c(),P.m($.parentNode,$)))},i(m){G||(X(I.$$.fragment,m),G=!0)},o(m){J(I.$$.fragment,m),G=!1},d(m){m&&c(e),m&&c(i),m&&c(s),m&&c(h),oe(I,m),m&&c(v),P.d(m),m&&c($)}}}function Ln(t){let e,n,r,o,l,a,i,s,u,p,_,C,D,w,h,I=t[0].length===0&&Ct(),v=[...t[0]].reverse(),$=[];for(let O=0;O<v.length;O+=1)$[O]=Tt(At(t,v,O));const G=O=>J($[O],1,1,()=>{$[O]=null});return{c(){e=b("div"),I&&I.c(),n=B(),r=b("h4"),o=g("Coordinates"),l=B(),a=b("h4"),i=g("Player"),s=B(),u=b("h4"),p=g("Board"),_=B(),C=b("h4"),D=g("AI"),w=B();for(let O=0;O<$.length;O+=1)$[O].c();this.h()},l(O){e=y(O,"DIV",{class:!0});var T=k(e);I&&I.l(T),n=H(T),r=y(T,"H4",{});var P=k(r);o=E(P,"Coordinates"),P.forEach(c),l=H(T),a=y(T,"H4",{});var m=k(a);i=E(m,"Player"),m.forEach(c),s=H(T),u=y(T,"H4",{});var N=k(u);p=E(N,"Board"),N.forEach(c),_=H(T),C=y(T,"H4",{});var F=k(C);D=E(F,"AI"),F.forEach(c),w=H(T);for(let Y=0;Y<$.length;Y+=1)$[Y].l(T);T.forEach(c),this.h()},h(){q(e,"class","grid4cols svelte-1bcl41k")},m(O,T){S(O,e,T),I&&I.m(e,null),f(e,n),f(e,r),f(r,o),f(e,l),f(e,a),f(a,i),f(e,s),f(e,u),f(u,p),f(e,_),f(e,C),f(C,D),f(e,w);for(let P=0;P<$.length;P+=1)$[P].m(e,null);h=!0},p(O,[T]){if(O[0].length===0?I||(I=Ct(),I.c(),I.m(e,n)):I&&(I.d(1),I=null),T&1){v=[...O[0]].reverse();let P;for(P=0;P<v.length;P+=1){const m=At(O,v,P);$[P]?($[P].p(m,T),X($[P],1)):($[P]=Tt(m),$[P].c(),X($[P],1),$[P].m(e,null))}for(Re(),P=v.length;P<$.length;P+=1)G(P);De()}},i(O){if(!h){for(let T=0;T<v.length;T+=1)X($[T]);h=!0}},o(O){$=$.filter(Boolean);for(let T=0;T<$.length;T+=1)J($[T]);h=!1},d(O){O&&c(e),I&&I.d(),Ut($,O)}}}function Un(t,e,n){let{history:r}=e;return t.$$set=o=>{"history"in o&&n(0,r=o.history)},[r]}class Xn extends _e{constructor(e){super(),de(this,e,Un,Ln,me,{history:0})}}function nt(t){const e=t.slice(),n=e[0];return e[1]=n.moveCoord,e[2]=n.player,e[3]=n.board,e[4]=n.aiChoice,e}function Mt(t){let e,n,r,o,l=t[1].x+"",a,i,s=t[1].y+"",u,p,_,C,D,w=Fe(t[1])?"✅":"❌",h,I,v,$,G,O=Je(t[1])?"✅":"❌",T,P,m,N,F,Y=je(t[1])?"✅":"❌",V,Z,j,A,M,z,R=Ye(t[3],t[2],t[1])?"✅":"❌",le,ie,K,ue,se,fe,he=ze(t[3],t[2],t[1])?"✅":"❌",ce,be,ve,ee=t[4]&&Bt(t);return{c(){e=b("span"),n=g("Last move:"),r=B(),o=b("span"),a=g(l),i=g(", "),u=g(s),p=B(),_=b("span"),C=g("center"),D=b("span"),h=g(w),I=B(),v=b("span"),$=g("corner"),G=b("span"),T=g(O),P=B(),m=b("span"),N=g("side"),F=b("span"),V=g(Y),Z=B(),j=b("span"),A=g("Took opposite corner"),M=B(),z=b("span"),le=g(R),ie=B(),K=b("span"),ue=g("Last move blocks opponent"),se=B(),fe=b("span"),ce=g(he),be=B(),ee&&ee.c(),ve=Le()},l(d){e=y(d,"SPAN",{});var W=k(e);n=E(W,"Last move:"),W.forEach(c),r=H(d),o=y(d,"SPAN",{});var ye=k(o);a=E(ye,l),i=E(ye,", "),u=E(ye,s),ye.forEach(c),p=H(d),_=y(d,"SPAN",{});var Ee=k(_);C=E(Ee,"center"),Ee.forEach(c),D=y(d,"SPAN",{});var Ie=k(D);h=E(Ie,w),Ie.forEach(c),I=H(d),v=y(d,"SPAN",{});var ae=k(v);$=E(ae,"corner"),ae.forEach(c),G=y(d,"SPAN",{});var x=k(G);T=E(x,O),x.forEach(c),P=H(d),m=y(d,"SPAN",{});var Te=k(m);N=E(Te,"side"),Te.forEach(c),F=y(d,"SPAN",{});var Me=k(F);V=E(Me,Y),Me.forEach(c),Z=H(d),j=y(d,"SPAN",{});var pe=k(j);A=E(pe,"Took opposite corner"),pe.forEach(c),M=H(d),z=y(d,"SPAN",{});var Be=k(z);le=E(Be,R),Be.forEach(c),ie=H(d),K=y(d,"SPAN",{});var He=k(K);ue=E(He,"Last move blocks opponent"),He.forEach(c),se=H(d),fe=y(d,"SPAN",{});var Ae=k(fe);ce=E(Ae,he),Ae.forEach(c),be=H(d),ee&&ee.l(d),ve=Le()},m(d,W){S(d,e,W),f(e,n),S(d,r,W),S(d,o,W),f(o,a),f(o,i),f(o,u),S(d,p,W),S(d,_,W),f(_,C),S(d,D,W),f(D,h),S(d,I,W),S(d,v,W),f(v,$),S(d,G,W),f(G,T),S(d,P,W),S(d,m,W),f(m,N),S(d,F,W),f(F,V),S(d,Z,W),S(d,j,W),f(j,A),S(d,M,W),S(d,z,W),f(z,le),S(d,ie,W),S(d,K,W),f(K,ue),S(d,se,W),S(d,fe,W),f(fe,ce),S(d,be,W),ee&&ee.m(d,W),S(d,ve,W)},p(d,W){W&1&&l!==(l=d[1].x+"")&&Q(a,l),W&1&&s!==(s=d[1].y+"")&&Q(u,s),W&1&&w!==(w=Fe(d[1])?"✅":"❌")&&Q(h,w),W&1&&O!==(O=Je(d[1])?"✅":"❌")&&Q(T,O),W&1&&Y!==(Y=je(d[1])?"✅":"❌")&&Q(V,Y),W&1&&R!==(R=Ye(d[3],d[2],d[1])?"✅":"❌")&&Q(le,R),W&1&&he!==(he=ze(d[3],d[2],d[1])?"✅":"❌")&&Q(ce,he),d[4]?ee?ee.p(d,W):(ee=Bt(d),ee.c(),ee.m(ve.parentNode,ve)):ee&&(ee.d(1),ee=null)},d(d){d&&c(e),d&&c(r),d&&c(o),d&&c(p),d&&c(_),d&&c(D),d&&c(I),d&&c(v),d&&c(G),d&&c(P),d&&c(m),d&&c(F),d&&c(Z),d&&c(j),d&&c(M),d&&c(z),d&&c(ie),d&&c(K),d&&c(se),d&&c(fe),d&&c(be),ee&&ee.d(d),d&&c(ve)}}}function Bt(t){let e,n,r,o,l=t[4].score+"",a,i,s,u,p,_,C=t[4].reason+"",D;return{c(){e=b("span"),n=g("Score"),r=B(),o=b("span"),a=g(l),i=B(),s=b("span"),u=g("Reason"),p=B(),_=b("span"),D=g(C)},l(w){e=y(w,"SPAN",{});var h=k(e);n=E(h,"Score"),h.forEach(c),r=H(w),o=y(w,"SPAN",{});var I=k(o);a=E(I,l),I.forEach(c),i=H(w),s=y(w,"SPAN",{});var v=k(s);u=E(v,"Reason"),v.forEach(c),p=H(w),_=y(w,"SPAN",{});var $=k(_);D=E($,C),$.forEach(c)},m(w,h){S(w,e,h),f(e,n),S(w,r,h),S(w,o,h),f(o,a),S(w,i,h),S(w,s,h),f(s,u),S(w,p,h),S(w,_,h),f(_,D)},p(w,h){h&1&&l!==(l=w[4].score+"")&&Q(a,l),h&1&&C!==(C=w[4].reason+"")&&Q(D,C)},d(w){w&&c(e),w&&c(r),w&&c(o),w&&c(i),w&&c(s),w&&c(p),w&&c(_)}}}function Fn(t){let e,n=t[0]&&Mt(nt(t));return{c(){e=b("div"),n&&n.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var o=k(e);n&&n.l(o),o.forEach(c),this.h()},h(){q(e,"class","grid2cols svelte-1lw5ne4")},m(r,o){S(r,e,o),n&&n.m(e,null)},p(r,[o]){r[0]?n?n.p(nt(r),o):(n=Mt(nt(r)),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:Pe,o:Pe,d(r){r&&c(e),n&&n.d()}}}function zn(t,e,n){let{historyItem:r}=e;return t.$$set=o=>{"historyItem"in o&&n(0,r=o.historyItem)},[r]}class Ht extends _e{constructor(e){super(),de(this,e,zn,Fn,me,{historyItem:0})}}function Ot(t){let e,n;return e=new Xn({props:{history:t[0].moveHistory}}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.history=r[0].moveHistory),e.$set(l)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Yn(t){let e,n,r,o,l,a=t[2](t[0])+"",i,s,u,p,_,C,D,w,h=t[1]?"Hide":"Show",I,v,$,G,O,T;p=new Ht({props:{historyItem:We(t[0],L.player)}}),C=new Ht({props:{historyItem:We(t[0],L.computer)}});let P=t[1]&&Ot(t);return{c(){e=b("div"),n=b("h4"),r=g("Game info"),o=B(),l=b("span"),i=g(a),s=B(),u=b("div"),te(p.$$.fragment),_=B(),te(C.$$.fragment),D=B(),w=b("button"),I=g(h),v=g(" move history"),$=B(),P&&P.c(),this.h()},l(m){e=y(m,"DIV",{});var N=k(e);n=y(N,"H4",{});var F=k(n);r=E(F,"Game info"),F.forEach(c),o=H(N),l=y(N,"SPAN",{});var Y=k(l);i=E(Y,a),Y.forEach(c),s=H(N),u=y(N,"DIV",{class:!0});var V=k(u);ne(p.$$.fragment,V),_=H(V),ne(C.$$.fragment,V),V.forEach(c),D=H(N),w=y(N,"BUTTON",{});var Z=k(w);I=E(Z,h),v=E(Z," move history"),Z.forEach(c),$=H(N),P&&P.l(N),N.forEach(c),this.h()},h(){q(u,"class","grid2cols svelte-1lw5ne4")},m(m,N){S(m,e,N),f(e,n),f(n,r),f(e,o),f(e,l),f(l,i),f(e,s),f(e,u),re(p,u,null),f(u,_),re(C,u,null),f(e,D),f(e,w),f(w,I),f(w,v),f(e,$),P&&P.m(e,null),G=!0,O||(T=$e(w,"click",t[3]),O=!0)},p(m,[N]){(!G||N&1)&&a!==(a=m[2](m[0])+"")&&Q(i,a);const F={};N&1&&(F.historyItem=We(m[0],L.player)),p.$set(F);const Y={};N&1&&(Y.historyItem=We(m[0],L.computer)),C.$set(Y),(!G||N&2)&&h!==(h=m[1]?"Hide":"Show")&&Q(I,h),m[1]?P?(P.p(m,N),N&2&&X(P,1)):(P=Ot(m),P.c(),X(P,1),P.m(e,null)):P&&(Re(),J(P,1,1,()=>{P=null}),De())},i(m){G||(X(p.$$.fragment,m),X(C.$$.fragment,m),X(P),G=!0)},o(m){J(p.$$.fragment,m),J(C.$$.fragment,m),J(P),G=!1},d(m){m&&c(e),oe(p),oe(C),P&&P.d(),O=!1,T()}}}function Jn(t,e,n){let{game:r}=e,o=!0;const l=i=>!i||!i.state?"N/A":i.state==="not_over"?"Turn: "+(i.currentPlayer===L.player?"Player":"Computer"):i.state==="player_win"?"Player Win":i.state==="computer_win"?"Computer Win":i.state==="draw"?"Draw":i.state==="over"?"Game Over":"Invalid Game",a=()=>n(1,o=!o);return t.$$set=i=>{"game"in i&&n(0,r=i.game)},[r,o,l,a]}class jn extends _e{constructor(e){super(),de(this,e,Jn,Yn,me,{game:0})}}function Rt(t,e,n){const r=t.slice();return r[12]=e[n],r}function Dt(t){let e,n,r,o;return{c(){e=b("p"),n=g("Restarting in "),r=g(t[1]),o=g(" seconds")},l(l){e=y(l,"P",{});var a=k(e);n=E(a,"Restarting in "),r=E(a,t[1]),o=E(a," seconds"),a.forEach(c)},m(l,a){S(l,e,a),f(e,n),f(e,r),f(e,o)},p(l,a){a&2&&Q(r,l[1])},d(l){l&&c(e)}}}function Gt(t){let e,n=t[12]+"",r,o;return{c(){e=b("option"),r=g(n),o=B(),this.h()},l(l){e=y(l,"OPTION",{});var a=k(e);r=E(a,n),o=H(a),a.forEach(c),this.h()},h(){e.__value=t[12],e.value=e.__value},m(l,a){S(l,e,a),f(e,r),f(e,o)},p:Pe,d(l){l&&c(e)}}}function Vt(t){let e,n,r,o,l,a,i;return n=new Qt({props:{board:t[0].board,dimensionPx:{width:400,height:400},onClick:t[3]}}),o=new Kt({props:{board:t[0].board}}),a=new jn({props:{game:t[0]}}),{c(){e=b("div"),te(n.$$.fragment),r=B(),te(o.$$.fragment),l=B(),te(a.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var u=k(e);ne(n.$$.fragment,u),r=H(u),ne(o.$$.fragment,u),u.forEach(c),l=H(s),ne(a.$$.fragment,s),this.h()},h(){q(e,"class","grid2colsResponsive svelte-1epiyf5")},m(s,u){S(s,e,u),re(n,e,null),f(e,r),re(o,e,null),S(s,l,u),re(a,s,u),i=!0},p(s,u){const p={};u&1&&(p.board=s[0].board),n.$set(p);const _={};u&1&&(_.board=s[0].board),o.$set(_);const C={};u&1&&(C.game=s[0]),a.$set(C)},i(s){i||(X(n.$$.fragment,s),X(o.$$.fragment,s),X(a.$$.fragment,s),i=!0)},o(s){J(n.$$.fragment,s),J(o.$$.fragment,s),J(a.$$.fragment,s),i=!1},d(s){s&&c(e),oe(n),oe(o),s&&c(l),oe(a,s)}}}function qn(t){let e,n,r,o,l,a,i,s,u,p,_,C,D,w,h,I,v,$,G,O,T,P,m,N,F,Y,V=t[1]>0&&Dt(t),Z=Object.keys(lt),j=[];for(let M=0;M<Z.length;M+=1)j[M]=Gt(Rt(t,Z,M));let A=t[0].board&&Vt(t);return{c(){e=b("h2"),n=g("Game"),r=B(),o=b("div"),V&&V.c(),l=B(),a=b("label"),i=g("AI type"),s=B(),u=b("select");for(let M=0;M<j.length;M+=1)j[M].c();p=B(),_=b("div"),C=b("span"),D=g("Player automatic move"),w=B(),h=b("button"),I=g("Random move"),v=B(),$=b("button"),G=g("Hardcoded rules"),O=B(),T=b("button"),P=g("Complete hardcoded rules"),m=B(),A&&A.c(),this.h()},l(M){e=y(M,"H2",{});var z=k(e);n=E(z,"Game"),z.forEach(c),r=H(M),o=y(M,"DIV",{});var R=k(o);V&&V.l(R),l=H(R),a=y(R,"LABEL",{for:!0});var le=k(a);i=E(le,"AI type"),le.forEach(c),s=H(R),u=y(R,"SELECT",{id:!0});var ie=k(u);for(let ce=0;ce<j.length;ce+=1)j[ce].l(ie);ie.forEach(c),p=H(R),_=y(R,"DIV",{});var K=k(_);C=y(K,"SPAN",{});var ue=k(C);D=E(ue,"Player automatic move"),ue.forEach(c),w=H(K),h=y(K,"BUTTON",{});var se=k(h);I=E(se,"Random move"),se.forEach(c),v=H(K),$=y(K,"BUTTON",{});var fe=k($);G=E(fe,"Hardcoded rules"),fe.forEach(c),O=H(K),T=y(K,"BUTTON",{});var he=k(T);P=E(he,"Complete hardcoded rules"),he.forEach(c),K.forEach(c),m=H(R),A&&A.l(R),R.forEach(c),this.h()},h(){q(a,"for","aiType"),q(u,"id","aiType"),t[2]===void 0&&nn(()=>t[4].call(u))},m(M,z){S(M,e,z),f(e,n),S(M,r,z),S(M,o,z),V&&V.m(o,null),f(o,l),f(o,a),f(a,i),f(o,s),f(o,u);for(let R=0;R<j.length;R+=1)j[R].m(u,null);kt(u,t[2]),f(o,p),f(o,_),f(_,C),f(C,D),f(_,w),f(_,h),f(h,I),f(_,v),f(_,$),f($,G),f(_,O),f(_,T),f(T,P),f(o,m),A&&A.m(o,null),N=!0,F||(Y=[$e(u,"change",t[4]),$e(h,"click",t[5]),$e($,"click",t[6]),$e(T,"click",t[7])],F=!0)},p(M,[z]){if(M[1]>0?V?V.p(M,z):(V=Dt(M),V.c(),V.m(o,l)):V&&(V.d(1),V=null),z&0){Z=Object.keys(lt);let R;for(R=0;R<Z.length;R+=1){const le=Rt(M,Z,R);j[R]?j[R].p(le,z):(j[R]=Gt(le),j[R].c(),j[R].m(u,null))}for(;R<j.length;R+=1)j[R].d(1);j.length=Z.length}z&4&&kt(u,M[2]),M[0].board?A?(A.p(M,z),z&1&&X(A,1)):(A=Vt(M),A.c(),X(A,1),A.m(o,null)):A&&(Re(),J(A,1,1,()=>{A=null}),De())},i(M){N||(X(A),N=!0)},o(M){J(A),N=!1},d(M){M&&c(e),M&&c(r),M&&c(o),V&&V.d(),Ut(j,M),A&&A.d(),F=!1,Xt(Y)}}}function Kn(t,e,n){let r,o,l,a="hardcodedRulesComplete",i=!1;s();function s(){n(0,r=Tn(i?L.computer:L.player)),i&&tt(r,L.computer,a),o=r.currentPlayer,i=!i}const u=(h,I)=>{if(o===L.player){if(h==="manual"){if(!I)return;Mn(r,L.player,I)}else tt(r,L.player,h);n(0,r),o=r.currentPlayer,setTimeout(()=>{if(tt(r,L.computer,a),n(0,r),o=r.currentPlayer,r.state!=="not_over"){n(1,l=4);const v=setInterval(()=>{n(1,l--,l),l===0&&(s(),clearInterval(v))},1e3)}},500)}},p=(h,I)=>{u(h,I)};function _(){a=rn(this),n(2,a)}return[r,l,a,p,_,()=>p("random"),()=>p("hardcodedRules"),()=>p("hardcodedRulesComplete")]}class Qn extends _e{constructor(e){super(),de(this,e,Kn,qn,me,{})}}function Zn(t){let e,n,r,o,l,a,i,s,u,p,_,C,D,w,h,I,v,$,G,O,T,P,m,N,F,Y,V,Z,j;return l=new Ft({props:{sketch:t[6]}}),Y=new Kt({props:{board:t[1],lastMove:t[3]}}),{c(){e=b("h2"),n=g("Analyzer"),r=B(),o=b("div"),te(l.$$.fragment),a=B(),i=b("div"),s=b("h4"),u=g("Controls"),p=B(),_=b("button"),C=g("Play O"),w=B(),h=b("button"),I=g("Play X"),$=B(),G=b("button"),O=g("Previous"),P=B(),m=b("button"),N=g("Reset"),F=B(),te(Y.$$.fragment),this.h()},l(A){e=y(A,"H2",{});var M=k(e);n=E(M,"Analyzer"),M.forEach(c),r=H(A),o=y(A,"DIV",{});var z=k(o);ne(l.$$.fragment,z),a=H(z),i=y(z,"DIV",{});var R=k(i);s=y(R,"H4",{});var le=k(s);u=E(le,"Controls"),le.forEach(c),p=H(R),_=y(R,"BUTTON",{});var ie=k(_);C=E(ie,"Play O"),ie.forEach(c),w=H(R),h=y(R,"BUTTON",{});var K=k(h);I=E(K,"Play X"),K.forEach(c),$=H(R),G=y(R,"BUTTON",{});var ue=k(G);O=E(ue,"Previous"),ue.forEach(c),P=H(R),m=y(R,"BUTTON",{});var se=k(m);N=E(se,"Reset"),se.forEach(c),R.forEach(c),F=H(z),ne(Y.$$.fragment,z),z.forEach(c),this.h()},h(){_.disabled=D=t[2]===L.player,h.disabled=v=t[2]===L.computer,G.disabled=T=(t[0]||[]).length<2},m(A,M){S(A,e,M),f(e,n),S(A,r,M),S(A,o,M),re(l,o,null),f(o,a),f(o,i),f(i,s),f(s,u),f(i,p),f(i,_),f(_,C),f(i,w),f(i,h),f(h,I),f(i,$),f(i,G),f(G,O),f(i,P),f(i,m),f(m,N),f(o,F),re(Y,o,null),V=!0,Z||(j=[$e(_,"click",t[7]),$e(h,"click",t[8]),$e(G,"click",t[5]),$e(m,"click",t[4])],Z=!0)},p(A,[M]){(!V||M&4&&D!==(D=A[2]===L.player))&&(_.disabled=D),(!V||M&4&&v!==(v=A[2]===L.computer))&&(h.disabled=v),(!V||M&1&&T!==(T=(A[0]||[]).length<2))&&(G.disabled=T);const z={};M&2&&(z.board=A[1]),M&8&&(z.lastMove=A[3]),Y.$set(z)},i(A){V||(X(l.$$.fragment,A),X(Y.$$.fragment,A),V=!0)},o(A){J(l.$$.fragment,A),J(Y.$$.fragment,A),V=!1},d(A){A&&c(e),A&&c(r),A&&c(o),oe(l),oe(Y),Z=!1,Xt(j)}}}function xn(t,e,n){let r,o,l,a=L.player,i;function s(h,I){Ge(l,h,ge(I)),n(3,i=I),n(1,l),o.push({...l}),n(0,o),u()}function u(){n(2,a=a===L.player?L.computer:L.player)}function p(){n(1,l=Yt()),n(0,o=[{...l}]),n(3,i={x:-1,y:-1})}function _(){o.length<=1||(o.pop(),n(0,o),n(1,l={...o[o.length-1]}))}const C=h=>{h.setup=()=>{r=h,h.createCanvas(400,400),p()},h.draw=()=>{h.background(0),qt(h,l,{drawSelection:!0,selection:st(h),currentPlayer:a})},h.mousePressed=()=>{if(h.mouseX<0||h.mouseX>h.width||h.mouseY<0||h.mouseY>h.height)return;const I=st(h);s(a,I)}};return at(()=>{r==null||r.remove()}),[o,l,a,i,p,_,C,()=>n(2,a=L.player),()=>n(2,a=L.computer)]}class er extends _e{constructor(e){super(),de(this,e,xn,Zn,me,{})}}function tr(t){let e;return{c(){e=g("Game")},l(n){e=E(n,"Game")},m(n,r){S(n,e,r)},d(n){n&&c(e)}}}function nr(t){let e;return{c(){e=g("Analyzer")},l(n){e=E(n,"Analyzer")},m(n,r){S(n,e,r)},d(n){n&&c(e)}}}function rr(t){let e,n,r,o;return e=new Pt({props:{$$slots:{default:[tr]},$$scope:{ctx:t}}}),r=new Pt({props:{$$slots:{default:[nr]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),n=B(),te(r.$$.fragment)},l(l){ne(e.$$.fragment,l),n=H(l),ne(r.$$.fragment,l)},m(l,a){re(e,l,a),S(l,n,a),re(r,l,a),o=!0},p(l,a){const i={};a&1&&(i.$$scope={dirty:a,ctx:l}),e.$set(i);const s={};a&1&&(s.$$scope={dirty:a,ctx:l}),r.$set(s)},i(l){o||(X(e.$$.fragment,l),X(r.$$.fragment,l),o=!0)},o(l){J(e.$$.fragment,l),J(r.$$.fragment,l),o=!1},d(l){oe(e,l),l&&c(n),oe(r,l)}}}function or(t){let e,n;return e=new Qn({}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function lr(t){let e,n;return e=new er({}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function sr(t){let e,n,r,o,l,a;return e=new dn({props:{$$slots:{default:[rr]},$$scope:{ctx:t}}}),r=new Et({props:{$$slots:{default:[or]},$$scope:{ctx:t}}}),l=new Et({props:{$$slots:{default:[lr]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),n=B(),te(r.$$.fragment),o=B(),te(l.$$.fragment)},l(i){ne(e.$$.fragment,i),n=H(i),ne(r.$$.fragment,i),o=H(i),ne(l.$$.fragment,i)},m(i,s){re(e,i,s),S(i,n,s),re(r,i,s),S(i,o,s),re(l,i,s),a=!0},p(i,s){const u={};s&1&&(u.$$scope={dirty:s,ctx:i}),e.$set(u);const p={};s&1&&(p.$$scope={dirty:s,ctx:i}),r.$set(p);const _={};s&1&&(_.$$scope={dirty:s,ctx:i}),l.$set(_)},i(i){a||(X(e.$$.fragment,i),X(r.$$.fragment,i),X(l.$$.fragment,i),a=!0)},o(i){J(e.$$.fragment,i),J(r.$$.fragment,i),J(l.$$.fragment,i),a=!1},d(i){oe(e,i),i&&c(n),oe(r,i),i&&c(o),oe(l,i)}}}function ar(t){let e,n;return e=new fn({props:{$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p(r,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}class ir extends _e{constructor(e){super(),de(this,e,null,ar,me,{})}}function fr(t){let e,n;return e=new ir({}),{c(){te(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){re(e,r,o),n=!0},p:Pe,i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}class _r extends _e{constructor(e){super(),de(this,e,null,fr,me,{})}}export{_r as default};
