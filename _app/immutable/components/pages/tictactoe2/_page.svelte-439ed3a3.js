import{S as oe,i as ae,s as ie,C as De,k as h,l as $,m as b,h as f,n as U,b as w,N as ge,E as Ve,F as Ge,G as Le,f as G,t as L,H as Ne,a0 as zt,o as Bt,j as Yt,W as xe,I as dt,a1 as Ht,A as jt,$ as Jt,g as et,d as tt,q as y,a as T,r as g,c as M,D as u,B as ve,u as z,w as Q,x as Z,y as x,z as ee,J as Ot,K as qt,M as mt,Q as Kt,P as Qt}from"../../../chunks/index-1d785069.js";import{w as Me}from"../../../chunks/index-c5a64178.js";import{P as Dt}from"../../../chunks/P5-76a6b36f.js";let Zt=1;function Vt(){return`svelte-tabs-${Zt++}`}function xt(t){let e,r,n,l;const s=t[4].default,a=De(s,t,t[3],null);return{c(){e=h("div"),a&&a.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=b(e);a&&a.l(i),i.forEach(f),this.h()},h(){U(e,"class","svelte-tabs")},m(o,i){w(o,e,i),a&&a.m(e,null),r=!0,n||(l=ge(e,"keydown",t[1]),n=!0)},p(o,[i]){a&&a.p&&(!r||i&8)&&Ve(a,s,o,o[3],r?Le(s,o[3],i,null):Ge(o[3]),null)},i(o){r||(G(a,o),r=!0)},o(o){L(a,o),r=!1},d(o){o&&f(e),a&&a.d(o),n=!1,l()}}}const nt={};function en(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(l=>l===e?t[n]||t[t.length-1]:l)}function tn(t,e,r){let n,{$$slots:l={},$$scope:s}=e,{initialSelectedIndex:a=0}=e;const o=[],i=[],c=[],m=Me({}),d=Me({}),A=Me(null);Ne(t,A,p=>r(5,n=p));const E=Me(null);function k(p,S,P){p.push(S),P.update(C=>C||S),xe(()=>en(p,S,P))}function _(p){const S=i.indexOf(p);A.set(p),E.set(c[S])}zt(nt,{registerTab(p){k(i,p,A)},registerTabElement(p){o.push(p)},registerPanel(p){k(c,p,E)},selectTab:_,selectedTab:A,selectedPanel:E,controls:m,labeledBy:d}),Bt(()=>{_(i[a])}),Yt(()=>{for(let p=0;p<i.length;p++)m.update(S=>({...S,[i[p].id]:c[p].id})),d.update(S=>({...S,[c[p].id]:i[p].id}))});async function I(p){if(p.target.classList.contains("svelte-tabs__tab")){let S=i.indexOf(n);switch(p.key){case"ArrowRight":S+=1,S>i.length-1&&(S=0),_(i[S]),o[S].focus();break;case"ArrowLeft":S-=1,S<0&&(S=i.length-1),_(i[S]),o[S].focus()}}}return t.$$set=p=>{"initialSelectedIndex"in p&&r(2,a=p.initialSelectedIndex),"$$scope"in p&&r(3,s=p.$$scope)},[A,I,a,s,l]}class nn extends oe{constructor(e){super(),ae(this,e,tn,xt,ie,{initialSelectedIndex:2})}}function rn(t){let e,r,n,l,s,a;const o=t[9].default,i=De(o,t,t[8],null);return{c(){e=h("li"),i&&i.c(),this.h()},l(c){e=$(c,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var m=b(e);i&&i.l(m),m.forEach(f),this.h()},h(){U(e,"role","tab"),U(e,"id",t[3].id),U(e,"aria-controls",r=t[2][t[3].id]),U(e,"aria-selected",t[1]),U(e,"tabindex",n=t[1]?0:-1),U(e,"class","svelte-tabs__tab svelte-1fbofsd"),dt(e,"svelte-tabs__selected",t[1])},m(c,m){w(c,e,m),i&&i.m(e,null),t[10](e),l=!0,s||(a=ge(e,"click",t[11]),s=!0)},p(c,[m]){i&&i.p&&(!l||m&256)&&Ve(i,o,c,c[8],l?Le(o,c[8],m,null):Ge(c[8]),null),(!l||m&4&&r!==(r=c[2][c[3].id]))&&U(e,"aria-controls",r),(!l||m&2)&&U(e,"aria-selected",c[1]),(!l||m&2&&n!==(n=c[1]?0:-1))&&U(e,"tabindex",n),(!l||m&2)&&dt(e,"svelte-tabs__selected",c[1])},i(c){l||(G(i,c),l=!0)},o(c){L(i,c),l=!1},d(c){c&&f(e),i&&i.d(c),t[10](null),s=!1,a()}}}function ln(t,e,r){let n,l,{$$slots:s={},$$scope:a}=e,o;const i={id:Vt()},{registerTab:c,registerTabElement:m,selectTab:d,selectedTab:A,controls:E}=Ht(nt);Ne(t,A,p=>r(7,n=p)),Ne(t,E,p=>r(2,l=p));let k;c(i),Bt(async()=>{await jt(),m(o)});function _(p){Jt[p?"unshift":"push"](()=>{o=p,r(0,o)})}const I=()=>d(i);return t.$$set=p=>{"$$scope"in p&&r(8,a=p.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,k=n===i)},[o,k,l,i,d,A,E,n,a,s,_,I]}class vt extends oe{constructor(e){super(),ae(this,e,ln,rn,ie,{})}}function sn(t){let e,r;const n=t[1].default,l=De(n,t,t[0],null);return{c(){e=h("ul"),l&&l.c(),this.h()},l(s){e=$(s,"UL",{role:!0,class:!0});var a=b(e);l&&l.l(a),a.forEach(f),this.h()},h(){U(e,"role","tablist"),U(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(s,a){w(s,e,a),l&&l.m(e,null),r=!0},p(s,[a]){l&&l.p&&(!r||a&1)&&Ve(l,n,s,s[0],r?Le(n,s[0],a,null):Ge(s[0]),null)},i(s){r||(G(l,s),r=!0)},o(s){L(l,s),r=!1},d(s){s&&f(e),l&&l.d(s)}}}function on(t,e,r){let{$$slots:n={},$$scope:l}=e;return t.$$set=s=>{"$$scope"in s&&r(0,l=s.$$scope)},[l,n]}class an extends oe{constructor(e){super(),ae(this,e,on,sn,ie,{})}}function ht(t){let e;const r=t[6].default,n=De(r,t,t[5],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ve(n,r,l,l[5],e?Le(r,l[5],s,null):Ge(l[5]),null)},i(l){e||(G(n,l),e=!0)},o(l){L(n,l),e=!1},d(l){n&&n.d(l)}}}function fn(t){let e,r,n,l=t[1]===t[2]&&ht(t);return{c(){e=h("div"),l&&l.c(),this.h()},l(s){e=$(s,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var a=b(e);l&&l.l(a),a.forEach(f),this.h()},h(){U(e,"id",t[2].id),U(e,"aria-labelledby",r=t[0][t[2].id]),U(e,"class","svelte-tabs__tab-panel svelte-epfyet"),U(e,"role","tabpanel")},m(s,a){w(s,e,a),l&&l.m(e,null),n=!0},p(s,[a]){s[1]===s[2]?l?(l.p(s,a),a&2&&G(l,1)):(l=ht(s),l.c(),G(l,1),l.m(e,null)):l&&(et(),L(l,1,1,()=>{l=null}),tt()),(!n||a&1&&r!==(r=s[0][s[2].id]))&&U(e,"aria-labelledby",r)},i(s){n||(G(l),n=!0)},o(s){L(l),n=!1},d(s){s&&f(e),l&&l.d()}}}function un(t,e,r){let n,l,{$$slots:s={},$$scope:a}=e;const o={id:Vt()},{registerPanel:i,selectedPanel:c,labeledBy:m}=Ht(nt);return Ne(t,c,d=>r(1,l=d)),Ne(t,m,d=>r(0,n=d)),i(o),t.$$set=d=>{"$$scope"in d&&r(5,a=d.$$scope)},[n,l,o,c,m,a,s]}class $t extends oe{constructor(e){super(),ae(this,e,un,fn,ie,{})}}function Pe(t){const{x:e,y:r}=t;if(e<0||e>2||r<0||r>2)throw new Error(`Invalid coords (${e},${r})`);return 8-(3*r+e)}function Gt(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const cn=[448,56,7,292,146,73,273,84],pn=[{p:16,o:40},{p:16,o:130}],_n=[{p:1,o:6},{p:1,o:72}],dn=[{p:2,o:5},{p:2,o:144}],we=(t,e)=>(t&e)===e;function bt(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function yt(t,e){const r=Pe(e);return Te(t,r)}function Te(t,e){return!(t&1<<e)}function Ue(t,e){return t+2**e}const ze=t=>{for(const e of cn)if(we(t,e))return!0;return!1};var D=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(D||{});function Lt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Be(t,e){return e===D.player?t.player:t.computer}function He(t,e){return e===D.player?t.computer:t.player}function Oe(t,e){if(!e&&!mn(t))return"invalid_board";const r=ze(t.player),n=ze(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":hn(t)?"not_over":"over"}function We(t,e,r){if(!vn(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${r} `);e===D.player?t.player=Ue(t.player,r):t.computer=Ue(t.computer,r)}function mn(t){if(t.player&t.computer)return!1;const e=bt(t.player),r=bt(t.computer);return!(Math.abs(e-r)>1)}function vn(t,e){return Te(t.player,e)&&Te(t.computer,e)}function hn(t){return(t.player|t.computer)!==511}function Wt(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}const $n=[2,5,8,1,4,7,0,3,6];function gt(t){let e=0;return $n.forEach((r,n)=>{Te(t,n)||(e=Ue(e,r))}),e}function Pt(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const r={...t};for(let n=0;n<e;n++)r.player=gt(r.player),r.computer=gt(r.computer);return r}function Ae(t,e){const r=Be(t,e);return ze(r)}function Ye(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function je(t,e,r){const n=Pe(r),l=Be(t,e),s=He(t,e);for(const{o:a,p:o}of pn)if(we(l,o)&&we(s,a))return!0;if(rt.has(n)){const a={0:0,2:3,6:1,8:2}[n]||0,o=Pt(t,a),i=Be(o,e),c=He(o,e);for(const{o:m,p:d}of _n)if(we(i,d)&&we(c,m))return!0}if(Xt.has(n)){const a={1:0,3:1,5:3,7:2}[n]||0,o=Pt(t,a),i=Be(o,e),c=He(o,e);for(const{o:m,p:d}of dn)if(we(i,d)&&we(c,m))return!0}return!1}const rt=new Set([0,2,6,8]),Xt=new Set([1,3,5,7]);function Je(t,e,r){const n=Pe(r);if(!rt.has(n))return!1;const l=8-n,s=He(t,e);return!Te(s,l)}function qe(t){const e=Pe(t);return rt.has(e)}function Ke(t){const e=Pe(t);return Xt.has(e)}function bn(t,e){const r=Wt(t);if(r.length===0)throw new Error("No available moves");let n=0,l;for(const s of r){const a={...t},o=Gt(s);We(a,e,s);const i=yn(a,e,o);i>n&&(n=i,l=o)}if(!l)throw new Error("Error in getMoveHardcoded");return l}function yn(t,e,r){return Ae(t,D.player)?8:je(t,e,r)?7:Ye(r)?4:Je(t,e,r)?3:qe(r)?2:Ke(r)?1:0}function gn(t){const e=Wt(t);if(e.length===0)throw new Error("No available moves");const r=Math.floor(Math.random()*e.length),n=e[r];return Gt(n)}const Qe={random:gn,hardcodedRules:bn},Pn=()=>({board:Lt(),currentPlayer:D.player,state:"not_over",moveHistory:[]});function Rt(t){t.currentPlayer=t.currentPlayer===D.player?D.computer:D.player}const kn=(t,e,r)=>{t.state==="not_over"&&(We(t.board,e,Pe(r)),t.state=Oe(t.board),t.moveHistory.push({board:{...t.board},moveCoord:r,player:e,method:"manual"}),Rt(t))},wn=(t,e,r)=>{if(t.state!=="not_over")return;const n=Qe[r],l=n(t.board,e);We(t.board,e,Pe(l)),t.state=Oe(t.board),t.moveHistory.push({board:{...t.board},moveCoord:l,player:e,method:r}),Rt(t)},Ce=(t,e)=>{if(t.moveHistory.length>0){const r=t.moveHistory[t.moveHistory.length-1];if(r.player===e)return r}if(t.moveHistory.length>1){const r=t.moveHistory[t.moveHistory.length-2];if(r.player===e)return r}return null};function Ft(t,e,r){const n=t.width/3,l=t.height/3,{height:s,width:a}=t,{drawSelection:o,selection:i,currentPlayer:c}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,s),t.line(n*2,0,n*2,s),t.line(0,l,a,l),t.line(0,l*2,a,l*2);for(let m=0;m<3;m++)for(let d=0;d<3;d++)(!yt(e.player,{x:d,y:m})||o&&c===D.player&&(i==null?void 0:i.x)===d&&(i==null?void 0:i.y)===m)&&(t.stroke("blue"),t.circle(d*n+n/2,m*l+l/2,l/2)),(!yt(e.computer,{x:d,y:m})||o&&c===D.computer&&(i==null?void 0:i.x)===d&&(i==null?void 0:i.y)===m)&&(t.stroke("red"),t.line(d*n+n*.3,m*l+l*.3,d*n+n*.7,m*l+l*.7),t.line(d*n+n*.7,m*l+l*.3,d*n+n*.3,m*l+l*.7))}function Ze(t){const{mouseX:e,mouseY:r,width:n,height:l}=t,s=Math.floor(t.map(e,0,n,0,3)),a=Math.floor(t.map(r,0,l,0,3));return{x:s,y:a}}function kt(t){let e,r,n,l,s,a=Oe(t[0])+"",o,i,c,m,d,A,E,k,_,I,p=t[0].player.toString(2).padStart(9,"0")+"",S,P,C,X=t[0].player+"",O,B,V,q,W,R=Ae(t[0],D.player)?"✅":"❌",K,re,N,F,j,Y,fe,ue,te,pe,le=t[0].computer.toString(2).padStart(9,"0")+"",ce,me,_e,v=t[0].computer+"",H,he,$e,Ee,be,ye=Ae(t[0],D.computer)?"✅":"❌",ke;return{c(){e=h("div"),r=h("span"),n=y("State:"),l=T(),s=h("span"),o=y(a),i=T(),c=h("div"),m=h("span"),d=y("Player 1"),A=h("span"),E=y("Player, O"),k=T(),_=h("span"),I=y("0b"),S=y(p),P=T(),C=h("span"),O=y(X),B=T(),V=h("span"),q=y("Wins"),W=h("span"),K=y(R),re=T(),N=h("div"),F=h("span"),j=y("Player 2"),Y=h("span"),fe=y("Computer, X"),ue=T(),te=h("span"),pe=y("0b"),ce=y(le),me=T(),_e=h("span"),H=y(v),he=T(),$e=h("span"),Ee=y("Wins"),be=h("span"),ke=y(ye),this.h()},l(ne){e=$(ne,"DIV",{class:!0});var J=b(e);r=$(J,"SPAN",{});var Se=b(r);n=g(Se,"State:"),Se.forEach(f),l=M(J),s=$(J,"SPAN",{});var Ie=b(s);o=g(Ie,a),Ie.forEach(f),i=M(J),c=$(J,"DIV",{class:!0});var se=b(c);m=$(se,"SPAN",{});var lt=b(m);d=g(lt,"Player 1"),lt.forEach(f),A=$(se,"SPAN",{});var st=b(A);E=g(st,"Player, O"),st.forEach(f),k=M(se),_=$(se,"SPAN",{});var Xe=b(_);I=g(Xe,"0b"),S=g(Xe,p),Xe.forEach(f),P=M(se),C=$(se,"SPAN",{});var ot=b(C);O=g(ot,X),ot.forEach(f),B=M(se),V=$(se,"SPAN",{});var at=b(V);q=g(at,"Wins"),at.forEach(f),W=$(se,"SPAN",{});var it=b(W);K=g(it,R),it.forEach(f),se.forEach(f),re=M(J),N=$(J,"DIV",{class:!0});var de=b(N);F=$(de,"SPAN",{});var ft=b(F);j=g(ft,"Player 2"),ft.forEach(f),Y=$(de,"SPAN",{});var ut=b(Y);fe=g(ut,"Computer, X"),ut.forEach(f),ue=M(de),te=$(de,"SPAN",{});var Re=b(te);pe=g(Re,"0b"),ce=g(Re,le),Re.forEach(f),me=M(de),_e=$(de,"SPAN",{});var ct=b(_e);H=g(ct,v),ct.forEach(f),he=M(de),$e=$(de,"SPAN",{});var pt=b($e);Ee=g(pt,"Wins"),pt.forEach(f),be=$(de,"SPAN",{});var _t=b(be);ke=g(_t,ye),_t.forEach(f),de.forEach(f),J.forEach(f),this.h()},h(){U(c,"class","grid2cols svelte-1lw5ne4"),U(N,"class","grid2cols svelte-1lw5ne4"),U(e,"class","grid2cols svelte-1lw5ne4")},m(ne,J){w(ne,e,J),u(e,r),u(r,n),u(e,l),u(e,s),u(s,o),u(e,i),u(e,c),u(c,m),u(m,d),u(c,A),u(A,E),u(c,k),u(c,_),u(_,I),u(_,S),u(c,P),u(c,C),u(C,O),u(c,B),u(c,V),u(V,q),u(c,W),u(W,K),u(e,re),u(e,N),u(N,F),u(F,j),u(N,Y),u(Y,fe),u(N,ue),u(N,te),u(te,pe),u(te,ce),u(N,me),u(N,_e),u(_e,H),u(N,he),u(N,$e),u($e,Ee),u(N,be),u(be,ke)},p(ne,J){J&1&&a!==(a=Oe(ne[0])+"")&&z(o,a),J&1&&p!==(p=ne[0].player.toString(2).padStart(9,"0")+"")&&z(S,p),J&1&&X!==(X=ne[0].player+"")&&z(O,X),J&1&&R!==(R=Ae(ne[0],D.player)?"✅":"❌")&&z(K,R),J&1&&le!==(le=ne[0].computer.toString(2).padStart(9,"0")+"")&&z(ce,le),J&1&&v!==(v=ne[0].computer+"")&&z(H,v),J&1&&ye!==(ye=Ae(ne[0],D.computer)?"✅":"❌")&&z(ke,ye)},d(ne){ne&&f(e)}}}function En(t){let e,r,n,l,s=t[0]&&kt(t);return{c(){e=h("div"),r=h("h4"),n=y("Board info"),l=T(),s&&s.c()},l(a){e=$(a,"DIV",{});var o=b(e);r=$(o,"H4",{});var i=b(r);n=g(i,"Board info"),i.forEach(f),l=M(o),s&&s.l(o),o.forEach(f)},m(a,o){w(a,e,o),u(e,r),u(r,n),u(e,l),s&&s.m(e,null)},p(a,[o]){a[0]?s?s.p(a,o):(s=kt(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:ve,o:ve,d(a){a&&f(e),s&&s.d()}}}function Sn(t,e,r){let{board:n}=e;return t.$$set=l=>{"board"in l&&r(0,n=l.board)},[n]}class Ut extends oe{constructor(e){super(),ae(this,e,Sn,En,ie,{board:0})}}function In(t){let e,r,n=JSON.stringify(t[0])+"",l;return{c(){e=h("p"),r=y("Board is undefined "),l=y(n)},l(s){e=$(s,"P",{});var a=b(e);r=g(a,"Board is undefined "),l=g(a,n),a.forEach(f)},m(s,a){w(s,e,a),u(e,r),u(e,l)},p(s,a){a&1&&n!==(n=JSON.stringify(s[0])+"")&&z(l,n)},i:ve,o:ve,d(s){s&&f(e)}}}function An(t){let e,r;return e=new Dt({props:{sketch:t[1]}}),{c(){Q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,l){x(e,n,l),r=!0},p:ve,i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){L(e.$$.fragment,n),r=!1},d(n){ee(e,n)}}}function Nn(t){let e,r,n,l;const s=[An,In],a=[];function o(i,c){return i[0]?0:1}return r=o(t),n=a[r]=s[r](t),{c(){e=h("div"),n.c()},l(i){e=$(i,"DIV",{});var c=b(e);n.l(c),c.forEach(f)},m(i,c){w(i,e,c),a[r].m(e,null),l=!0},p(i,[c]){let m=r;r=o(i),r===m?a[r].p(i,c):(et(),L(a[m],1,1,()=>{a[m]=null}),tt(),n=a[r],n?n.p(i,c):(n=a[r]=s[r](i),n.c()),G(n,1),n.m(e,null))},i(i){l||(G(n),l=!0)},o(i){L(n),l=!1},d(i){i&&f(e),a[r].d()}}}function Tn(t,e,r){let{board:n}=e,{onClick:l}=e,s;const a=o=>{o.setup=()=>{s=o,o.createCanvas(400,400)},o.draw=()=>{o.background(0),Ft(o,n)},o.mousePressed=()=>{o.mouseX<0||o.mouseX>o.width||o.mouseY<0||o.mouseY>o.height||l(Ze(o))}};return xe(()=>{s==null||s.remove()}),t.$$set=o=>{"board"in o&&r(0,n=o.board),"onClick"in o&&r(2,l=o.onClick)},[n,a,l]}class Mn extends oe{constructor(e){super(),ae(this,e,Tn,Nn,ie,{board:0,onClick:2})}}function Fe(t){const e=t.slice(),r=e[0];return e[1]=r.moveCoord,e[2]=r.player,e[3]=r.board,e}function wt(t){let e,r,n,l,s=t[1].x+"",a,o,i=t[1].y+"",c,m,d,A,E,k=Ye(t[1])?"✅":"❌",_,I,p,S,P,C=qe(t[1])?"✅":"❌",X,O,B,V,q,W=Ke(t[1])?"✅":"❌",R,K,re,N,F,j,Y=Je(t[3],t[2],t[1])?"✅":"❌",fe,ue,te,pe,le,ce,me=je(t[3],t[2],t[1])?"✅":"❌",_e;return{c(){e=h("span"),r=y("Last move:"),n=T(),l=h("span"),a=y(s),o=y(", "),c=y(i),m=T(),d=h("span"),A=y("center"),E=h("span"),_=y(k),I=T(),p=h("span"),S=y("corner"),P=h("span"),X=y(C),O=T(),B=h("span"),V=y("side"),q=h("span"),R=y(W),K=T(),re=h("span"),N=y("Took opposite corner"),F=T(),j=h("span"),fe=y(Y),ue=T(),te=h("span"),pe=y("Last move blocks opponent"),le=T(),ce=h("span"),_e=y(me)},l(v){e=$(v,"SPAN",{});var H=b(e);r=g(H,"Last move:"),H.forEach(f),n=M(v),l=$(v,"SPAN",{});var he=b(l);a=g(he,s),o=g(he,", "),c=g(he,i),he.forEach(f),m=M(v),d=$(v,"SPAN",{});var $e=b(d);A=g($e,"center"),$e.forEach(f),E=$(v,"SPAN",{});var Ee=b(E);_=g(Ee,k),Ee.forEach(f),I=M(v),p=$(v,"SPAN",{});var be=b(p);S=g(be,"corner"),be.forEach(f),P=$(v,"SPAN",{});var ye=b(P);X=g(ye,C),ye.forEach(f),O=M(v),B=$(v,"SPAN",{});var ke=b(B);V=g(ke,"side"),ke.forEach(f),q=$(v,"SPAN",{});var ne=b(q);R=g(ne,W),ne.forEach(f),K=M(v),re=$(v,"SPAN",{});var J=b(re);N=g(J,"Took opposite corner"),J.forEach(f),F=M(v),j=$(v,"SPAN",{});var Se=b(j);fe=g(Se,Y),Se.forEach(f),ue=M(v),te=$(v,"SPAN",{});var Ie=b(te);pe=g(Ie,"Last move blocks opponent"),Ie.forEach(f),le=M(v),ce=$(v,"SPAN",{});var se=b(ce);_e=g(se,me),se.forEach(f)},m(v,H){w(v,e,H),u(e,r),w(v,n,H),w(v,l,H),u(l,a),u(l,o),u(l,c),w(v,m,H),w(v,d,H),u(d,A),w(v,E,H),u(E,_),w(v,I,H),w(v,p,H),u(p,S),w(v,P,H),u(P,X),w(v,O,H),w(v,B,H),u(B,V),w(v,q,H),u(q,R),w(v,K,H),w(v,re,H),u(re,N),w(v,F,H),w(v,j,H),u(j,fe),w(v,ue,H),w(v,te,H),u(te,pe),w(v,le,H),w(v,ce,H),u(ce,_e)},p(v,H){H&1&&s!==(s=v[1].x+"")&&z(a,s),H&1&&i!==(i=v[1].y+"")&&z(c,i),H&1&&k!==(k=Ye(v[1])?"✅":"❌")&&z(_,k),H&1&&C!==(C=qe(v[1])?"✅":"❌")&&z(X,C),H&1&&W!==(W=Ke(v[1])?"✅":"❌")&&z(R,W),H&1&&Y!==(Y=Je(v[3],v[2],v[1])?"✅":"❌")&&z(fe,Y),H&1&&me!==(me=je(v[3],v[2],v[1])?"✅":"❌")&&z(_e,me)},d(v){v&&f(e),v&&f(n),v&&f(l),v&&f(m),v&&f(d),v&&f(E),v&&f(I),v&&f(p),v&&f(P),v&&f(O),v&&f(B),v&&f(q),v&&f(K),v&&f(re),v&&f(F),v&&f(j),v&&f(ue),v&&f(te),v&&f(le),v&&f(ce)}}}function Cn(t){let e,r=t[0]&&wt(Fe(t));return{c(){e=h("div"),r&&r.c(),this.h()},l(n){e=$(n,"DIV",{class:!0});var l=b(e);r&&r.l(l),l.forEach(f),this.h()},h(){U(e,"class","grid2cols svelte-1lw5ne4")},m(n,l){w(n,e,l),r&&r.m(e,null)},p(n,[l]){n[0]?r?r.p(Fe(n),l):(r=wt(Fe(n)),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ve,o:ve,d(n){n&&f(e),r&&r.d()}}}function Bn(t,e,r){let{historyItem:n}=e;return t.$$set=l=>{"historyItem"in l&&r(0,n=l.historyItem)},[n]}class Et extends oe{constructor(e){super(),ae(this,e,Bn,Cn,ie,{historyItem:0})}}function St(t,e,r){const n=t.slice();return n[4]=e[r],n}function It(t){let e,r=[...t[0].moveHistory].reverse(),n=[];for(let l=0;l<r.length;l+=1)n[l]=At(St(t,r,l));return{c(){e=h("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=$(l,"DIV",{class:!0});var s=b(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(f),this.h()},h(){U(e,"class","grid3cols svelte-1g8tfkd")},m(l,s){w(l,e,s);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,s){if(s&1){r=[...l[0].moveHistory].reverse();let a;for(a=0;a<r.length;a+=1){const o=St(l,r,a);n[a]?n[a].p(o,s):(n[a]=At(o),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&f(e),Ot(n,l)}}}function At(t){let e,r=t[4].moveCoord.x+"",n,l,s=t[4].moveCoord.y+"",a,o,i,c,m=t[4].player+"",d,A,E=t[4].method+"",k,_,I,p=t[4].board.toString()+"",S;return{c(){e=h("span"),n=y(r),l=y(", "),a=y(s),o=T(),i=h("span"),c=y("Player "),d=y(m),A=y(" - Method "),k=y(E),_=T(),I=h("span"),S=y(p)},l(P){e=$(P,"SPAN",{});var C=b(e);n=g(C,r),l=g(C,", "),a=g(C,s),C.forEach(f),o=M(P),i=$(P,"SPAN",{});var X=b(i);c=g(X,"Player "),d=g(X,m),A=g(X," - Method "),k=g(X,E),X.forEach(f),_=M(P),I=$(P,"SPAN",{});var O=b(I);S=g(O,p),O.forEach(f)},m(P,C){w(P,e,C),u(e,n),u(e,l),u(e,a),w(P,o,C),w(P,i,C),u(i,c),u(i,d),u(i,A),u(i,k),w(P,_,C),w(P,I,C),u(I,S)},p(P,C){C&1&&r!==(r=P[4].moveCoord.x+"")&&z(n,r),C&1&&s!==(s=P[4].moveCoord.y+"")&&z(a,s),C&1&&m!==(m=P[4].player+"")&&z(d,m),C&1&&E!==(E=P[4].method+"")&&z(k,E),C&1&&p!==(p=P[4].board.toString()+"")&&z(S,p)},d(P){P&&f(e),P&&f(o),P&&f(i),P&&f(_),P&&f(I)}}}function Hn(t){let e,r,n,l,s,a=t[2](t[0])+"",o,i,c,m,d,A,E,k,_=t[1]?"Hide":"Show",I,p,S,P,C,X;m=new Et({props:{historyItem:Ce(t[0],D.player)}}),A=new Et({props:{historyItem:Ce(t[0],D.computer)}});let O=t[1]&&It(t);return{c(){e=h("div"),r=h("h4"),n=y("Game info"),l=T(),s=h("span"),o=y(a),i=T(),c=h("div"),Q(m.$$.fragment),d=T(),Q(A.$$.fragment),E=T(),k=h("button"),I=y(_),p=y(" move history"),S=T(),O&&O.c(),this.h()},l(B){e=$(B,"DIV",{});var V=b(e);r=$(V,"H4",{});var q=b(r);n=g(q,"Game info"),q.forEach(f),l=M(V),s=$(V,"SPAN",{});var W=b(s);o=g(W,a),W.forEach(f),i=M(V),c=$(V,"DIV",{class:!0});var R=b(c);Z(m.$$.fragment,R),d=M(R),Z(A.$$.fragment,R),R.forEach(f),E=M(V),k=$(V,"BUTTON",{});var K=b(k);I=g(K,_),p=g(K," move history"),K.forEach(f),S=M(V),O&&O.l(V),V.forEach(f),this.h()},h(){U(c,"class","grid2cols svelte-1g8tfkd")},m(B,V){w(B,e,V),u(e,r),u(r,n),u(e,l),u(e,s),u(s,o),u(e,i),u(e,c),x(m,c,null),u(c,d),x(A,c,null),u(e,E),u(e,k),u(k,I),u(k,p),u(e,S),O&&O.m(e,null),P=!0,C||(X=ge(k,"click",t[3]),C=!0)},p(B,[V]){(!P||V&1)&&a!==(a=B[2](B[0])+"")&&z(o,a);const q={};V&1&&(q.historyItem=Ce(B[0],D.player)),m.$set(q);const W={};V&1&&(W.historyItem=Ce(B[0],D.computer)),A.$set(W),(!P||V&2)&&_!==(_=B[1]?"Hide":"Show")&&z(I,_),B[1]?O?O.p(B,V):(O=It(B),O.c(),O.m(e,null)):O&&(O.d(1),O=null)},i(B){P||(G(m.$$.fragment,B),G(A.$$.fragment,B),P=!0)},o(B){L(m.$$.fragment,B),L(A.$$.fragment,B),P=!1},d(B){B&&f(e),ee(m),ee(A),O&&O.d(),C=!1,X()}}}function On(t,e,r){let{game:n}=e,l=!1;const s=o=>!o||!o.state?"N/A":o.state==="not_over"?"Turn: "+(o.currentPlayer===D.player?"Player":"Computer"):o.state==="player_win"?"Player Win":o.state==="computer_win"?"Computer Win":o.state==="draw"?"Draw":o.state==="over"?"Game Over":"Invalid Game",a=()=>r(1,l=!l);return t.$$set=o=>{"game"in o&&r(0,n=o.game)},[n,l,s,a]}class Dn extends oe{constructor(e){super(),ae(this,e,On,Hn,ie,{game:0})}}function Nt(t,e,r){const n=t.slice();return n[7]=e[r],n}function Tt(t){let e,r,n,l;return{c(){e=h("p"),r=y("Restarting in "),n=y(t[1]),l=y(" seconds")},l(s){e=$(s,"P",{});var a=b(e);r=g(a,"Restarting in "),n=g(a,t[1]),l=g(a," seconds"),a.forEach(f)},m(s,a){w(s,e,a),u(e,r),u(e,n),u(e,l)},p(s,a){a&2&&z(n,s[1])},d(s){s&&f(e)}}}function Mt(t){let e,r=t[7]+"",n,l;return{c(){e=h("option"),n=y(r),l=T(),this.h()},l(s){e=$(s,"OPTION",{});var a=b(e);n=g(a,r),l=M(a),a.forEach(f),this.h()},h(){e.__value=t[7],e.value=e.__value},m(s,a){w(s,e,a),u(e,n),u(e,l)},p:ve,d(s){s&&f(e)}}}function Ct(t){let e,r,n,l,s,a;return e=new Mn({props:{board:t[0].board,onClick:t[3]}}),n=new Dn({props:{game:t[0]}}),s=new Ut({props:{board:t[0].board}}),{c(){Q(e.$$.fragment),r=T(),Q(n.$$.fragment),l=T(),Q(s.$$.fragment)},l(o){Z(e.$$.fragment,o),r=M(o),Z(n.$$.fragment,o),l=M(o),Z(s.$$.fragment,o)},m(o,i){x(e,o,i),w(o,r,i),x(n,o,i),w(o,l,i),x(s,o,i),a=!0},p(o,i){const c={};i&1&&(c.board=o[0].board),e.$set(c);const m={};i&1&&(m.game=o[0]),n.$set(m);const d={};i&1&&(d.board=o[0].board),s.$set(d)},i(o){a||(G(e.$$.fragment,o),G(n.$$.fragment,o),G(s.$$.fragment,o),a=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),L(s.$$.fragment,o),a=!1},d(o){ee(e,o),o&&f(r),ee(n,o),o&&f(l),ee(s,o)}}}function Vn(t){let e,r,n,l,s,a,o,i,c,m,d=t[1]>0&&Tt(t),A=Object.keys(Qe),E=[];for(let _=0;_<A.length;_+=1)E[_]=Mt(Nt(t,A,_));let k=t[0].board&&Ct(t);return{c(){e=h("h2"),r=y("Game"),n=T(),l=h("div"),d&&d.c(),s=T(),a=h("select");for(let _=0;_<E.length;_+=1)E[_].c();o=T(),k&&k.c(),this.h()},l(_){e=$(_,"H2",{});var I=b(e);r=g(I,"Game"),I.forEach(f),n=M(_),l=$(_,"DIV",{});var p=b(l);d&&d.l(p),s=M(p),a=$(p,"SELECT",{});var S=b(a);for(let P=0;P<E.length;P+=1)E[P].l(S);S.forEach(f),o=M(p),k&&k.l(p),p.forEach(f),this.h()},h(){t[2]===void 0&&qt(()=>t[4].call(a))},m(_,I){w(_,e,I),u(e,r),w(_,n,I),w(_,l,I),d&&d.m(l,null),u(l,s),u(l,a);for(let p=0;p<E.length;p+=1)E[p].m(a,null);mt(a,t[2]),u(l,o),k&&k.m(l,null),i=!0,c||(m=ge(a,"change",t[4]),c=!0)},p(_,[I]){if(_[1]>0?d?d.p(_,I):(d=Tt(_),d.c(),d.m(l,s)):d&&(d.d(1),d=null),I&0){A=Object.keys(Qe);let p;for(p=0;p<A.length;p+=1){const S=Nt(_,A,p);E[p]?E[p].p(S,I):(E[p]=Mt(S),E[p].c(),E[p].m(a,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=A.length}I&4&&mt(a,_[2]),_[0].board?k?(k.p(_,I),I&1&&G(k,1)):(k=Ct(_),k.c(),G(k,1),k.m(l,null)):k&&(et(),L(k,1,1,()=>{k=null}),tt())},i(_){i||(G(k),i=!0)},o(_){L(k),i=!1},d(_){_&&f(e),_&&f(n),_&&f(l),d&&d.d(),Ot(E,_),k&&k.d(),c=!1,m()}}}function Gn(t,e,r){let n,l,s,a="hardcodedRules";o();function o(){r(0,n=Pn()),l=n.currentPlayer}const i=m=>{l===D.player&&(kn(n,D.player,m),r(0,n),setTimeout(()=>{if(wn(n,D.computer,a),r(0,n),l=n.currentPlayer,n.state!=="not_over"){r(1,s=4);const d=setInterval(()=>{r(1,s--,s),s===0&&(o(),clearInterval(d))},1e3)}},500))};function c(){a=Kt(this),r(2,a)}return[n,s,a,i,c]}class Ln extends oe{constructor(e){super(),ae(this,e,Gn,Vn,ie,{})}}function Wn(t){let e,r,n,l,s,a,o,i,c,m,d,A,E,k,_,I,p,S,P,C,X,O,B,V,q,W,R,K,re;return s=new Dt({props:{sketch:t[6]}}),W=new Ut({props:{board:t[1],lastMove:t[3]}}),{c(){e=h("h2"),r=y("Analyzer"),n=T(),l=h("div"),Q(s.$$.fragment),a=T(),o=h("div"),i=h("h4"),c=y("Controls"),m=T(),d=h("button"),A=y("Play O"),k=T(),_=h("button"),I=y("Play X"),S=T(),P=h("button"),C=y("Previous"),O=T(),B=h("button"),V=y("Reset"),q=T(),Q(W.$$.fragment),this.h()},l(N){e=$(N,"H2",{});var F=b(e);r=g(F,"Analyzer"),F.forEach(f),n=M(N),l=$(N,"DIV",{});var j=b(l);Z(s.$$.fragment,j),a=M(j),o=$(j,"DIV",{});var Y=b(o);i=$(Y,"H4",{});var fe=b(i);c=g(fe,"Controls"),fe.forEach(f),m=M(Y),d=$(Y,"BUTTON",{});var ue=b(d);A=g(ue,"Play O"),ue.forEach(f),k=M(Y),_=$(Y,"BUTTON",{});var te=b(_);I=g(te,"Play X"),te.forEach(f),S=M(Y),P=$(Y,"BUTTON",{});var pe=b(P);C=g(pe,"Previous"),pe.forEach(f),O=M(Y),B=$(Y,"BUTTON",{});var le=b(B);V=g(le,"Reset"),le.forEach(f),Y.forEach(f),q=M(j),Z(W.$$.fragment,j),j.forEach(f),this.h()},h(){d.disabled=E=t[2]===D.player,_.disabled=p=t[2]===D.computer,P.disabled=X=(t[0]||[]).length<2},m(N,F){w(N,e,F),u(e,r),w(N,n,F),w(N,l,F),x(s,l,null),u(l,a),u(l,o),u(o,i),u(i,c),u(o,m),u(o,d),u(d,A),u(o,k),u(o,_),u(_,I),u(o,S),u(o,P),u(P,C),u(o,O),u(o,B),u(B,V),u(l,q),x(W,l,null),R=!0,K||(re=[ge(d,"click",t[7]),ge(_,"click",t[8]),ge(P,"click",t[5]),ge(B,"click",t[4])],K=!0)},p(N,[F]){(!R||F&4&&E!==(E=N[2]===D.player))&&(d.disabled=E),(!R||F&4&&p!==(p=N[2]===D.computer))&&(_.disabled=p),(!R||F&1&&X!==(X=(N[0]||[]).length<2))&&(P.disabled=X);const j={};F&2&&(j.board=N[1]),F&8&&(j.lastMove=N[3]),W.$set(j)},i(N){R||(G(s.$$.fragment,N),G(W.$$.fragment,N),R=!0)},o(N){L(s.$$.fragment,N),L(W.$$.fragment,N),R=!1},d(N){N&&f(e),N&&f(n),N&&f(l),ee(s),ee(W),K=!1,Qt(re)}}}function Xn(t,e,r){let n,l,s,a=D.player,o;function i(_,I){We(s,_,Pe(I)),r(3,o=I),r(1,s),l.push({...s}),r(0,l),c()}function c(){r(2,a=a===D.player?D.computer:D.player)}function m(){r(1,s=Lt()),r(0,l=[{...s}]),r(3,o={x:-1,y:-1})}function d(){l.length<=1||(l.pop(),r(0,l),r(1,s={...l[l.length-1]}))}const A=_=>{_.setup=()=>{n=_,_.createCanvas(400,400),m()},_.draw=()=>{_.background(0),Ft(_,s,{drawSelection:!0,selection:Ze(_),currentPlayer:a})},_.mousePressed=()=>{if(_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height)return;const I=Ze(_);i(a,I)}};return xe(()=>{n==null||n.remove()}),[l,s,a,o,m,d,A,()=>r(2,a=D.player),()=>r(2,a=D.computer)]}class Rn extends oe{constructor(e){super(),ae(this,e,Xn,Wn,ie,{})}}function Fn(t){let e;return{c(){e=y("Game")},l(r){e=g(r,"Game")},m(r,n){w(r,e,n)},d(r){r&&f(e)}}}function Un(t){let e;return{c(){e=y("Analyzer")},l(r){e=g(r,"Analyzer")},m(r,n){w(r,e,n)},d(r){r&&f(e)}}}function zn(t){let e,r,n,l;return e=new vt({props:{$$slots:{default:[Fn]},$$scope:{ctx:t}}}),n=new vt({props:{$$slots:{default:[Un]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),r=T(),Q(n.$$.fragment)},l(s){Z(e.$$.fragment,s),r=M(s),Z(n.$$.fragment,s)},m(s,a){x(e,s,a),w(s,r,a),x(n,s,a),l=!0},p(s,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:s}),e.$set(o);const i={};a&1&&(i.$$scope={dirty:a,ctx:s}),n.$set(i)},i(s){l||(G(e.$$.fragment,s),G(n.$$.fragment,s),l=!0)},o(s){L(e.$$.fragment,s),L(n.$$.fragment,s),l=!1},d(s){ee(e,s),s&&f(r),ee(n,s)}}}function Yn(t){let e,r;return e=new Ln({}),{c(){Q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,l){x(e,n,l),r=!0},i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){L(e.$$.fragment,n),r=!1},d(n){ee(e,n)}}}function jn(t){let e,r;return e=new Rn({}),{c(){Q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,l){x(e,n,l),r=!0},i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){L(e.$$.fragment,n),r=!1},d(n){ee(e,n)}}}function Jn(t){let e,r,n,l,s,a;return e=new an({props:{$$slots:{default:[zn]},$$scope:{ctx:t}}}),n=new $t({props:{$$slots:{default:[Yn]},$$scope:{ctx:t}}}),s=new $t({props:{$$slots:{default:[jn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),r=T(),Q(n.$$.fragment),l=T(),Q(s.$$.fragment)},l(o){Z(e.$$.fragment,o),r=M(o),Z(n.$$.fragment,o),l=M(o),Z(s.$$.fragment,o)},m(o,i){x(e,o,i),w(o,r,i),x(n,o,i),w(o,l,i),x(s,o,i),a=!0},p(o,i){const c={};i&1&&(c.$$scope={dirty:i,ctx:o}),e.$set(c);const m={};i&1&&(m.$$scope={dirty:i,ctx:o}),n.$set(m);const d={};i&1&&(d.$$scope={dirty:i,ctx:o}),s.$set(d)},i(o){a||(G(e.$$.fragment,o),G(n.$$.fragment,o),G(s.$$.fragment,o),a=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),L(s.$$.fragment,o),a=!1},d(o){ee(e,o),o&&f(r),ee(n,o),o&&f(l),ee(s,o)}}}function qn(t){let e,r;return e=new nn({props:{$$slots:{default:[Jn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,l){x(e,n,l),r=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){L(e.$$.fragment,n),r=!1},d(n){ee(e,n)}}}class Kn extends oe{constructor(e){super(),ae(this,e,null,qn,ie,{})}}function Qn(t){let e,r;return e=new Kn({}),{c(){Q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,l){x(e,n,l),r=!0},p:ve,i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){L(e.$$.fragment,n),r=!1},d(n){ee(e,n)}}}class tr extends oe{constructor(e){super(),ae(this,e,null,Qn,ie,{})}}export{tr as default};
