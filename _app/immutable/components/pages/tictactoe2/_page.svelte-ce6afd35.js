import{S as ee,i as te,s as ne,C as Be,k as h,l as v,m as b,h as c,n as D,b as C,N as ce,E as Ce,F as De,G as Oe,f as O,t as V,H as pe,a0 as Tt,o as gt,j as It,W as Ye,I as ut,a1 as yt,A as At,$ as Nt,g as Bt,d as Ct,q as E,a as T,w as G,r as k,c as I,x as L,D as u,y as Y,z,u as Z,B as Ue,P as Dt}from"../../../chunks/index-1d785069.js";import{w as we}from"../../../chunks/index-c5a64178.js";import{P as wt}from"../../../chunks/P5-76a6b36f.js";let Ot=1;function Pt(){return`svelte-tabs-${Ot++}`}function Mt(t){let e,r,n,l;const s=t[4].default,o=Be(s,t,t[3],null);return{c(){e=h("div"),o&&o.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var i=b(e);o&&o.l(i),i.forEach(c),this.h()},h(){D(e,"class","svelte-tabs")},m(a,i){C(a,e,i),o&&o.m(e,null),r=!0,n||(l=ce(e,"keydown",t[1]),n=!0)},p(a,[i]){o&&o.p&&(!r||i&8)&&Ce(o,s,a,a[3],r?Oe(s,a[3],i,null):De(a[3]),null)},i(a){r||(O(o,a),r=!0)},o(a){V(o,a),r=!1},d(a){a&&c(e),o&&o.d(a),n=!1,l()}}}const ze={};function Vt(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(l=>l===e?t[n]||t[t.length-1]:l)}function Rt(t,e,r){let n,{$$slots:l={},$$scope:s}=e,{initialSelectedIndex:o=0}=e;const a=[],i=[],_=[],m=we({}),$=we({}),g=we(null);pe(t,g,d=>r(5,n=d));const w=we(null);function f(d,P,N){d.push(P),N.update(q=>q||P),Ye(()=>Vt(d,P,N))}function p(d){const P=i.indexOf(d);g.set(d),w.set(_[P])}Tt(ze,{registerTab(d){f(i,d,g)},registerTabElement(d){a.push(d)},registerPanel(d){f(_,d,w)},selectTab:p,selectedTab:g,selectedPanel:w,controls:m,labeledBy:$}),gt(()=>{p(i[o])}),It(()=>{for(let d=0;d<i.length;d++)m.update(P=>({...P,[i[d].id]:_[d].id})),$.update(P=>({...P,[_[d].id]:i[d].id}))});async function y(d){if(d.target.classList.contains("svelte-tabs__tab")){let P=i.indexOf(n);switch(d.key){case"ArrowRight":P+=1,P>i.length-1&&(P=0),p(i[P]),a[P].focus();break;case"ArrowLeft":P-=1,P<0&&(P=i.length-1),p(i[P]),a[P].focus()}}}return t.$$set=d=>{"initialSelectedIndex"in d&&r(2,o=d.initialSelectedIndex),"$$scope"in d&&r(3,s=d.$$scope)},[g,y,o,s,l]}class Xt extends ee{constructor(e){super(),te(this,e,Rt,Mt,ne,{initialSelectedIndex:2})}}function Wt(t){let e,r,n,l,s,o;const a=t[9].default,i=Be(a,t,t[8],null);return{c(){e=h("li"),i&&i.c(),this.h()},l(_){e=v(_,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var m=b(e);i&&i.l(m),m.forEach(c),this.h()},h(){D(e,"role","tab"),D(e,"id",t[3].id),D(e,"aria-controls",r=t[2][t[3].id]),D(e,"aria-selected",t[1]),D(e,"tabindex",n=t[1]?0:-1),D(e,"class","svelte-tabs__tab svelte-1fbofsd"),ut(e,"svelte-tabs__selected",t[1])},m(_,m){C(_,e,m),i&&i.m(e,null),t[10](e),l=!0,s||(o=ce(e,"click",t[11]),s=!0)},p(_,[m]){i&&i.p&&(!l||m&256)&&Ce(i,a,_,_[8],l?Oe(a,_[8],m,null):De(_[8]),null),(!l||m&4&&r!==(r=_[2][_[3].id]))&&D(e,"aria-controls",r),(!l||m&2)&&D(e,"aria-selected",_[1]),(!l||m&2&&n!==(n=_[1]?0:-1))&&D(e,"tabindex",n),(!l||m&2)&&ut(e,"svelte-tabs__selected",_[1])},i(_){l||(O(i,_),l=!0)},o(_){V(i,_),l=!1},d(_){_&&c(e),i&&i.d(_),t[10](null),s=!1,o()}}}function Ht(t,e,r){let n,l,{$$slots:s={},$$scope:o}=e,a;const i={id:Pt()},{registerTab:_,registerTabElement:m,selectTab:$,selectedTab:g,controls:w}=yt(ze);pe(t,g,d=>r(7,n=d)),pe(t,w,d=>r(2,l=d));let f;_(i),gt(async()=>{await At(),m(a)});function p(d){Nt[d?"unshift":"push"](()=>{a=d,r(0,a)})}const y=()=>$(i);return t.$$set=d=>{"$$scope"in d&&r(8,o=d.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,f=n===i)},[a,f,l,i,$,g,w,n,o,s,p,y]}class ft extends ee{constructor(e){super(),te(this,e,Ht,Wt,ne,{})}}function Ut(t){let e,r;const n=t[1].default,l=Be(n,t,t[0],null);return{c(){e=h("ul"),l&&l.c(),this.h()},l(s){e=v(s,"UL",{role:!0,class:!0});var o=b(e);l&&l.l(o),o.forEach(c),this.h()},h(){D(e,"role","tablist"),D(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(s,o){C(s,e,o),l&&l.m(e,null),r=!0},p(s,[o]){l&&l.p&&(!r||o&1)&&Ce(l,n,s,s[0],r?Oe(n,s[0],o,null):De(s[0]),null)},i(s){r||(O(l,s),r=!0)},o(s){V(l,s),r=!1},d(s){s&&c(e),l&&l.d(s)}}}function Ft(t,e,r){let{$$slots:n={},$$scope:l}=e;return t.$$set=s=>{"$$scope"in s&&r(0,l=s.$$scope)},[l,n]}class Gt extends ee{constructor(e){super(),te(this,e,Ft,Ut,ne,{})}}function ct(t){let e;const r=t[6].default,n=Be(r,t,t[5],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ce(n,r,l,l[5],e?Oe(r,l[5],s,null):De(l[5]),null)},i(l){e||(O(n,l),e=!0)},o(l){V(n,l),e=!1},d(l){n&&n.d(l)}}}function Lt(t){let e,r,n,l=t[1]===t[2]&&ct(t);return{c(){e=h("div"),l&&l.c(),this.h()},l(s){e=v(s,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var o=b(e);l&&l.l(o),o.forEach(c),this.h()},h(){D(e,"id",t[2].id),D(e,"aria-labelledby",r=t[0][t[2].id]),D(e,"class","svelte-tabs__tab-panel svelte-epfyet"),D(e,"role","tabpanel")},m(s,o){C(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){s[1]===s[2]?l?(l.p(s,o),o&2&&O(l,1)):(l=ct(s),l.c(),O(l,1),l.m(e,null)):l&&(Bt(),V(l,1,1,()=>{l=null}),Ct()),(!n||o&1&&r!==(r=s[0][s[2].id]))&&D(e,"aria-labelledby",r)},i(s){n||(O(l),n=!0)},o(s){V(l),n=!1},d(s){s&&c(e),l&&l.d()}}}function Yt(t,e,r){let n,l,{$$slots:s={},$$scope:o}=e;const a={id:Pt()},{registerPanel:i,selectedPanel:_,labeledBy:m}=yt(ze);return pe(t,_,$=>r(1,l=$)),pe(t,m,$=>r(0,n=$)),i(a),t.$$set=$=>{"$$scope"in $&&r(5,o=$.$$scope)},[n,l,a,_,m,o,s]}class pt extends ee{constructor(e){super(),te(this,e,Yt,Lt,ne,{})}}function Et(t){const{x:e,y:r}=t;if(e<0||e>2||r<0||r>2)throw new Error(`Invalid coords (${e},${r})`);return 8-(3*r+e)}function zt(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const qt=[448,56,7,292,146,73,273,84],jt=(t,e)=>(t&e)===e;function dt(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function Ne(t,e){const r=Et(e);return!(t&1<<r)}function _t(t,e){const r=Et(e);return t+2**r}const Fe=t=>{for(const e of qt)if(jt(t,e))return!0;return!1};var S=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(S||{});function kt(){return{player:0,computer:0}}function Jt(t,e){return e===S.player?t.player:t.computer}function Pe(t,e){if(!e&&!Kt(t))return"invalid_board";const r=Fe(t.player),n=Fe(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":Zt(t)?"not_over":"over"}function Ge(t,e,r){if(!Qt(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(r)} `);e===S.player?t.player=_t(t.player,r):t.computer=_t(t.computer,r)}function Kt(t){if(t.player&t.computer)return!1;const e=dt(t.player),r=dt(t.computer);return!(Math.abs(e-r)>1)}function Qt(t,e){return Ne(t.player,e)&&Ne(t.computer,e)}function Zt(t){return(t.player|t.computer)!==511}function xt(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}function St(t,e,r){const n=t.width/3,l=t.height/3,{height:s,width:o}=t,{drawSelection:a,selection:i,currentPlayer:_}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,s),t.line(n*2,0,n*2,s),t.line(0,l,o,l),t.line(0,l*2,o,l*2);for(let m=0;m<3;m++)for(let $=0;$<3;$++)(!Ne(e.player,{x:$,y:m})||a&&_===S.player&&(i==null?void 0:i.x)===$&&(i==null?void 0:i.y)===m)&&(t.stroke("blue"),t.circle($*n+n/2,m*l+l/2,l/2)),(!Ne(e.computer,{x:$,y:m})||a&&_===S.computer&&(i==null?void 0:i.x)===$&&(i==null?void 0:i.y)===m)&&(t.stroke("red"),t.line($*n+n*.3,m*l+l*.3,$*n+n*.7,m*l+l*.7),t.line($*n+n*.7,m*l+l*.3,$*n+n*.3,m*l+l*.7))}function Le(t){const{mouseX:e,mouseY:r,width:n,height:l}=t,s=Math.floor(t.map(e,0,n,0,3)),o=Math.floor(t.map(r,0,l,0,3));return{x:s,y:o}}function en(t){const e=xt(t);if(e.length===0)throw new Error("No available moves");const r=Math.floor(Math.random()*e.length),n=e[r];return zt(n)}function mt(t){let e,r;return{c(){e=h("span"),r=E("Player wins!")},l(n){e=v(n,"SPAN",{});var l=b(e);r=k(l,"Player wins!"),l.forEach(c)},m(n,l){C(n,e,l),u(e,r)},d(n){n&&c(e)}}}function $t(t){let e,r;return{c(){e=h("span"),r=E("Computer wins!")},l(n){e=v(n,"SPAN",{});var l=b(e);r=k(l,"Computer wins!"),l.forEach(c)},m(n,l){C(n,e,l),u(e,r)},d(n){n&&c(e)}}}function ht(t){let e,r;return{c(){e=h("span"),r=E("Draw")},l(n){e=v(n,"SPAN",{});var l=b(e);r=k(l,"Draw"),l.forEach(c)},m(n,l){C(n,e,l),u(e,r)},d(n){n&&c(e)}}}function vt(t){let e,r,n,l;return{c(){e=h("span"),r=E("Restarting in "),n=E(t[0]),l=E(" seconds")},l(s){e=v(s,"SPAN",{});var o=b(e);r=k(o,"Restarting in "),n=k(o,t[0]),l=k(o," seconds"),o.forEach(c)},m(s,o){C(s,e,o),u(e,r),u(e,n),u(e,l)},p(s,o){o&1&&Z(n,s[0])},d(s){s&&c(e)}}}function tn(t){let e,r,n,l,s,o,a,i,_,m,$;s=new wt({props:{sketch:t[3]}});let g=t[1]==="player_win"&&mt(),w=t[1]==="computer_win"&&$t(),f=t[1]==="draw"&&ht(),p=t[0]>0&&vt(t);return{c(){e=h("h2"),r=E("Tic Tac Toe binary"),n=T(),l=h("div"),G(s.$$.fragment),o=T(),a=h("div"),g&&g.c(),i=T(),w&&w.c(),_=T(),f&&f.c(),m=T(),p&&p.c()},l(y){e=v(y,"H2",{});var d=b(e);r=k(d,"Tic Tac Toe binary"),d.forEach(c),n=I(y),l=v(y,"DIV",{});var P=b(l);L(s.$$.fragment,P),o=I(P),a=v(P,"DIV",{});var N=b(a);g&&g.l(N),i=I(N),w&&w.l(N),_=I(N),f&&f.l(N),m=I(N),p&&p.l(N),N.forEach(c),P.forEach(c)},m(y,d){C(y,e,d),u(e,r),C(y,n,d),C(y,l,d),Y(s,l,null),u(l,o),u(l,a),g&&g.m(a,null),u(a,i),w&&w.m(a,null),u(a,_),f&&f.m(a,null),u(a,m),p&&p.m(a,null),$=!0},p(y,[d]){y[1]==="player_win"?g||(g=mt(),g.c(),g.m(a,i)):g&&(g.d(1),g=null),y[1]==="computer_win"?w||(w=$t(),w.c(),w.m(a,_)):w&&(w.d(1),w=null),y[1]==="draw"?f||(f=ht(),f.c(),f.m(a,m)):f&&(f.d(1),f=null),y[0]>0?p?p.p(y,d):(p=vt(y),p.c(),p.m(a,null)):p&&(p.d(1),p=null)},i(y){$||(O(s.$$.fragment,y),$=!0)},o(y){V(s.$$.fragment,y),$=!1},d(y){y&&c(e),y&&c(n),y&&c(l),z(s),g&&g.d(),w&&w.d(),f&&f.d(),p&&p.d()}}}function nn(t,e,r){let n,l,s,o;const a=we();pe(t,a,f=>r(1,n=f));let i=0;function _(f,p){n==="not_over"&&(Ge(s,f,p),a.set(Pe(s)),$())}function m(f){n==="not_over"&&setTimeout(()=>{const p=en(s);Ge(s,f,p),a.set(Pe(s)),$()},500)}function $(){o=o===S.player?S.computer:S.player}function g(){s=kt(),o=S.player,a.set(Pe(s))}const w=f=>{f.setup=()=>{l=f,f.createCanvas(400,400),g()},f.draw=()=>{f.background(0),St(f,s)},f.mousePressed=()=>{if(!(f.mouseX<0||f.mouseX>f.width||f.mouseY<0||f.mouseY>f.height)&&o===S.player){const p=Le(f);_(S.player,p),m(S.computer)}}};return a.subscribe(f=>{if(!f||f==="not_over")return;r(0,i=4);const p=setInterval(()=>{r(0,i--,i),i===0&&(g(),clearInterval(p))},1e3)}),Ye(()=>{l==null||l.remove()}),[i,n,a,w]}class ln extends ee{constructor(e){super(),te(this,e,nn,tn,ne,{})}}function Ie(t,e){const r=Jt(t,e);return Fe(r)}function Ae(t,e){return new Error("not implemented")}function bt(t){let e,r,n,l,s,o=Pe(t[0])+"",a,i,_,m,$,g,w,f,p,y,d=t[0].player.toString(2).padStart(9,"0")+"",P,N,q,K=t[0].player+"",le,Q,x,oe,H,U=Ie(t[0],S.player)+"",re,ue,A,X,F,R,se=Ae(t[0],S.player)+"",ie,fe,M,ae,de=t[0].computer.toString(2).padStart(9,"0")+"",Ee,Me,_e,me=t[0].computer+"",ke,Ve,$e,Re,he,ve=Ie(t[0],S.computer)+"",Se,Xe,be,We,He,ge,ye=Ae(t[0],S.computer)+"",Te;return{c(){e=h("div"),r=h("span"),n=E("State:"),l=T(),s=h("span"),a=E(o),i=T(),_=h("span"),m=E("Player 1 (player, O)"),$=T(),g=h("span"),w=E("Player 2 (computer, X)"),f=T(),p=h("div"),y=h("span"),P=E(d),N=T(),q=h("span"),le=E(K),Q=T(),x=h("span"),oe=E("Wins"),H=h("span"),re=E(U),ue=T(),A=h("span"),X=E("Blocks opponent"),F=T(),R=h("span"),ie=E(se),fe=T(),M=h("div"),ae=h("span"),Ee=E(de),Me=T(),_e=h("span"),ke=E(me),Ve=T(),$e=h("span"),Re=E("Wins"),he=h("span"),Se=E(ve),Xe=T(),be=h("span"),We=E("Blocks opponent"),He=T(),ge=h("span"),Te=E(ye),this.h()},l(W){e=v(W,"DIV",{class:!0});var B=b(e);r=v(B,"SPAN",{});var qe=b(r);n=k(qe,"State:"),qe.forEach(c),l=I(B),s=v(B,"SPAN",{});var je=b(s);a=k(je,o),je.forEach(c),i=I(B),_=v(B,"SPAN",{});var Je=b(_);m=k(Je,"Player 1 (player, O)"),Je.forEach(c),$=I(B),g=v(B,"SPAN",{});var Ke=b(g);w=k(Ke,"Player 2 (computer, X)"),Ke.forEach(c),f=I(B),p=v(B,"DIV",{class:!0});var j=b(p);y=v(j,"SPAN",{});var Qe=b(y);P=k(Qe,d),Qe.forEach(c),N=I(j),q=v(j,"SPAN",{});var Ze=b(q);le=k(Ze,K),Ze.forEach(c),Q=I(j),x=v(j,"SPAN",{});var xe=b(x);oe=k(xe,"Wins"),xe.forEach(c),H=v(j,"SPAN",{});var et=b(H);re=k(et,U),et.forEach(c),ue=I(j),A=v(j,"SPAN",{});var tt=b(A);X=k(tt,"Blocks opponent"),tt.forEach(c),F=I(j),R=v(j,"SPAN",{});var nt=b(R);ie=k(nt,se),nt.forEach(c),j.forEach(c),fe=I(B),M=v(B,"DIV",{class:!0});var J=b(M);ae=v(J,"SPAN",{});var lt=b(ae);Ee=k(lt,de),lt.forEach(c),Me=I(J),_e=v(J,"SPAN",{});var rt=b(_e);ke=k(rt,me),rt.forEach(c),Ve=I(J),$e=v(J,"SPAN",{});var st=b($e);Re=k(st,"Wins"),st.forEach(c),he=v(J,"SPAN",{});var at=b(he);Se=k(at,ve),at.forEach(c),Xe=I(J),be=v(J,"SPAN",{});var ot=b(be);We=k(ot,"Blocks opponent"),ot.forEach(c),He=I(J),ge=v(J,"SPAN",{});var it=b(ge);Te=k(it,ye),it.forEach(c),J.forEach(c),B.forEach(c),this.h()},h(){D(p,"class","grid2cols svelte-1lw5ne4"),D(M,"class","grid2cols svelte-1lw5ne4"),D(e,"class","grid2cols svelte-1lw5ne4")},m(W,B){C(W,e,B),u(e,r),u(r,n),u(e,l),u(e,s),u(s,a),u(e,i),u(e,_),u(_,m),u(e,$),u(e,g),u(g,w),u(e,f),u(e,p),u(p,y),u(y,P),u(p,N),u(p,q),u(q,le),u(p,Q),u(p,x),u(x,oe),u(p,H),u(H,re),u(p,ue),u(p,A),u(A,X),u(p,F),u(p,R),u(R,ie),u(e,fe),u(e,M),u(M,ae),u(ae,Ee),u(M,Me),u(M,_e),u(_e,ke),u(M,Ve),u(M,$e),u($e,Re),u(M,he),u(he,Se),u(M,Xe),u(M,be),u(be,We),u(M,He),u(M,ge),u(ge,Te)},p(W,B){B&1&&o!==(o=Pe(W[0])+"")&&Z(a,o),B&1&&d!==(d=W[0].player.toString(2).padStart(9,"0")+"")&&Z(P,d),B&1&&K!==(K=W[0].player+"")&&Z(le,K),B&1&&U!==(U=Ie(W[0],S.player)+"")&&Z(re,U),B&1&&se!==(se=Ae(W[0],S.player)+"")&&Z(ie,se),B&1&&de!==(de=W[0].computer.toString(2).padStart(9,"0")+"")&&Z(Ee,de),B&1&&me!==(me=W[0].computer+"")&&Z(ke,me),B&1&&ve!==(ve=Ie(W[0],S.computer)+"")&&Z(Se,ve),B&1&&ye!==(ye=Ae(W[0],S.computer)+"")&&Z(Te,ye)},d(W){W&&c(e)}}}function rn(t){let e,r,n,l,s=t[0]&&bt(t);return{c(){e=h("div"),r=h("h4"),n=E("Board info"),l=T(),s&&s.c()},l(o){e=v(o,"DIV",{});var a=b(e);r=v(a,"H4",{});var i=b(r);n=k(i,"Board info"),i.forEach(c),l=I(a),s&&s.l(a),a.forEach(c)},m(o,a){C(o,e,a),u(e,r),u(r,n),u(e,l),s&&s.m(e,null)},p(o,[a]){o[0]?s?s.p(o,a):(s=bt(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Ue,o:Ue,d(o){o&&c(e),s&&s.d()}}}function sn(t,e,r){let{board:n}=e;return t.$$set=l=>{"board"in l&&r(0,n=l.board)},[n]}class an extends ee{constructor(e){super(),te(this,e,sn,rn,ne,{board:0})}}function on(t){let e,r,n,l,s,o,a,i,_,m,$,g,w,f,p,y,d,P,N,q,K,le,Q,x,oe,H,U,re,ue;return s=new wt({props:{sketch:t[5]}}),H=new an({props:{board:t[1]}}),{c(){e=h("h2"),r=E("Tic Tac Toe binary"),n=T(),l=h("div"),G(s.$$.fragment),o=T(),a=h("div"),i=h("h4"),_=E("Controls"),m=T(),$=h("button"),g=E("Play O"),f=T(),p=h("button"),y=E("Play X"),P=T(),N=h("button"),q=E("Previous"),le=T(),Q=h("button"),x=E("Reset"),oe=T(),G(H.$$.fragment),this.h()},l(A){e=v(A,"H2",{});var X=b(e);r=k(X,"Tic Tac Toe binary"),X.forEach(c),n=I(A),l=v(A,"DIV",{});var F=b(l);L(s.$$.fragment,F),o=I(F),a=v(F,"DIV",{});var R=b(a);i=v(R,"H4",{});var se=b(i);_=k(se,"Controls"),se.forEach(c),m=I(R),$=v(R,"BUTTON",{});var ie=b($);g=k(ie,"Play O"),ie.forEach(c),f=I(R),p=v(R,"BUTTON",{});var fe=b(p);y=k(fe,"Play X"),fe.forEach(c),P=I(R),N=v(R,"BUTTON",{});var M=b(N);q=k(M,"Previous"),M.forEach(c),le=I(R),Q=v(R,"BUTTON",{});var ae=b(Q);x=k(ae,"Reset"),ae.forEach(c),R.forEach(c),oe=I(F),L(H.$$.fragment,F),F.forEach(c),this.h()},h(){$.disabled=w=t[2]===S.player,p.disabled=d=t[2]===S.computer,N.disabled=K=(t[0]||[]).length<2},m(A,X){C(A,e,X),u(e,r),C(A,n,X),C(A,l,X),Y(s,l,null),u(l,o),u(l,a),u(a,i),u(i,_),u(a,m),u(a,$),u($,g),u(a,f),u(a,p),u(p,y),u(a,P),u(a,N),u(N,q),u(a,le),u(a,Q),u(Q,x),u(l,oe),Y(H,l,null),U=!0,re||(ue=[ce($,"click",t[6]),ce(p,"click",t[7]),ce(N,"click",t[4]),ce(Q,"click",t[3])],re=!0)},p(A,[X]){(!U||X&4&&w!==(w=A[2]===S.player))&&($.disabled=w),(!U||X&4&&d!==(d=A[2]===S.computer))&&(p.disabled=d),(!U||X&1&&K!==(K=(A[0]||[]).length<2))&&(N.disabled=K);const F={};X&2&&(F.board=A[1]),H.$set(F)},i(A){U||(O(s.$$.fragment,A),O(H.$$.fragment,A),U=!0)},o(A){V(s.$$.fragment,A),V(H.$$.fragment,A),U=!1},d(A){A&&c(e),A&&c(n),A&&c(l),z(s),z(H),re=!1,Dt(ue)}}}function un(t,e,r){let n,l,s,o=S.player;function a(f,p){Ge(s,f,p),r(1,s),l.push({...s}),r(0,l),i()}function i(){r(2,o=o===S.player?S.computer:S.player)}function _(){r(1,s=kt()),r(0,l=[{...s}])}function m(){l.length<=1||(l.pop(),r(0,l),r(1,s={...l[l.length-1]}))}const $=f=>{f.setup=()=>{n=f,f.createCanvas(400,400),_()},f.draw=()=>{f.background(0),St(f,s,{drawSelection:!0,selection:Le(f),currentPlayer:o})},f.mousePressed=()=>{if(f.mouseX<0||f.mouseX>f.width||f.mouseY<0||f.mouseY>f.height)return;const p=Le(f);a(o,p)}};return Ye(()=>{n==null||n.remove()}),[l,s,o,_,m,$,()=>r(2,o=S.player),()=>r(2,o=S.computer)]}class fn extends ee{constructor(e){super(),te(this,e,un,on,ne,{})}}function cn(t){let e;return{c(){e=E("Game")},l(r){e=k(r,"Game")},m(r,n){C(r,e,n)},d(r){r&&c(e)}}}function pn(t){let e;return{c(){e=E("Analyzer")},l(r){e=k(r,"Analyzer")},m(r,n){C(r,e,n)},d(r){r&&c(e)}}}function dn(t){let e,r,n,l;return e=new ft({props:{$$slots:{default:[cn]},$$scope:{ctx:t}}}),n=new ft({props:{$$slots:{default:[pn]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment),r=T(),G(n.$$.fragment)},l(s){L(e.$$.fragment,s),r=I(s),L(n.$$.fragment,s)},m(s,o){Y(e,s,o),C(s,r,o),Y(n,s,o),l=!0},p(s,o){const a={};o&1&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const i={};o&1&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(O(e.$$.fragment,s),O(n.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),V(n.$$.fragment,s),l=!1},d(s){z(e,s),s&&c(r),z(n,s)}}}function _n(t){let e,r;return e=new ln({}),{c(){G(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){z(e,n)}}}function mn(t){let e,r;return e=new fn({}),{c(){G(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){z(e,n)}}}function $n(t){let e,r,n,l,s,o;return e=new Gt({props:{$$slots:{default:[dn]},$$scope:{ctx:t}}}),n=new pt({props:{$$slots:{default:[_n]},$$scope:{ctx:t}}}),s=new pt({props:{$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment),r=T(),G(n.$$.fragment),l=T(),G(s.$$.fragment)},l(a){L(e.$$.fragment,a),r=I(a),L(n.$$.fragment,a),l=I(a),L(s.$$.fragment,a)},m(a,i){Y(e,a,i),C(a,r,i),Y(n,a,i),C(a,l,i),Y(s,a,i),o=!0},p(a,i){const _={};i&1&&(_.$$scope={dirty:i,ctx:a}),e.$set(_);const m={};i&1&&(m.$$scope={dirty:i,ctx:a}),n.$set(m);const $={};i&1&&($.$$scope={dirty:i,ctx:a}),s.$set($)},i(a){o||(O(e.$$.fragment,a),O(n.$$.fragment,a),O(s.$$.fragment,a),o=!0)},o(a){V(e.$$.fragment,a),V(n.$$.fragment,a),V(s.$$.fragment,a),o=!1},d(a){z(e,a),a&&c(r),z(n,a),a&&c(l),z(s,a)}}}function hn(t){let e,r;return e=new Xt({props:{$$slots:{default:[$n]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){z(e,n)}}}class vn extends ee{constructor(e){super(),te(this,e,null,hn,ne,{})}}function bn(t){let e,r;return e=new vn({}),{c(){G(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},p:Ue,i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){z(e,n)}}}class Pn extends ee{constructor(e){super(),te(this,e,null,bn,ne,{})}}export{Pn as default};
