import{S as re,i as se,s as oe,C as yt,k as h,l as v,m as $,h as c,n as H,b as X,N as he,E as Et,F as wt,G as kt,f as R,t as F,H as ve,a0 as pr,o as rr,j as dr,W as hn,I as Un,a1 as sr,A as _r,$ as mr,g as hr,d as vr,q as g,a as y,r as b,c as E,D as a,B as un,u as W,w as j,x as J,y as K,z as Q,P as $r}from"../../../chunks/index-1d785069.js";import{w as xe}from"../../../chunks/index-c5a64178.js";import{P as or}from"../../../chunks/P5-76a6b36f.js";let gr=1;function lr(){return`svelte-tabs-${gr++}`}function br(t){let e,r,n,s;const o=t[4].default,i=yt(o,t,t[3],null);return{c(){e=h("div"),i&&i.c(),this.h()},l(l){e=v(l,"DIV",{class:!0});var f=$(e);i&&i.l(f),f.forEach(c),this.h()},h(){H(e,"class","svelte-tabs")},m(l,f){X(l,e,f),i&&i.m(e,null),r=!0,n||(s=he(e,"keydown",t[1]),n=!0)},p(l,[f]){i&&i.p&&(!r||f&8)&&Et(i,o,l,l[3],r?kt(o,l[3],f,null):wt(l[3]),null)},i(l){r||(R(i,l),r=!0)},o(l){F(i,l),r=!1},d(l){l&&c(e),i&&i.d(l),n=!1,s()}}}const vn={};function Pr(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(s=>s===e?t[n]||t[t.length-1]:s)}function yr(t,e,r){let n,{$$slots:s={},$$scope:o}=e,{initialSelectedIndex:i=0}=e;const l=[],f=[],d=[],_=xe({}),P=xe({}),S=xe(null);ve(t,S,p=>r(5,n=p));const B=xe(null);function I(p,m,C){p.push(m),C.update(O=>O||m),hn(()=>Pr(p,m,C))}function u(p){const m=f.indexOf(p);S.set(p),B.set(d[m])}pr(vn,{registerTab(p){I(f,p,S)},registerTabElement(p){l.push(p)},registerPanel(p){I(d,p,B)},selectTab:u,selectedTab:S,selectedPanel:B,controls:_,labeledBy:P}),rr(()=>{u(f[i])}),dr(()=>{for(let p=0;p<f.length;p++)_.update(m=>({...m,[f[p].id]:d[p].id})),P.update(m=>({...m,[d[p].id]:f[p].id}))});async function w(p){if(p.target.classList.contains("svelte-tabs__tab")){let m=f.indexOf(n);switch(p.key){case"ArrowRight":m+=1,m>f.length-1&&(m=0),u(f[m]),l[m].focus();break;case"ArrowLeft":m-=1,m<0&&(m=f.length-1),u(f[m]),l[m].focus()}}}return t.$$set=p=>{"initialSelectedIndex"in p&&r(2,i=p.initialSelectedIndex),"$$scope"in p&&r(3,o=p.$$scope)},[S,w,i,o,s]}class Er extends re{constructor(e){super(),se(this,e,yr,br,oe,{initialSelectedIndex:2})}}function wr(t){let e,r,n,s,o,i;const l=t[9].default,f=yt(l,t,t[8],null);return{c(){e=h("li"),f&&f.c(),this.h()},l(d){e=v(d,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var _=$(e);f&&f.l(_),_.forEach(c),this.h()},h(){H(e,"role","tab"),H(e,"id",t[3].id),H(e,"aria-controls",r=t[2][t[3].id]),H(e,"aria-selected",t[1]),H(e,"tabindex",n=t[1]?0:-1),H(e,"class","svelte-tabs__tab svelte-1fbofsd"),Un(e,"svelte-tabs__selected",t[1])},m(d,_){X(d,e,_),f&&f.m(e,null),t[10](e),s=!0,o||(i=he(e,"click",t[11]),o=!0)},p(d,[_]){f&&f.p&&(!s||_&256)&&Et(f,l,d,d[8],s?kt(l,d[8],_,null):wt(d[8]),null),(!s||_&4&&r!==(r=d[2][d[3].id]))&&H(e,"aria-controls",r),(!s||_&2)&&H(e,"aria-selected",d[1]),(!s||_&2&&n!==(n=d[1]?0:-1))&&H(e,"tabindex",n),(!s||_&2)&&Un(e,"svelte-tabs__selected",d[1])},i(d){s||(R(f,d),s=!0)},o(d){F(f,d),s=!1},d(d){d&&c(e),f&&f.d(d),t[10](null),o=!1,i()}}}function kr(t,e,r){let n,s,{$$slots:o={},$$scope:i}=e,l;const f={id:lr()},{registerTab:d,registerTabElement:_,selectTab:P,selectedTab:S,controls:B}=sr(vn);ve(t,S,p=>r(7,n=p)),ve(t,B,p=>r(2,s=p));let I;d(f),rr(async()=>{await _r(),_(l)});function u(p){mr[p?"unshift":"push"](()=>{l=p,r(0,l)})}const w=()=>P(f);return t.$$set=p=>{"$$scope"in p&&r(8,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,I=n===f)},[l,I,s,f,P,S,B,n,i,o,u,w]}class zn extends re{constructor(e){super(),se(this,e,kr,wr,oe,{})}}function Sr(t){let e,r;const n=t[1].default,s=yt(n,t,t[0],null);return{c(){e=h("ul"),s&&s.c(),this.h()},l(o){e=v(o,"UL",{role:!0,class:!0});var i=$(e);s&&s.l(i),i.forEach(c),this.h()},h(){H(e,"role","tablist"),H(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(o,i){X(o,e,i),s&&s.m(e,null),r=!0},p(o,[i]){s&&s.p&&(!r||i&1)&&Et(s,n,o,o[0],r?kt(n,o[0],i,null):wt(o[0]),null)},i(o){r||(R(s,o),r=!0)},o(o){F(s,o),r=!1},d(o){o&&c(e),s&&s.d(o)}}}function Ir(t,e,r){let{$$slots:n={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&r(0,s=o.$$scope)},[s,n]}class Ar extends re{constructor(e){super(),se(this,e,Ir,Sr,oe,{})}}function Yn(t){let e;const r=t[6].default,n=yt(r,t,t[5],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&32)&&Et(n,r,s,s[5],e?kt(r,s[5],o,null):wt(s[5]),null)},i(s){e||(R(n,s),e=!0)},o(s){F(n,s),e=!1},d(s){n&&n.d(s)}}}function Nr(t){let e,r,n,s=t[1]===t[2]&&Yn(t);return{c(){e=h("div"),s&&s.c(),this.h()},l(o){e=v(o,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var i=$(e);s&&s.l(i),i.forEach(c),this.h()},h(){H(e,"id",t[2].id),H(e,"aria-labelledby",r=t[0][t[2].id]),H(e,"class","svelte-tabs__tab-panel svelte-epfyet"),H(e,"role","tabpanel")},m(o,i){X(o,e,i),s&&s.m(e,null),n=!0},p(o,[i]){o[1]===o[2]?s?(s.p(o,i),i&2&&R(s,1)):(s=Yn(o),s.c(),R(s,1),s.m(e,null)):s&&(hr(),F(s,1,1,()=>{s=null}),vr()),(!n||i&1&&r!==(r=o[0][o[2].id]))&&H(e,"aria-labelledby",r)},i(o){n||(R(s),n=!0)},o(o){F(s),n=!1},d(o){o&&c(e),s&&s.d()}}}function Tr(t,e,r){let n,s,{$$slots:o={},$$scope:i}=e;const l={id:lr()},{registerPanel:f,selectedPanel:d,labeledBy:_}=sr(vn);return ve(t,d,P=>r(1,s=P)),ve(t,_,P=>r(0,n=P)),f(l),t.$$set=P=>{"$$scope"in P&&r(5,i=P.$$scope)},[n,s,l,d,_,i,o]}class qn extends re{constructor(e){super(),se(this,e,Tr,Nr,oe,{})}}function $e(t){const{x:e,y:r}=t;return e<0||e>2||r<0||r>2?new Error(`Invalid coords (${e},${r})`):8-(3*r+e)}function Br(t){return t<0||t>8?new Error("Invalid index ${i}"):{x:2-t%3,y:2-Math.floor(t/3)}}const Mr=[448,56,7,292,146,73,273,84],Cr=[{p:256,o:192},{p:32,o:24},{p:4,o:3},{p:128,o:320},{p:16,o:40},{p:2,o:5},{p:64,o:384},{p:8,o:48},{p:1,o:6},{p:256,o:36},{p:128,o:18},{p:64,o:9},{p:32,o:260},{p:16,o:130},{p:8,o:65},{p:4,o:288},{p:2,o:144},{p:1,o:72},{p:256,o:17},{p:16,o:257},{p:1,o:272},{p:64,o:20},{p:16,o:68},{p:4,o:80}],Lr=[{p:16,o:40},{p:16,o:130}],Or=[{p:1,o:6},{p:1,o:72}],Dr=[{p:2,o:5},{p:2,o:144}],ne=(t,e)=>(t&e)===e;function jn(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function bt(t,e){const r=$e(e);if(r instanceof Error)throw r;return!(t&1<<r)}function ar(t,e){return!(t&1<<e)}function Jn(t,e){const r=$e(e);if(r instanceof Error)throw r;return t+2**r}function Vr(t,e){return t+2**e}const cn=t=>{for(const e of Mr)if(ne(t,e))return!0;return!1};var k=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(k||{});function ir(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function rt(t,e){return e===k.player?t.player:t.computer}function st(t,e){return e===k.player?t.computer:t.player}function ot(t,e){if(!e&&!Xr(t))return"invalid_board";const r=cn(t.player),n=cn(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":Rr(t)?"not_over":"over"}function Pt(t,e,r){if(!Hr(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(r)} `);e===k.player?t.player=Jn(t.player,r):t.computer=Jn(t.computer,r)}function Xr(t){if(t.player&t.computer)return!1;const e=jn(t.player),r=jn(t.computer);return!(Math.abs(e-r)>1)}function Hr(t,e){return bt(t.player,e)&&bt(t.computer,e)}function Rr(t){return(t.player|t.computer)!==511}function Wr(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}function fr(t,e,r){const n=t.width/3,s=t.height/3,{height:o,width:i}=t,{drawSelection:l,selection:f,currentPlayer:d}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,o),t.line(n*2,0,n*2,o),t.line(0,s,i,s),t.line(0,s*2,i,s*2);for(let _=0;_<3;_++)for(let P=0;P<3;P++)(!bt(e.player,{x:P,y:_})||l&&d===k.player&&(f==null?void 0:f.x)===P&&(f==null?void 0:f.y)===_)&&(t.stroke("blue"),t.circle(P*n+n/2,_*s+s/2,s/2)),(!bt(e.computer,{x:P,y:_})||l&&d===k.computer&&(f==null?void 0:f.x)===P&&(f==null?void 0:f.y)===_)&&(t.stroke("red"),t.line(P*n+n*.3,_*s+s*.3,P*n+n*.7,_*s+s*.7),t.line(P*n+n*.7,_*s+s*.3,P*n+n*.3,_*s+s*.7))}function pn(t){const{mouseX:e,mouseY:r,width:n,height:s}=t,o=Math.floor(t.map(e,0,n,0,3)),i=Math.floor(t.map(r,0,s,0,3));return{x:o,y:i}}const Fr=[2,5,8,1,4,7,0,3,6];function Kn(t){let e=0;return Fr.forEach((r,n)=>{ar(t,n)||(e=Vr(e,r))}),e}function Qn(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const r={...t};for(let n=0;n<e;n++)r.player=Kn(r.player),r.computer=Kn(r.computer);return r}function et(t,e){const r=rt(t,e);return cn(r)}function gt(t,e){const r=rt(t,e),n=st(t,e);for(const{o:s,p:o}of Cr)if(ne(r,o)&&ne(n,s))return!0;return!1}function dn(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function tt(t,e,r){const n=$e(r);if(n instanceof Error)return n;const s=rt(t,e),o=st(t,e);for(const{o:i,p:l}of Lr)if(ne(s,l)&&ne(o,i))return!0;if($n.has(n)){const i={0:0,2:3,6:1,8:2}[n]||0,l=Qn(t,i),f=rt(l,e),d=st(l,e);for(const{o:_,p:P}of Or)if(ne(f,P)&&ne(d,_))return!0}if(ur.has(n)){const i={1:0,3:1,5:3,7:2}[n]||0,l=Qn(t,i),f=rt(l,e),d=st(l,e);for(const{o:_,p:P}of Dr)if(ne(f,P)&&ne(d,_))return!0}return!1}const $n=new Set([0,2,6,8]),ur=new Set([1,3,5,7]);function nt(t,e,r){const n=$e(r);if(n instanceof Error||!$n.has(n))return!1;const s=8-n,o=st(t,e);return!ar(o,s)}function _n(t){const e=$e(t);return!(e instanceof Error||!$n.has(e))}function mn(t){const e=$e(t);return!(e instanceof Error||!ur.has(e))}function Zn(t){var gn,bn;let e,r,n,s,o,i=ot(t[0])+"",l,f,d,_,P,S,B,I=((gn=t[1])==null?void 0:gn.x)+"",u,w,p=((bn=t[1])==null?void 0:bn.y)+"",m,C,O,G,te=dn(t[1])?"✅":"❌",x,ue,ee,Z,q=_n(t[1])?"✅":"❌",le,ce,N,U,z=mn(t[1])?"✅":"❌",Y,pe,T,ae,de,ie,St,It,_e,At,ge=t[0].player.toString(2).padStart(9,"0")+"",lt,Nt,be,Pe=t[0].player+"",at,Tt,ye,Bt,Ee,we=et(t[0],k.player)?"✅":"❌",it,Mt,ke,Ct,Lt,Se,Ie=gt(t[0],k.player)?"✅":"❌",ft,Ot,Ae,Dt,Vt,Ne,Te=nt(t[0],k.player,t[1])?"✅":"❌",ut,Xt,Be,Ht,Rt,Me,Ce=tt(t[0],k.player,t[1])?"✅":"❌",ct,Wt,L,Le,Ft,Oe,Gt,Ut,me,zt,De=t[0].computer.toString(2).padStart(9,"0")+"",pt,Yt,Ve,Xe=t[0].computer+"",dt,qt,He,jt,Re,We=et(t[0],k.computer)?"✅":"❌",_t,Jt,Fe,Kt,Qt,Ge,Ue=gt(t[0],k.computer)?"✅":"❌",mt,Zt,ze,xt,en,Ye,qe=nt(t[0],k.computer,t[1])?"✅":"❌",ht,tn,je,nn,rn,Je,Ke=tt(t[0],k.computer,t[1])?"✅":"❌",vt;return{c(){e=h("div"),r=h("span"),n=g("State:"),s=y(),o=h("span"),l=g(i),f=y(),d=h("span"),_=g("Last move"),P=y(),S=h("ul"),B=h("li"),u=g(I),w=g(","),m=g(p),C=y(),O=h("li"),G=g("center "),x=g(te),ue=y(),ee=h("li"),Z=g("corner "),le=g(q),ce=y(),N=h("li"),U=g("side "),Y=g(z),pe=y(),T=h("div"),ae=h("span"),de=g("Player 1"),ie=h("span"),St=g("Player, O"),It=y(),_e=h("span"),At=g("0b"),lt=g(ge),Nt=y(),be=h("span"),at=g(Pe),Tt=y(),ye=h("span"),Bt=g("Wins"),Ee=h("span"),it=g(we),Mt=y(),ke=h("span"),Ct=g("Blocks opponent"),Lt=y(),Se=h("span"),ft=g(Ie),Ot=y(),Ae=h("span"),Dt=g("Last move took opposite corner"),Vt=y(),Ne=h("span"),ut=g(Te),Xt=y(),Be=h("span"),Ht=g("Last move blocks opponent"),Rt=y(),Me=h("span"),ct=g(Ce),Wt=y(),L=h("div"),Le=h("span"),Ft=g("Player 2"),Oe=h("span"),Gt=g("Computer, X"),Ut=y(),me=h("span"),zt=g("0b"),pt=g(De),Yt=y(),Ve=h("span"),dt=g(Xe),qt=y(),He=h("span"),jt=g("Wins"),Re=h("span"),_t=g(We),Jt=y(),Fe=h("span"),Kt=g("Blocks opponent"),Qt=y(),Ge=h("span"),mt=g(Ue),Zt=y(),ze=h("span"),xt=g("Last move took opposite corner"),en=y(),Ye=h("span"),ht=g(qe),tn=y(),je=h("span"),nn=g("Last move blocks opponent"),rn=y(),Je=h("span"),vt=g(Ke),this.h()},l(M){e=v(M,"DIV",{class:!0});var A=$(e);r=v(A,"SPAN",{});var Qe=$(r);n=b(Qe,"State:"),Qe.forEach(c),s=E(A),o=v(A,"SPAN",{});var Ze=$(o);l=b(Ze,i),Ze.forEach(c),f=E(A),d=v(A,"SPAN",{});var Pn=$(d);_=b(Pn,"Last move"),Pn.forEach(c),P=E(A),S=v(A,"UL",{});var fe=$(S);B=v(fe,"LI",{});var $t=$(B);u=b($t,I),w=b($t,","),m=b($t,p),$t.forEach(c),C=E(fe),O=v(fe,"LI",{});var sn=$(O);G=b(sn,"center "),x=b(sn,te),sn.forEach(c),ue=E(fe),ee=v(fe,"LI",{});var on=$(ee);Z=b(on,"corner "),le=b(on,q),on.forEach(c),ce=E(fe),N=v(fe,"LI",{});var ln=$(N);U=b(ln,"side "),Y=b(ln,z),ln.forEach(c),fe.forEach(c),pe=E(A),T=v(A,"DIV",{class:!0});var D=$(T);ae=v(D,"SPAN",{});var yn=$(ae);de=b(yn,"Player 1"),yn.forEach(c),ie=v(D,"SPAN",{});var En=$(ie);St=b(En,"Player, O"),En.forEach(c),It=E(D),_e=v(D,"SPAN",{});var an=$(_e);At=b(an,"0b"),lt=b(an,ge),an.forEach(c),Nt=E(D),be=v(D,"SPAN",{});var wn=$(be);at=b(wn,Pe),wn.forEach(c),Tt=E(D),ye=v(D,"SPAN",{});var kn=$(ye);Bt=b(kn,"Wins"),kn.forEach(c),Ee=v(D,"SPAN",{});var Sn=$(Ee);it=b(Sn,we),Sn.forEach(c),Mt=E(D),ke=v(D,"SPAN",{});var In=$(ke);Ct=b(In,"Blocks opponent"),In.forEach(c),Lt=E(D),Se=v(D,"SPAN",{});var An=$(Se);ft=b(An,Ie),An.forEach(c),Ot=E(D),Ae=v(D,"SPAN",{});var Nn=$(Ae);Dt=b(Nn,"Last move took opposite corner"),Nn.forEach(c),Vt=E(D),Ne=v(D,"SPAN",{});var Tn=$(Ne);ut=b(Tn,Te),Tn.forEach(c),Xt=E(D),Be=v(D,"SPAN",{});var Bn=$(Be);Ht=b(Bn,"Last move blocks opponent"),Bn.forEach(c),Rt=E(D),Me=v(D,"SPAN",{});var Mn=$(Me);ct=b(Mn,Ce),Mn.forEach(c),D.forEach(c),Wt=E(A),L=v(A,"DIV",{class:!0});var V=$(L);Le=v(V,"SPAN",{});var Cn=$(Le);Ft=b(Cn,"Player 2"),Cn.forEach(c),Oe=v(V,"SPAN",{});var Ln=$(Oe);Gt=b(Ln,"Computer, X"),Ln.forEach(c),Ut=E(V),me=v(V,"SPAN",{});var fn=$(me);zt=b(fn,"0b"),pt=b(fn,De),fn.forEach(c),Yt=E(V),Ve=v(V,"SPAN",{});var On=$(Ve);dt=b(On,Xe),On.forEach(c),qt=E(V),He=v(V,"SPAN",{});var Dn=$(He);jt=b(Dn,"Wins"),Dn.forEach(c),Re=v(V,"SPAN",{});var Vn=$(Re);_t=b(Vn,We),Vn.forEach(c),Jt=E(V),Fe=v(V,"SPAN",{});var Xn=$(Fe);Kt=b(Xn,"Blocks opponent"),Xn.forEach(c),Qt=E(V),Ge=v(V,"SPAN",{});var Hn=$(Ge);mt=b(Hn,Ue),Hn.forEach(c),Zt=E(V),ze=v(V,"SPAN",{});var Rn=$(ze);xt=b(Rn,"Last move took opposite corner"),Rn.forEach(c),en=E(V),Ye=v(V,"SPAN",{});var Wn=$(Ye);ht=b(Wn,qe),Wn.forEach(c),tn=E(V),je=v(V,"SPAN",{});var Fn=$(je);nn=b(Fn,"Last move blocks opponent"),Fn.forEach(c),rn=E(V),Je=v(V,"SPAN",{});var Gn=$(Je);vt=b(Gn,Ke),Gn.forEach(c),V.forEach(c),A.forEach(c),this.h()},h(){H(T,"class","grid2cols svelte-1lw5ne4"),H(L,"class","grid2cols svelte-1lw5ne4"),H(e,"class","grid2cols svelte-1lw5ne4")},m(M,A){X(M,e,A),a(e,r),a(r,n),a(e,s),a(e,o),a(o,l),a(e,f),a(e,d),a(d,_),a(e,P),a(e,S),a(S,B),a(B,u),a(B,w),a(B,m),a(S,C),a(S,O),a(O,G),a(O,x),a(S,ue),a(S,ee),a(ee,Z),a(ee,le),a(S,ce),a(S,N),a(N,U),a(N,Y),a(e,pe),a(e,T),a(T,ae),a(ae,de),a(T,ie),a(ie,St),a(T,It),a(T,_e),a(_e,At),a(_e,lt),a(T,Nt),a(T,be),a(be,at),a(T,Tt),a(T,ye),a(ye,Bt),a(T,Ee),a(Ee,it),a(T,Mt),a(T,ke),a(ke,Ct),a(T,Lt),a(T,Se),a(Se,ft),a(T,Ot),a(T,Ae),a(Ae,Dt),a(T,Vt),a(T,Ne),a(Ne,ut),a(T,Xt),a(T,Be),a(Be,Ht),a(T,Rt),a(T,Me),a(Me,ct),a(e,Wt),a(e,L),a(L,Le),a(Le,Ft),a(L,Oe),a(Oe,Gt),a(L,Ut),a(L,me),a(me,zt),a(me,pt),a(L,Yt),a(L,Ve),a(Ve,dt),a(L,qt),a(L,He),a(He,jt),a(L,Re),a(Re,_t),a(L,Jt),a(L,Fe),a(Fe,Kt),a(L,Qt),a(L,Ge),a(Ge,mt),a(L,Zt),a(L,ze),a(ze,xt),a(L,en),a(L,Ye),a(Ye,ht),a(L,tn),a(L,je),a(je,nn),a(L,rn),a(L,Je),a(Je,vt)},p(M,A){var Qe,Ze;A&1&&i!==(i=ot(M[0])+"")&&W(l,i),A&2&&I!==(I=((Qe=M[1])==null?void 0:Qe.x)+"")&&W(u,I),A&2&&p!==(p=((Ze=M[1])==null?void 0:Ze.y)+"")&&W(m,p),A&2&&te!==(te=dn(M[1])?"✅":"❌")&&W(x,te),A&2&&q!==(q=_n(M[1])?"✅":"❌")&&W(le,q),A&2&&z!==(z=mn(M[1])?"✅":"❌")&&W(Y,z),A&1&&ge!==(ge=M[0].player.toString(2).padStart(9,"0")+"")&&W(lt,ge),A&1&&Pe!==(Pe=M[0].player+"")&&W(at,Pe),A&1&&we!==(we=et(M[0],k.player)?"✅":"❌")&&W(it,we),A&1&&Ie!==(Ie=gt(M[0],k.player)?"✅":"❌")&&W(ft,Ie),A&3&&Te!==(Te=nt(M[0],k.player,M[1])?"✅":"❌")&&W(ut,Te),A&3&&Ce!==(Ce=tt(M[0],k.player,M[1])?"✅":"❌")&&W(ct,Ce),A&1&&De!==(De=M[0].computer.toString(2).padStart(9,"0")+"")&&W(pt,De),A&1&&Xe!==(Xe=M[0].computer+"")&&W(dt,Xe),A&1&&We!==(We=et(M[0],k.computer)?"✅":"❌")&&W(_t,We),A&1&&Ue!==(Ue=gt(M[0],k.computer)?"✅":"❌")&&W(mt,Ue),A&3&&qe!==(qe=nt(M[0],k.computer,M[1])?"✅":"❌")&&W(ht,qe),A&3&&Ke!==(Ke=tt(M[0],k.computer,M[1])?"✅":"❌")&&W(vt,Ke)},d(M){M&&c(e)}}}function Gr(t){let e,r,n,s,o=t[0]&&Zn(t);return{c(){e=h("div"),r=h("h4"),n=g("Board info"),s=y(),o&&o.c()},l(i){e=v(i,"DIV",{});var l=$(e);r=v(l,"H4",{});var f=$(r);n=b(f,"Board info"),f.forEach(c),s=E(l),o&&o.l(l),l.forEach(c)},m(i,l){X(i,e,l),a(e,r),a(r,n),a(e,s),o&&o.m(e,null)},p(i,[l]){i[0]?o?o.p(i,l):(o=Zn(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:un,o:un,d(i){i&&c(e),o&&o.d()}}}function Ur(t,e,r){let{board:n}=e,{lastMove:s}=e;return t.$$set=o=>{"board"in o&&r(0,n=o.board),"lastMove"in o&&r(1,s=o.lastMove)},[n,s]}class cr extends re{constructor(e){super(),se(this,e,Ur,Gr,oe,{board:0,lastMove:1})}}function zr(t,e){const r=Wr(t);if(r.length===0)throw new Error("No available moves");let n=0,s;console.log("choose hardcoded"),console.log(t.toString());for(const o of r){const i={...t},l=Br(o);if(l instanceof Error)throw l;Pt(i,e,l);const f=Yr(i,e,l);f>n?(n=f,s=l,console.log(l,f,"new best")):console.log(l,f)}if(!s)throw new Error("Error in getMoveHardcoded");return s}function Yr(t,e,r){return et(t,k.player)?8:tt(t,e,r)?7:dn(r)?4:nt(t,e,r)?3:_n(r)?2:mn(r)?1:0}function xn(t){let e,r;return{c(){e=h("span"),r=g("Player wins!")},l(n){e=v(n,"SPAN",{});var s=$(e);r=b(s,"Player wins!"),s.forEach(c)},m(n,s){X(n,e,s),a(e,r)},d(n){n&&c(e)}}}function er(t){let e,r;return{c(){e=h("span"),r=g("Computer wins!")},l(n){e=v(n,"SPAN",{});var s=$(e);r=b(s,"Computer wins!"),s.forEach(c)},m(n,s){X(n,e,s),a(e,r)},d(n){n&&c(e)}}}function tr(t){let e,r;return{c(){e=h("span"),r=g("Draw")},l(n){e=v(n,"SPAN",{});var s=$(e);r=b(s,"Draw"),s.forEach(c)},m(n,s){X(n,e,s),a(e,r)},d(n){n&&c(e)}}}function nr(t){let e,r,n,s;return{c(){e=h("span"),r=g("Restarting in "),n=g(t[2]),s=g(" seconds")},l(o){e=v(o,"SPAN",{});var i=$(e);r=b(i,"Restarting in "),n=b(i,t[2]),s=b(i," seconds"),i.forEach(c)},m(o,i){X(o,e,i),a(e,r),a(e,n),a(e,s)},p(o,i){i&4&&W(n,o[2])},d(o){o&&c(e)}}}function qr(t){let e,r,n,s,o,i,l,f,d,_,P,S,B;o=new or({props:{sketch:t[5]}});let I=t[3]==="player_win"&&xn(),u=t[3]==="computer_win"&&er(),w=t[3]==="draw"&&tr(),p=t[2]>0&&nr(t);return S=new cr({props:{board:t[0],lastMove:t[1]}}),{c(){e=h("h2"),r=g("Game"),n=y(),s=h("div"),j(o.$$.fragment),i=y(),l=h("div"),I&&I.c(),f=y(),u&&u.c(),d=y(),w&&w.c(),_=y(),p&&p.c(),P=y(),j(S.$$.fragment)},l(m){e=v(m,"H2",{});var C=$(e);r=b(C,"Game"),C.forEach(c),n=E(m),s=v(m,"DIV",{});var O=$(s);J(o.$$.fragment,O),i=E(O),l=v(O,"DIV",{});var G=$(l);I&&I.l(G),f=E(G),u&&u.l(G),d=E(G),w&&w.l(G),_=E(G),p&&p.l(G),G.forEach(c),P=E(O),J(S.$$.fragment,O),O.forEach(c)},m(m,C){X(m,e,C),a(e,r),X(m,n,C),X(m,s,C),K(o,s,null),a(s,i),a(s,l),I&&I.m(l,null),a(l,f),u&&u.m(l,null),a(l,d),w&&w.m(l,null),a(l,_),p&&p.m(l,null),a(s,P),K(S,s,null),B=!0},p(m,[C]){m[3]==="player_win"?I||(I=xn(),I.c(),I.m(l,f)):I&&(I.d(1),I=null),m[3]==="computer_win"?u||(u=er(),u.c(),u.m(l,d)):u&&(u.d(1),u=null),m[3]==="draw"?w||(w=tr(),w.c(),w.m(l,_)):w&&(w.d(1),w=null),m[2]>0?p?p.p(m,C):(p=nr(m),p.c(),p.m(l,null)):p&&(p.d(1),p=null);const O={};C&1&&(O.board=m[0]),C&2&&(O.lastMove=m[1]),S.$set(O)},i(m){B||(R(o.$$.fragment,m),R(S.$$.fragment,m),B=!0)},o(m){F(o.$$.fragment,m),F(S.$$.fragment,m),B=!1},d(m){m&&c(e),m&&c(n),m&&c(s),Q(o),I&&I.d(),u&&u.d(),w&&w.d(),p&&p.d(),Q(S)}}}function jr(t,e,r){let n,s,o,i,l;const f=xe();ve(t,f,u=>r(3,n=u));let d=0;function _(u,w){n==="not_over"&&(Pt(o,u,w),r(1,l=w),r(0,o),f.set(ot(o)),S())}function P(u){n==="not_over"&&setTimeout(()=>{const w=zr(o,u);r(1,l=w),Pt(o,u,w),r(0,o),f.set(ot(o)),S()},500)}function S(){i=i===k.player?k.computer:k.player}function B(){r(0,o=ir()),i=k.player,f.set(ot(o)),r(1,l={x:-1,y:-1})}const I=u=>{u.setup=()=>{s=u,u.createCanvas(400,400),B()},u.draw=()=>{u.background(0),fr(u,o)},u.mousePressed=()=>{if(!(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)&&i===k.player){const w=pn(u);_(k.player,w),P(k.computer)}}};return f.subscribe(u=>{if(!u||u==="not_over")return;r(2,d=4);const w=setInterval(()=>{r(2,d--,d),d===0&&(B(),clearInterval(w))},1e3)}),hn(()=>{s==null||s.remove()}),[o,l,d,n,f,I]}class Jr extends re{constructor(e){super(),se(this,e,jr,qr,oe,{})}}function Kr(t){let e,r,n,s,o,i,l,f,d,_,P,S,B,I,u,w,p,m,C,O,G,te,x,ue,ee,Z,q,le,ce;return o=new or({props:{sketch:t[6]}}),Z=new cr({props:{board:t[1],lastMove:t[3]}}),{c(){e=h("h2"),r=g("Analyzer"),n=y(),s=h("div"),j(o.$$.fragment),i=y(),l=h("div"),f=h("h4"),d=g("Controls"),_=y(),P=h("button"),S=g("Play O"),I=y(),u=h("button"),w=g("Play X"),m=y(),C=h("button"),O=g("Previous"),te=y(),x=h("button"),ue=g("Reset"),ee=y(),j(Z.$$.fragment),this.h()},l(N){e=v(N,"H2",{});var U=$(e);r=b(U,"Analyzer"),U.forEach(c),n=E(N),s=v(N,"DIV",{});var z=$(s);J(o.$$.fragment,z),i=E(z),l=v(z,"DIV",{});var Y=$(l);f=v(Y,"H4",{});var pe=$(f);d=b(pe,"Controls"),pe.forEach(c),_=E(Y),P=v(Y,"BUTTON",{});var T=$(P);S=b(T,"Play O"),T.forEach(c),I=E(Y),u=v(Y,"BUTTON",{});var ae=$(u);w=b(ae,"Play X"),ae.forEach(c),m=E(Y),C=v(Y,"BUTTON",{});var de=$(C);O=b(de,"Previous"),de.forEach(c),te=E(Y),x=v(Y,"BUTTON",{});var ie=$(x);ue=b(ie,"Reset"),ie.forEach(c),Y.forEach(c),ee=E(z),J(Z.$$.fragment,z),z.forEach(c),this.h()},h(){P.disabled=B=t[2]===k.player,u.disabled=p=t[2]===k.computer,C.disabled=G=(t[0]||[]).length<2},m(N,U){X(N,e,U),a(e,r),X(N,n,U),X(N,s,U),K(o,s,null),a(s,i),a(s,l),a(l,f),a(f,d),a(l,_),a(l,P),a(P,S),a(l,I),a(l,u),a(u,w),a(l,m),a(l,C),a(C,O),a(l,te),a(l,x),a(x,ue),a(s,ee),K(Z,s,null),q=!0,le||(ce=[he(P,"click",t[7]),he(u,"click",t[8]),he(C,"click",t[5]),he(x,"click",t[4])],le=!0)},p(N,[U]){(!q||U&4&&B!==(B=N[2]===k.player))&&(P.disabled=B),(!q||U&4&&p!==(p=N[2]===k.computer))&&(u.disabled=p),(!q||U&1&&G!==(G=(N[0]||[]).length<2))&&(C.disabled=G);const z={};U&2&&(z.board=N[1]),U&8&&(z.lastMove=N[3]),Z.$set(z)},i(N){q||(R(o.$$.fragment,N),R(Z.$$.fragment,N),q=!0)},o(N){F(o.$$.fragment,N),F(Z.$$.fragment,N),q=!1},d(N){N&&c(e),N&&c(n),N&&c(s),Q(o),Q(Z),le=!1,$r(ce)}}}function Qr(t,e,r){let n,s,o,i=k.player,l;function f(u,w){Pt(o,u,w),r(3,l=w),r(1,o),s.push({...o}),r(0,s),d()}function d(){r(2,i=i===k.player?k.computer:k.player)}function _(){r(1,o=ir()),r(0,s=[{...o}]),r(3,l={x:-1,y:-1})}function P(){s.length<=1||(s.pop(),r(0,s),r(1,o={...s[s.length-1]}))}const S=u=>{u.setup=()=>{n=u,u.createCanvas(400,400),_()},u.draw=()=>{u.background(0),fr(u,o,{drawSelection:!0,selection:pn(u),currentPlayer:i})},u.mousePressed=()=>{if(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)return;const w=pn(u);f(i,w)}};return hn(()=>{n==null||n.remove()}),[s,o,i,l,_,P,S,()=>r(2,i=k.player),()=>r(2,i=k.computer)]}class Zr extends re{constructor(e){super(),se(this,e,Qr,Kr,oe,{})}}function xr(t){let e;return{c(){e=g("Game")},l(r){e=b(r,"Game")},m(r,n){X(r,e,n)},d(r){r&&c(e)}}}function es(t){let e;return{c(){e=g("Analyzer")},l(r){e=b(r,"Analyzer")},m(r,n){X(r,e,n)},d(r){r&&c(e)}}}function ts(t){let e,r,n,s;return e=new zn({props:{$$slots:{default:[xr]},$$scope:{ctx:t}}}),n=new zn({props:{$$slots:{default:[es]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=y(),j(n.$$.fragment)},l(o){J(e.$$.fragment,o),r=E(o),J(n.$$.fragment,o)},m(o,i){K(e,o,i),X(o,r,i),K(n,o,i),s=!0},p(o,i){const l={};i&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l);const f={};i&1&&(f.$$scope={dirty:i,ctx:o}),n.$set(f)},i(o){s||(R(e.$$.fragment,o),R(n.$$.fragment,o),s=!0)},o(o){F(e.$$.fragment,o),F(n.$$.fragment,o),s=!1},d(o){Q(e,o),o&&c(r),Q(n,o)}}}function ns(t){let e,r;return e=new Jr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function rs(t){let e,r;return e=new Zr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function ss(t){let e,r,n,s,o,i;return e=new Ar({props:{$$slots:{default:[ts]},$$scope:{ctx:t}}}),n=new qn({props:{$$slots:{default:[ns]},$$scope:{ctx:t}}}),o=new qn({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=y(),j(n.$$.fragment),s=y(),j(o.$$.fragment)},l(l){J(e.$$.fragment,l),r=E(l),J(n.$$.fragment,l),s=E(l),J(o.$$.fragment,l)},m(l,f){K(e,l,f),X(l,r,f),K(n,l,f),X(l,s,f),K(o,l,f),i=!0},p(l,f){const d={};f&1&&(d.$$scope={dirty:f,ctx:l}),e.$set(d);const _={};f&1&&(_.$$scope={dirty:f,ctx:l}),n.$set(_);const P={};f&1&&(P.$$scope={dirty:f,ctx:l}),o.$set(P)},i(l){i||(R(e.$$.fragment,l),R(n.$$.fragment,l),R(o.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),F(n.$$.fragment,l),F(o.$$.fragment,l),i=!1},d(l){Q(e,l),l&&c(r),Q(n,l),l&&c(s),Q(o,l)}}}function os(t){let e,r;return e=new Er({props:{$$slots:{default:[ss]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},p(n,[s]){const o={};s&1&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class ls extends re{constructor(e){super(),se(this,e,null,os,oe,{})}}function as(t){let e,r;return e=new ls({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},p:un,i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class cs extends re{constructor(e){super(),se(this,e,null,as,oe,{})}}export{cs as default};
