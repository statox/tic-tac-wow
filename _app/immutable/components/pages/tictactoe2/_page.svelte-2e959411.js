import{S as re,i as se,s as le,C as yt,k as v,l as $,m as b,h as u,n as H,b as X,N as he,E as Et,F as wt,G as kt,f as R,t as F,H as ve,a0 as pr,o as rr,j as dr,W as hn,I as Un,a1 as sr,A as _r,$ as mr,g as hr,d as vr,q as g,a as E,r as P,c as w,D as a,B as un,u as W,w as j,x as J,y as K,z as Q,P as $r}from"../../../chunks/index-1d785069.js";import{w as xe}from"../../../chunks/index-c5a64178.js";import{P as lr}from"../../../chunks/P5-76a6b36f.js";let br=1;function or(){return`svelte-tabs-${br++}`}function gr(t){let e,r,n,s;const l=t[4].default,i=yt(l,t,t[3],null);return{c(){e=v("div"),i&&i.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var f=b(e);i&&i.l(f),f.forEach(u),this.h()},h(){H(e,"class","svelte-tabs")},m(o,f){X(o,e,f),i&&i.m(e,null),r=!0,n||(s=he(e,"keydown",t[1]),n=!0)},p(o,[f]){i&&i.p&&(!r||f&8)&&Et(i,l,o,o[3],r?kt(l,o[3],f,null):wt(o[3]),null)},i(o){r||(R(i,o),r=!0)},o(o){F(i,o),r=!1},d(o){o&&u(e),i&&i.d(o),n=!1,s()}}}const vn={};function Pr(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(s=>s===e?t[n]||t[t.length-1]:s)}function yr(t,e,r){let n,{$$slots:s={},$$scope:l}=e,{initialSelectedIndex:i=0}=e;const o=[],f=[],p=[],d=xe({}),y=xe({}),S=xe(null);ve(t,S,c=>r(5,n=c));const B=xe(null);function I(c,h,C){c.push(h),C.update(O=>O||h),hn(()=>Pr(c,h,C))}function m(c){const h=f.indexOf(c);S.set(c),B.set(p[h])}pr(vn,{registerTab(c){I(f,c,S)},registerTabElement(c){o.push(c)},registerPanel(c){I(p,c,B)},selectTab:m,selectedTab:S,selectedPanel:B,controls:d,labeledBy:y}),rr(()=>{m(f[i])}),dr(()=>{for(let c=0;c<f.length;c++)d.update(h=>({...h,[f[c].id]:p[c].id})),y.update(h=>({...h,[p[c].id]:f[c].id}))});async function _(c){if(c.target.classList.contains("svelte-tabs__tab")){let h=f.indexOf(n);switch(c.key){case"ArrowRight":h+=1,h>f.length-1&&(h=0),m(f[h]),o[h].focus();break;case"ArrowLeft":h-=1,h<0&&(h=f.length-1),m(f[h]),o[h].focus()}}}return t.$$set=c=>{"initialSelectedIndex"in c&&r(2,i=c.initialSelectedIndex),"$$scope"in c&&r(3,l=c.$$scope)},[S,_,i,l,s]}class Er extends re{constructor(e){super(),se(this,e,yr,gr,le,{initialSelectedIndex:2})}}function wr(t){let e,r,n,s,l,i;const o=t[9].default,f=yt(o,t,t[8],null);return{c(){e=v("li"),f&&f.c(),this.h()},l(p){e=$(p,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var d=b(e);f&&f.l(d),d.forEach(u),this.h()},h(){H(e,"role","tab"),H(e,"id",t[3].id),H(e,"aria-controls",r=t[2][t[3].id]),H(e,"aria-selected",t[1]),H(e,"tabindex",n=t[1]?0:-1),H(e,"class","svelte-tabs__tab svelte-1fbofsd"),Un(e,"svelte-tabs__selected",t[1])},m(p,d){X(p,e,d),f&&f.m(e,null),t[10](e),s=!0,l||(i=he(e,"click",t[11]),l=!0)},p(p,[d]){f&&f.p&&(!s||d&256)&&Et(f,o,p,p[8],s?kt(o,p[8],d,null):wt(p[8]),null),(!s||d&4&&r!==(r=p[2][p[3].id]))&&H(e,"aria-controls",r),(!s||d&2)&&H(e,"aria-selected",p[1]),(!s||d&2&&n!==(n=p[1]?0:-1))&&H(e,"tabindex",n),(!s||d&2)&&Un(e,"svelte-tabs__selected",p[1])},i(p){s||(R(f,p),s=!0)},o(p){F(f,p),s=!1},d(p){p&&u(e),f&&f.d(p),t[10](null),l=!1,i()}}}function kr(t,e,r){let n,s,{$$slots:l={},$$scope:i}=e,o;const f={id:or()},{registerTab:p,registerTabElement:d,selectTab:y,selectedTab:S,controls:B}=sr(vn);ve(t,S,c=>r(7,n=c)),ve(t,B,c=>r(2,s=c));let I;p(f),rr(async()=>{await _r(),d(o)});function m(c){mr[c?"unshift":"push"](()=>{o=c,r(0,o)})}const _=()=>y(f);return t.$$set=c=>{"$$scope"in c&&r(8,i=c.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,I=n===f)},[o,I,s,f,y,S,B,n,i,l,m,_]}class zn extends re{constructor(e){super(),se(this,e,kr,wr,le,{})}}function Sr(t){let e,r;const n=t[1].default,s=yt(n,t,t[0],null);return{c(){e=v("ul"),s&&s.c(),this.h()},l(l){e=$(l,"UL",{role:!0,class:!0});var i=b(e);s&&s.l(i),i.forEach(u),this.h()},h(){H(e,"role","tablist"),H(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(l,i){X(l,e,i),s&&s.m(e,null),r=!0},p(l,[i]){s&&s.p&&(!r||i&1)&&Et(s,n,l,l[0],r?kt(n,l[0],i,null):wt(l[0]),null)},i(l){r||(R(s,l),r=!0)},o(l){F(s,l),r=!1},d(l){l&&u(e),s&&s.d(l)}}}function Ir(t,e,r){let{$$slots:n={},$$scope:s}=e;return t.$$set=l=>{"$$scope"in l&&r(0,s=l.$$scope)},[s,n]}class Ar extends re{constructor(e){super(),se(this,e,Ir,Sr,le,{})}}function Yn(t){let e;const r=t[6].default,n=yt(r,t,t[5],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&32)&&Et(n,r,s,s[5],e?kt(r,s[5],l,null):wt(s[5]),null)},i(s){e||(R(n,s),e=!0)},o(s){F(n,s),e=!1},d(s){n&&n.d(s)}}}function Nr(t){let e,r,n,s=t[1]===t[2]&&Yn(t);return{c(){e=v("div"),s&&s.c(),this.h()},l(l){e=$(l,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var i=b(e);s&&s.l(i),i.forEach(u),this.h()},h(){H(e,"id",t[2].id),H(e,"aria-labelledby",r=t[0][t[2].id]),H(e,"class","svelte-tabs__tab-panel svelte-epfyet"),H(e,"role","tabpanel")},m(l,i){X(l,e,i),s&&s.m(e,null),n=!0},p(l,[i]){l[1]===l[2]?s?(s.p(l,i),i&2&&R(s,1)):(s=Yn(l),s.c(),R(s,1),s.m(e,null)):s&&(hr(),F(s,1,1,()=>{s=null}),vr()),(!n||i&1&&r!==(r=l[0][l[2].id]))&&H(e,"aria-labelledby",r)},i(l){n||(R(s),n=!0)},o(l){F(s),n=!1},d(l){l&&u(e),s&&s.d()}}}function Tr(t,e,r){let n,s,{$$slots:l={},$$scope:i}=e;const o={id:or()},{registerPanel:f,selectedPanel:p,labeledBy:d}=sr(vn);return ve(t,p,y=>r(1,s=y)),ve(t,d,y=>r(0,n=y)),f(o),t.$$set=y=>{"$$scope"in y&&r(5,i=y.$$scope)},[n,s,o,p,d,i,l]}class qn extends re{constructor(e){super(),se(this,e,Tr,Nr,le,{})}}function $e(t){const{x:e,y:r}=t;return e<0||e>2||r<0||r>2?new Error(`Invalid coords (${e},${r})`):8-(3*r+e)}function Br(t){return t<0||t>8?new Error("Invalid index ${i}"):{x:2-t%3,y:2-Math.floor(t/3)}}const Mr=[448,56,7,292,146,73,273,84],Cr=[{p:256,o:192},{p:32,o:24},{p:4,o:3},{p:128,o:320},{p:16,o:40},{p:2,o:5},{p:64,o:384},{p:8,o:48},{p:1,o:6},{p:256,o:36},{p:128,o:18},{p:64,o:9},{p:32,o:260},{p:16,o:130},{p:8,o:65},{p:4,o:288},{p:2,o:144},{p:1,o:72},{p:256,o:17},{p:16,o:257},{p:1,o:272},{p:64,o:20},{p:16,o:68},{p:4,o:80}],Lr=[{p:16,o:40},{p:16,o:130}],Or=[{p:1,o:6},{p:1,o:72}],Dr=[{p:2,o:5},{p:2,o:144}],ne=(t,e)=>(t&e)===e;function jn(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function gt(t,e){const r=$e(e);if(r instanceof Error)throw r;return!(t&1<<r)}function ar(t,e){return!(t&1<<e)}function Jn(t,e){const r=$e(e);if(r instanceof Error)throw r;return t+2**r}function Vr(t,e){return t+2**e}const cn=t=>{for(const e of Mr)if(ne(t,e))return!0;return!1};var k=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(k||{});function ir(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function rt(t,e){return e===k.player?t.player:t.computer}function st(t,e){return e===k.player?t.computer:t.player}function lt(t,e){if(!e&&!Xr(t))return"invalid_board";const r=cn(t.player),n=cn(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":Rr(t)?"not_over":"over"}function Pt(t,e,r){if(!Hr(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(r)} `);e===k.player?t.player=Jn(t.player,r):t.computer=Jn(t.computer,r)}function Xr(t){if(t.player&t.computer)return!1;const e=jn(t.player),r=jn(t.computer);return!(Math.abs(e-r)>1)}function Hr(t,e){return gt(t.player,e)&&gt(t.computer,e)}function Rr(t){return(t.player|t.computer)!==511}function Wr(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}function fr(t,e,r){const n=t.width/3,s=t.height/3,{height:l,width:i}=t,{drawSelection:o,selection:f,currentPlayer:p}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,l),t.line(n*2,0,n*2,l),t.line(0,s,i,s),t.line(0,s*2,i,s*2);for(let d=0;d<3;d++)for(let y=0;y<3;y++)(!gt(e.player,{x:y,y:d})||o&&p===k.player&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===d)&&(t.stroke("blue"),t.circle(y*n+n/2,d*s+s/2,s/2)),(!gt(e.computer,{x:y,y:d})||o&&p===k.computer&&(f==null?void 0:f.x)===y&&(f==null?void 0:f.y)===d)&&(t.stroke("red"),t.line(y*n+n*.3,d*s+s*.3,y*n+n*.7,d*s+s*.7),t.line(y*n+n*.7,d*s+s*.3,y*n+n*.3,d*s+s*.7))}function pn(t){const{mouseX:e,mouseY:r,width:n,height:s}=t,l=Math.floor(t.map(e,0,n,0,3)),i=Math.floor(t.map(r,0,s,0,3));return{x:l,y:i}}const Fr=[2,5,8,1,4,7,0,3,6];function Kn(t){let e=0;return Fr.forEach((r,n)=>{ar(t,n)||(e=Vr(e,r))}),e}function Qn(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const r={...t};for(let n=0;n<e;n++)r.player=Kn(r.player),r.computer=Kn(r.computer);return r}function et(t,e){const r=rt(t,e);return cn(r)}function bt(t,e){const r=rt(t,e),n=st(t,e);for(const{o:s,p:l}of Cr)if(ne(r,l)&&ne(n,s))return!0;return!1}function dn(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function tt(t,e,r){const n=$e(r);if(n instanceof Error)return n;const s=rt(t,e),l=st(t,e);for(const{o:i,p:o}of Lr)if(ne(s,o)&&ne(l,i))return!0;if($n.has(n)){const i={0:0,2:3,6:1,8:2}[n]||0,o=Qn(t,i),f=rt(o,e),p=st(o,e);for(const{o:d,p:y}of Or)if(ne(f,y)&&ne(p,d))return!0}if(ur.has(n)){const i={1:0,3:1,5:3,7:2}[n]||0,o=Qn(t,i),f=rt(o,e),p=st(o,e);for(const{o:d,p:y}of Dr)if(ne(f,y)&&ne(p,d))return!0}return!1}const $n=new Set([0,2,6,8]),ur=new Set([1,3,5,7]);function nt(t,e,r){const n=$e(r);if(n instanceof Error||!$n.has(n))return!1;const s=8-n,l=st(t,e);return!ar(l,s)}function _n(t){const e=$e(t);return!(e instanceof Error||!$n.has(e))}function mn(t){const e=$e(t);return!(e instanceof Error||!ur.has(e))}function Zn(t){var bn,gn;let e,r,n,s,l,i=lt(t[0])+"",o,f,p,d,y,S,B,I=((bn=t[1])==null?void 0:bn.x)+"",m,_,c=((gn=t[1])==null?void 0:gn.y)+"",h,C,O,G,te=dn(t[1])?"✅":"❌",x,ue,ee,Z,q=_n(t[1])?"✅":"❌",oe,ce,N,U,z=mn(t[1])?"✅":"❌",Y,pe,T,ae,de,ie,St,It,_e,At,be=t[0].player.toString(2).padStart(9,"0")+"",ot,Nt,ge,Pe=t[0].player+"",at,Tt,ye,Bt,Ee,we=et(t[0],k.player)?"✅":"❌",it,Mt,ke,Ct,Lt,Se,Ie=bt(t[0],k.player)?"✅":"❌",ft,Ot,Ae,Dt,Vt,Ne,Te=nt(t[0],k.player,t[1])?"✅":"❌",ut,Xt,Be,Ht,Rt,Me,Ce=tt(t[0],k.player,t[1])?"✅":"❌",ct,Wt,L,Le,Ft,Oe,Gt,Ut,me,zt,De=t[0].computer.toString(2).padStart(9,"0")+"",pt,Yt,Ve,Xe=t[0].computer+"",dt,qt,He,jt,Re,We=et(t[0],k.computer)?"✅":"❌",_t,Jt,Fe,Kt,Qt,Ge,Ue=bt(t[0],k.computer)?"✅":"❌",mt,Zt,ze,xt,en,Ye,qe=nt(t[0],k.computer,t[1])?"✅":"❌",ht,tn,je,nn,rn,Je,Ke=tt(t[0],k.computer,t[1])?"✅":"❌",vt;return{c(){e=v("div"),r=v("span"),n=g("State:"),s=E(),l=v("span"),o=g(i),f=E(),p=v("span"),d=g("Last move"),y=E(),S=v("ul"),B=v("li"),m=g(I),_=g(","),h=g(c),C=E(),O=v("li"),G=g("center "),x=g(te),ue=E(),ee=v("li"),Z=g("corner "),oe=g(q),ce=E(),N=v("li"),U=g("side "),Y=g(z),pe=E(),T=v("div"),ae=v("span"),de=g("Player 1"),ie=v("span"),St=g("Player, O"),It=E(),_e=v("span"),At=g("0b"),ot=g(be),Nt=E(),ge=v("span"),at=g(Pe),Tt=E(),ye=v("span"),Bt=g("Wins"),Ee=v("span"),it=g(we),Mt=E(),ke=v("span"),Ct=g("Blocks opponent"),Lt=E(),Se=v("span"),ft=g(Ie),Ot=E(),Ae=v("span"),Dt=g("Last move took opposite corner"),Vt=E(),Ne=v("span"),ut=g(Te),Xt=E(),Be=v("span"),Ht=g("Last move blocks opponent"),Rt=E(),Me=v("span"),ct=g(Ce),Wt=E(),L=v("div"),Le=v("span"),Ft=g("Player 2"),Oe=v("span"),Gt=g("Computer, X"),Ut=E(),me=v("span"),zt=g("0b"),pt=g(De),Yt=E(),Ve=v("span"),dt=g(Xe),qt=E(),He=v("span"),jt=g("Wins"),Re=v("span"),_t=g(We),Jt=E(),Fe=v("span"),Kt=g("Blocks opponent"),Qt=E(),Ge=v("span"),mt=g(Ue),Zt=E(),ze=v("span"),xt=g("Last move took opposite corner"),en=E(),Ye=v("span"),ht=g(qe),tn=E(),je=v("span"),nn=g("Last move blocks opponent"),rn=E(),Je=v("span"),vt=g(Ke),this.h()},l(M){e=$(M,"DIV",{class:!0});var A=b(e);r=$(A,"SPAN",{});var Qe=b(r);n=P(Qe,"State:"),Qe.forEach(u),s=w(A),l=$(A,"SPAN",{});var Ze=b(l);o=P(Ze,i),Ze.forEach(u),f=w(A),p=$(A,"SPAN",{});var Pn=b(p);d=P(Pn,"Last move"),Pn.forEach(u),y=w(A),S=$(A,"UL",{});var fe=b(S);B=$(fe,"LI",{});var $t=b(B);m=P($t,I),_=P($t,","),h=P($t,c),$t.forEach(u),C=w(fe),O=$(fe,"LI",{});var sn=b(O);G=P(sn,"center "),x=P(sn,te),sn.forEach(u),ue=w(fe),ee=$(fe,"LI",{});var ln=b(ee);Z=P(ln,"corner "),oe=P(ln,q),ln.forEach(u),ce=w(fe),N=$(fe,"LI",{});var on=b(N);U=P(on,"side "),Y=P(on,z),on.forEach(u),fe.forEach(u),pe=w(A),T=$(A,"DIV",{class:!0});var D=b(T);ae=$(D,"SPAN",{});var yn=b(ae);de=P(yn,"Player 1"),yn.forEach(u),ie=$(D,"SPAN",{});var En=b(ie);St=P(En,"Player, O"),En.forEach(u),It=w(D),_e=$(D,"SPAN",{});var an=b(_e);At=P(an,"0b"),ot=P(an,be),an.forEach(u),Nt=w(D),ge=$(D,"SPAN",{});var wn=b(ge);at=P(wn,Pe),wn.forEach(u),Tt=w(D),ye=$(D,"SPAN",{});var kn=b(ye);Bt=P(kn,"Wins"),kn.forEach(u),Ee=$(D,"SPAN",{});var Sn=b(Ee);it=P(Sn,we),Sn.forEach(u),Mt=w(D),ke=$(D,"SPAN",{});var In=b(ke);Ct=P(In,"Blocks opponent"),In.forEach(u),Lt=w(D),Se=$(D,"SPAN",{});var An=b(Se);ft=P(An,Ie),An.forEach(u),Ot=w(D),Ae=$(D,"SPAN",{});var Nn=b(Ae);Dt=P(Nn,"Last move took opposite corner"),Nn.forEach(u),Vt=w(D),Ne=$(D,"SPAN",{});var Tn=b(Ne);ut=P(Tn,Te),Tn.forEach(u),Xt=w(D),Be=$(D,"SPAN",{});var Bn=b(Be);Ht=P(Bn,"Last move blocks opponent"),Bn.forEach(u),Rt=w(D),Me=$(D,"SPAN",{});var Mn=b(Me);ct=P(Mn,Ce),Mn.forEach(u),D.forEach(u),Wt=w(A),L=$(A,"DIV",{class:!0});var V=b(L);Le=$(V,"SPAN",{});var Cn=b(Le);Ft=P(Cn,"Player 2"),Cn.forEach(u),Oe=$(V,"SPAN",{});var Ln=b(Oe);Gt=P(Ln,"Computer, X"),Ln.forEach(u),Ut=w(V),me=$(V,"SPAN",{});var fn=b(me);zt=P(fn,"0b"),pt=P(fn,De),fn.forEach(u),Yt=w(V),Ve=$(V,"SPAN",{});var On=b(Ve);dt=P(On,Xe),On.forEach(u),qt=w(V),He=$(V,"SPAN",{});var Dn=b(He);jt=P(Dn,"Wins"),Dn.forEach(u),Re=$(V,"SPAN",{});var Vn=b(Re);_t=P(Vn,We),Vn.forEach(u),Jt=w(V),Fe=$(V,"SPAN",{});var Xn=b(Fe);Kt=P(Xn,"Blocks opponent"),Xn.forEach(u),Qt=w(V),Ge=$(V,"SPAN",{});var Hn=b(Ge);mt=P(Hn,Ue),Hn.forEach(u),Zt=w(V),ze=$(V,"SPAN",{});var Rn=b(ze);xt=P(Rn,"Last move took opposite corner"),Rn.forEach(u),en=w(V),Ye=$(V,"SPAN",{});var Wn=b(Ye);ht=P(Wn,qe),Wn.forEach(u),tn=w(V),je=$(V,"SPAN",{});var Fn=b(je);nn=P(Fn,"Last move blocks opponent"),Fn.forEach(u),rn=w(V),Je=$(V,"SPAN",{});var Gn=b(Je);vt=P(Gn,Ke),Gn.forEach(u),V.forEach(u),A.forEach(u),this.h()},h(){H(T,"class","grid2cols svelte-1lw5ne4"),H(L,"class","grid2cols svelte-1lw5ne4"),H(e,"class","grid2cols svelte-1lw5ne4")},m(M,A){X(M,e,A),a(e,r),a(r,n),a(e,s),a(e,l),a(l,o),a(e,f),a(e,p),a(p,d),a(e,y),a(e,S),a(S,B),a(B,m),a(B,_),a(B,h),a(S,C),a(S,O),a(O,G),a(O,x),a(S,ue),a(S,ee),a(ee,Z),a(ee,oe),a(S,ce),a(S,N),a(N,U),a(N,Y),a(e,pe),a(e,T),a(T,ae),a(ae,de),a(T,ie),a(ie,St),a(T,It),a(T,_e),a(_e,At),a(_e,ot),a(T,Nt),a(T,ge),a(ge,at),a(T,Tt),a(T,ye),a(ye,Bt),a(T,Ee),a(Ee,it),a(T,Mt),a(T,ke),a(ke,Ct),a(T,Lt),a(T,Se),a(Se,ft),a(T,Ot),a(T,Ae),a(Ae,Dt),a(T,Vt),a(T,Ne),a(Ne,ut),a(T,Xt),a(T,Be),a(Be,Ht),a(T,Rt),a(T,Me),a(Me,ct),a(e,Wt),a(e,L),a(L,Le),a(Le,Ft),a(L,Oe),a(Oe,Gt),a(L,Ut),a(L,me),a(me,zt),a(me,pt),a(L,Yt),a(L,Ve),a(Ve,dt),a(L,qt),a(L,He),a(He,jt),a(L,Re),a(Re,_t),a(L,Jt),a(L,Fe),a(Fe,Kt),a(L,Qt),a(L,Ge),a(Ge,mt),a(L,Zt),a(L,ze),a(ze,xt),a(L,en),a(L,Ye),a(Ye,ht),a(L,tn),a(L,je),a(je,nn),a(L,rn),a(L,Je),a(Je,vt)},p(M,A){var Qe,Ze;A&1&&i!==(i=lt(M[0])+"")&&W(o,i),A&2&&I!==(I=((Qe=M[1])==null?void 0:Qe.x)+"")&&W(m,I),A&2&&c!==(c=((Ze=M[1])==null?void 0:Ze.y)+"")&&W(h,c),A&2&&te!==(te=dn(M[1])?"✅":"❌")&&W(x,te),A&2&&q!==(q=_n(M[1])?"✅":"❌")&&W(oe,q),A&2&&z!==(z=mn(M[1])?"✅":"❌")&&W(Y,z),A&1&&be!==(be=M[0].player.toString(2).padStart(9,"0")+"")&&W(ot,be),A&1&&Pe!==(Pe=M[0].player+"")&&W(at,Pe),A&1&&we!==(we=et(M[0],k.player)?"✅":"❌")&&W(it,we),A&1&&Ie!==(Ie=bt(M[0],k.player)?"✅":"❌")&&W(ft,Ie),A&3&&Te!==(Te=nt(M[0],k.player,M[1])?"✅":"❌")&&W(ut,Te),A&3&&Ce!==(Ce=tt(M[0],k.player,M[1])?"✅":"❌")&&W(ct,Ce),A&1&&De!==(De=M[0].computer.toString(2).padStart(9,"0")+"")&&W(pt,De),A&1&&Xe!==(Xe=M[0].computer+"")&&W(dt,Xe),A&1&&We!==(We=et(M[0],k.computer)?"✅":"❌")&&W(_t,We),A&1&&Ue!==(Ue=bt(M[0],k.computer)?"✅":"❌")&&W(mt,Ue),A&3&&qe!==(qe=nt(M[0],k.computer,M[1])?"✅":"❌")&&W(ht,qe),A&3&&Ke!==(Ke=tt(M[0],k.computer,M[1])?"✅":"❌")&&W(vt,Ke)},d(M){M&&u(e)}}}function Gr(t){let e,r,n,s,l=t[0]&&Zn(t);return{c(){e=v("div"),r=v("h4"),n=g("Board info"),s=E(),l&&l.c()},l(i){e=$(i,"DIV",{});var o=b(e);r=$(o,"H4",{});var f=b(r);n=P(f,"Board info"),f.forEach(u),s=w(o),l&&l.l(o),o.forEach(u)},m(i,o){X(i,e,o),a(e,r),a(r,n),a(e,s),l&&l.m(e,null)},p(i,[o]){i[0]?l?l.p(i,o):(l=Zn(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:un,o:un,d(i){i&&u(e),l&&l.d()}}}function Ur(t,e,r){let{board:n}=e,{lastMove:s}=e;return t.$$set=l=>{"board"in l&&r(0,n=l.board),"lastMove"in l&&r(1,s=l.lastMove)},[n,s]}class cr extends re{constructor(e){super(),se(this,e,Ur,Gr,le,{board:0,lastMove:1})}}function zr(t,e){const r=Wr(t);if(r.length===0)throw new Error("No available moves");let n=0,s;for(const l of r){const i={...t},o=Br(l);if(o instanceof Error)throw o;Pt(i,e,o);const f=Yr(i,e,o);f>n&&(n=f,s=o)}if(!s)throw new Error("Error in getMoveHardcoded");return s}function Yr(t,e,r){return et(t,k.player)?8:tt(t,e,r)?7:dn(r)?4:nt(t,e,r)?3:_n(r)?2:mn(r)?1:0}function xn(t){let e,r;return{c(){e=v("span"),r=g("Player wins!")},l(n){e=$(n,"SPAN",{});var s=b(e);r=P(s,"Player wins!"),s.forEach(u)},m(n,s){X(n,e,s),a(e,r)},d(n){n&&u(e)}}}function er(t){let e,r;return{c(){e=v("span"),r=g("Computer wins!")},l(n){e=$(n,"SPAN",{});var s=b(e);r=P(s,"Computer wins!"),s.forEach(u)},m(n,s){X(n,e,s),a(e,r)},d(n){n&&u(e)}}}function tr(t){let e,r;return{c(){e=v("span"),r=g("Draw")},l(n){e=$(n,"SPAN",{});var s=b(e);r=P(s,"Draw"),s.forEach(u)},m(n,s){X(n,e,s),a(e,r)},d(n){n&&u(e)}}}function nr(t){let e,r,n,s;return{c(){e=v("span"),r=g("Restarting in "),n=g(t[2]),s=g(" seconds")},l(l){e=$(l,"SPAN",{});var i=b(e);r=P(i,"Restarting in "),n=P(i,t[2]),s=P(i," seconds"),i.forEach(u)},m(l,i){X(l,e,i),a(e,r),a(e,n),a(e,s)},p(l,i){i&4&&W(n,l[2])},d(l){l&&u(e)}}}function qr(t){let e,r,n,s,l,i,o,f,p,d,y,S,B;l=new lr({props:{sketch:t[5]}});let I=t[3]==="player_win"&&xn(),m=t[3]==="computer_win"&&er(),_=t[3]==="draw"&&tr(),c=t[2]>0&&nr(t);return S=new cr({props:{board:t[0],lastMove:t[1]}}),{c(){e=v("h2"),r=g("Game"),n=E(),s=v("div"),j(l.$$.fragment),i=E(),o=v("div"),I&&I.c(),f=E(),m&&m.c(),p=E(),_&&_.c(),d=E(),c&&c.c(),y=E(),j(S.$$.fragment)},l(h){e=$(h,"H2",{});var C=b(e);r=P(C,"Game"),C.forEach(u),n=w(h),s=$(h,"DIV",{});var O=b(s);J(l.$$.fragment,O),i=w(O),o=$(O,"DIV",{});var G=b(o);I&&I.l(G),f=w(G),m&&m.l(G),p=w(G),_&&_.l(G),d=w(G),c&&c.l(G),G.forEach(u),y=w(O),J(S.$$.fragment,O),O.forEach(u)},m(h,C){X(h,e,C),a(e,r),X(h,n,C),X(h,s,C),K(l,s,null),a(s,i),a(s,o),I&&I.m(o,null),a(o,f),m&&m.m(o,null),a(o,p),_&&_.m(o,null),a(o,d),c&&c.m(o,null),a(s,y),K(S,s,null),B=!0},p(h,[C]){h[3]==="player_win"?I||(I=xn(),I.c(),I.m(o,f)):I&&(I.d(1),I=null),h[3]==="computer_win"?m||(m=er(),m.c(),m.m(o,p)):m&&(m.d(1),m=null),h[3]==="draw"?_||(_=tr(),_.c(),_.m(o,d)):_&&(_.d(1),_=null),h[2]>0?c?c.p(h,C):(c=nr(h),c.c(),c.m(o,null)):c&&(c.d(1),c=null);const O={};C&1&&(O.board=h[0]),C&2&&(O.lastMove=h[1]),S.$set(O)},i(h){B||(R(l.$$.fragment,h),R(S.$$.fragment,h),B=!0)},o(h){F(l.$$.fragment,h),F(S.$$.fragment,h),B=!1},d(h){h&&u(e),h&&u(n),h&&u(s),Q(l),I&&I.d(),m&&m.d(),_&&_.d(),c&&c.d(),Q(S)}}}function jr(t,e,r){let n,s,l,i,o;const f=xe();ve(t,f,_=>r(3,n=_));let p=0,d=!0;function y(_,c){n==="not_over"&&(Pt(l,_,c),r(1,o=c),r(0,l),f.set(lt(l)),B())}function S(_){n==="not_over"&&setTimeout(()=>{const c=zr(l,_);r(1,o=c),Pt(l,_,c),r(0,l),f.set(lt(l)),B()},500)}function B(){i=i===k.player?k.computer:k.player}function I(){r(0,l=ir()),d=!d,i=d?k.computer:k.player,f.set(lt(l)),r(1,o={x:-1,y:-1}),d&&S(k.computer)}const m=_=>{_.setup=()=>{s=_,_.createCanvas(400,400),I()},_.draw=()=>{_.background(0),fr(_,l)},_.mousePressed=()=>{if(!(_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height)&&i===k.player){const c=pn(_);y(k.player,c),S(k.computer)}}};return f.subscribe(_=>{if(!_||_==="not_over")return;r(2,p=4);const c=setInterval(()=>{r(2,p--,p),p===0&&(I(),clearInterval(c))},1e3)}),hn(()=>{s==null||s.remove()}),[l,o,p,n,f,m]}class Jr extends re{constructor(e){super(),se(this,e,jr,qr,le,{})}}function Kr(t){let e,r,n,s,l,i,o,f,p,d,y,S,B,I,m,_,c,h,C,O,G,te,x,ue,ee,Z,q,oe,ce;return l=new lr({props:{sketch:t[6]}}),Z=new cr({props:{board:t[1],lastMove:t[3]}}),{c(){e=v("h2"),r=g("Analyzer"),n=E(),s=v("div"),j(l.$$.fragment),i=E(),o=v("div"),f=v("h4"),p=g("Controls"),d=E(),y=v("button"),S=g("Play O"),I=E(),m=v("button"),_=g("Play X"),h=E(),C=v("button"),O=g("Previous"),te=E(),x=v("button"),ue=g("Reset"),ee=E(),j(Z.$$.fragment),this.h()},l(N){e=$(N,"H2",{});var U=b(e);r=P(U,"Analyzer"),U.forEach(u),n=w(N),s=$(N,"DIV",{});var z=b(s);J(l.$$.fragment,z),i=w(z),o=$(z,"DIV",{});var Y=b(o);f=$(Y,"H4",{});var pe=b(f);p=P(pe,"Controls"),pe.forEach(u),d=w(Y),y=$(Y,"BUTTON",{});var T=b(y);S=P(T,"Play O"),T.forEach(u),I=w(Y),m=$(Y,"BUTTON",{});var ae=b(m);_=P(ae,"Play X"),ae.forEach(u),h=w(Y),C=$(Y,"BUTTON",{});var de=b(C);O=P(de,"Previous"),de.forEach(u),te=w(Y),x=$(Y,"BUTTON",{});var ie=b(x);ue=P(ie,"Reset"),ie.forEach(u),Y.forEach(u),ee=w(z),J(Z.$$.fragment,z),z.forEach(u),this.h()},h(){y.disabled=B=t[2]===k.player,m.disabled=c=t[2]===k.computer,C.disabled=G=(t[0]||[]).length<2},m(N,U){X(N,e,U),a(e,r),X(N,n,U),X(N,s,U),K(l,s,null),a(s,i),a(s,o),a(o,f),a(f,p),a(o,d),a(o,y),a(y,S),a(o,I),a(o,m),a(m,_),a(o,h),a(o,C),a(C,O),a(o,te),a(o,x),a(x,ue),a(s,ee),K(Z,s,null),q=!0,oe||(ce=[he(y,"click",t[7]),he(m,"click",t[8]),he(C,"click",t[5]),he(x,"click",t[4])],oe=!0)},p(N,[U]){(!q||U&4&&B!==(B=N[2]===k.player))&&(y.disabled=B),(!q||U&4&&c!==(c=N[2]===k.computer))&&(m.disabled=c),(!q||U&1&&G!==(G=(N[0]||[]).length<2))&&(C.disabled=G);const z={};U&2&&(z.board=N[1]),U&8&&(z.lastMove=N[3]),Z.$set(z)},i(N){q||(R(l.$$.fragment,N),R(Z.$$.fragment,N),q=!0)},o(N){F(l.$$.fragment,N),F(Z.$$.fragment,N),q=!1},d(N){N&&u(e),N&&u(n),N&&u(s),Q(l),Q(Z),oe=!1,$r(ce)}}}function Qr(t,e,r){let n,s,l,i=k.player,o;function f(m,_){Pt(l,m,_),r(3,o=_),r(1,l),s.push({...l}),r(0,s),p()}function p(){r(2,i=i===k.player?k.computer:k.player)}function d(){r(1,l=ir()),r(0,s=[{...l}]),r(3,o={x:-1,y:-1})}function y(){s.length<=1||(s.pop(),r(0,s),r(1,l={...s[s.length-1]}))}const S=m=>{m.setup=()=>{n=m,m.createCanvas(400,400),d()},m.draw=()=>{m.background(0),fr(m,l,{drawSelection:!0,selection:pn(m),currentPlayer:i})},m.mousePressed=()=>{if(m.mouseX<0||m.mouseX>m.width||m.mouseY<0||m.mouseY>m.height)return;const _=pn(m);f(i,_)}};return hn(()=>{n==null||n.remove()}),[s,l,i,o,d,y,S,()=>r(2,i=k.player),()=>r(2,i=k.computer)]}class Zr extends re{constructor(e){super(),se(this,e,Qr,Kr,le,{})}}function xr(t){let e;return{c(){e=g("Game")},l(r){e=P(r,"Game")},m(r,n){X(r,e,n)},d(r){r&&u(e)}}}function es(t){let e;return{c(){e=g("Analyzer")},l(r){e=P(r,"Analyzer")},m(r,n){X(r,e,n)},d(r){r&&u(e)}}}function ts(t){let e,r,n,s;return e=new zn({props:{$$slots:{default:[xr]},$$scope:{ctx:t}}}),n=new zn({props:{$$slots:{default:[es]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=E(),j(n.$$.fragment)},l(l){J(e.$$.fragment,l),r=w(l),J(n.$$.fragment,l)},m(l,i){K(e,l,i),X(l,r,i),K(n,l,i),s=!0},p(l,i){const o={};i&1&&(o.$$scope={dirty:i,ctx:l}),e.$set(o);const f={};i&1&&(f.$$scope={dirty:i,ctx:l}),n.$set(f)},i(l){s||(R(e.$$.fragment,l),R(n.$$.fragment,l),s=!0)},o(l){F(e.$$.fragment,l),F(n.$$.fragment,l),s=!1},d(l){Q(e,l),l&&u(r),Q(n,l)}}}function ns(t){let e,r;return e=new Jr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function rs(t){let e,r;return e=new Zr({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function ss(t){let e,r,n,s,l,i;return e=new Ar({props:{$$slots:{default:[ts]},$$scope:{ctx:t}}}),n=new qn({props:{$$slots:{default:[ns]},$$scope:{ctx:t}}}),l=new qn({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=E(),j(n.$$.fragment),s=E(),j(l.$$.fragment)},l(o){J(e.$$.fragment,o),r=w(o),J(n.$$.fragment,o),s=w(o),J(l.$$.fragment,o)},m(o,f){K(e,o,f),X(o,r,f),K(n,o,f),X(o,s,f),K(l,o,f),i=!0},p(o,f){const p={};f&1&&(p.$$scope={dirty:f,ctx:o}),e.$set(p);const d={};f&1&&(d.$$scope={dirty:f,ctx:o}),n.$set(d);const y={};f&1&&(y.$$scope={dirty:f,ctx:o}),l.$set(y)},i(o){i||(R(e.$$.fragment,o),R(n.$$.fragment,o),R(l.$$.fragment,o),i=!0)},o(o){F(e.$$.fragment,o),F(n.$$.fragment,o),F(l.$$.fragment,o),i=!1},d(o){Q(e,o),o&&u(r),Q(n,o),o&&u(s),Q(l,o)}}}function ls(t){let e,r;return e=new Er({props:{$$slots:{default:[ss]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},p(n,[s]){const l={};s&1&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class os extends re{constructor(e){super(),se(this,e,null,ls,le,{})}}function as(t){let e,r;return e=new os({}),{c(){j(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){K(e,n,s),r=!0},p:un,i(n){r||(R(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}class cs extends re{constructor(e){super(),se(this,e,null,as,le,{})}}export{cs as default};
