import{S as Me,i as Ie,s as Ae,k as p,q as k,a as w,l as d,m,r as E,h as f,c as S,b as H,D as s,B as Ne,n as ue,u as _e,g as je,t as Y,d as Ye,f as R,U as qt,w as pe,x as de,y as me,z as ve,e as qe,K as Ue,J as we,M as tt,N as Ve,O as vt,Q as rt,a0 as Pt,a1 as Kt}from"../../../chunks/index-e565ab33.js";import{t as or,T as lr,a as sr,b as ct,c as ft}from"../../../chunks/async-39953546.js";import{P as Qt}from"../../../chunks/P5-94ccbc05.js";const ar=[448,56,7,292,146,73,273,84],ir=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],cr=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],fr=[{p:2,o:5},{p:2,o:144}],Xe=(r,e)=>(r&e)===e;var W=(r=>(r[r.player=1]="player",r[r.computer=2]="computer",r))(W||{});function wt(r){let e=r,n=0;for(;e;)n+=e&1,e>>=1;return n}function St(r,e){return j(r,e)}function j(r,e){return!(r&1<<e)}function ht(r,e){return r+2**e}const _t=r=>{for(const e of ar)if(Xe(r,e))return!0;return!1},ur={1:W.computer,2:W.player},Nt=r=>ur[r];function Zt(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Fe(r,e){return e===W.player?r.player:r.computer}function We(r,e){return e===W.player?r.computer:r.player}function xe(r,e){if(!e&&!hr(r))return"invalid_board";const n=_t(r.player),t=_t(r.computer);return n&&t?"draw":n?"player_win":t?"computer_win":pr(r)?"not_over":"over"}function Ke(r,e,n){if(!_r(r,n))throw new Error(`Impossible move. player: ${r==null?void 0:r.player}, computer: ${r==null?void 0:r.computer}, index ${n} `);e===W.player?r.player=ht(r.player,n):r.computer=ht(r.computer,n)}function hr(r){if(r.player&r.computer)return!1;const e=wt(r.player),n=wt(r.computer);return!(Math.abs(e-n)>1)}function _r(r,e){return j(r.player,e)&&j(r.computer,e)}function pr(r){return(r.player|r.computer)!==511}function et(r){let e=r.player|r.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const n=[];let t=0;for(;t<9;)e&1||n.push(t),t++,e>>=1;return n}function nt(r){const{x:e,y:n}=r;if(e<0||e>2||n<0||n>2)throw new Error(`Invalid coords (${e},${n})`);return 8-(3*n+e)}function Ct(r){if(r<0||r>8)throw new Error("Invalid index ${i}");return{x:2-r%3,y:2-Math.floor(r/3)}}const dr=[2,5,8,1,4,7,0,3,6];function Mt(r){let e=0;return dr.forEach((n,t)=>{j(r,t)||(e=ht(e,n))}),e}function ot(r,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...r};e=e%4;const n={...r};for(let t=0;t<e;t++)n.player=Mt(n.player),n.computer=Mt(n.computer);return n}function mr(r,e){return et(r).map(t=>{const o={...r};return Ke(o,e,t),{move:t,board:o}})}function vr(r,e){if(et(r).length===0)throw new Error("No available moves");const o=pt({board:r,player:e,depth:1,moves:[]});return{score:o.score,reason:o.reason,move:o.moves[0]}}function gr(r){return r==="player_win"?{score:4,reason:r}:r==="draw"?{score:3,reason:r}:r==="over"?{score:2,reason:r}:r==="not_over"?{score:1,reason:r}:r==="computer_win"?{score:0,reason:r}:{score:-1,reason:r}}const $r=12;function pt(r){const e=xe(r.board);if(r.depth===$r||e!=="not_over")return{moves:r.moves,...gr(e)};const n=mr(r.board,r.player);if(r.player===W.player){let o;for(const l of n){const a={board:l.board,player:Nt(r.player),depth:r.depth+1,moves:[...r.moves,l.move]},c=pt(a);(!o||c.score>o.score)&&(o=c)}if(!o)throw new Error("Couldnt get any best child for maximizing player");return o}let t;for(const o of n){const l={board:o.board,player:Nt(r.player),depth:r.depth+1,moves:[...r.moves,o.move]},a=pt(l);(!t||a.score<t.score)&&(t=a)}if(!t)throw new Error("Couldnt get any best child for maximizing player");return t}function Re(r,e){const n=Fe(r,e);return _t(n)}function gt(r){return r===4}function lt(r,e,n){const t=Fe(r,e),o=We(r,e);if(n===4){const l=j(o,5)&&!j(t,3)||!j(t,5)&&j(o,3)?1:0,a=j(o,7)&&!j(t,1)||!j(t,7)&&j(o,1)?1:0,c=j(o,8)&&!j(t,0)||!j(t,8)&&j(o,0)?1:0,u=j(o,6)&&!j(t,2)||!j(t,6)&&j(o,2)?1:0;return l+a+c+u>=2}if(it.has(n)){const l={0:0,2:3,6:1,8:2}[n]||0,a=ot(r,l),c=Fe(a,e),u=We(a,e),i=j(u,2)&&!j(c,1)||!j(c,2)&&j(u,1),g=j(u,6)&&!j(c,3)||!j(c,6)&&j(u,3);return i&&g}if($t.has(n)){const l={1:0,3:1,5:3,7:2}[n]||0,a=ot(r,l),c=Fe(a,e),u=We(a,e),i=j(u,2)&&!j(c,0)||!j(c,2)&&j(u,0),g=j(u,7)&&!j(c,4)||!j(c,7)&&j(u,4);return i&&g}return!1}function dt(r,e,n){const t=Fe(r,e),l={player:We(r,e),computer:t};return lt(l,e===W.player?W.computer:W.player,n)}function Je(r,e,n){const t=Fe(r,e),o=We(r,e);if(n===4){for(const{o:l,p:a}of ir)if(Xe(t,a)&&Xe(o,l))return!0}if(it.has(n)){const l={0:0,2:3,6:1,8:2}[n]||0,a=ot(r,l),c=Fe(a,e),u=We(a,e);for(const{o:i,p:g}of cr)if(Xe(c,g)&&Xe(u,i))return!0}if($t.has(n)){const l={1:0,3:1,5:3,7:2}[n]||0,a=ot(r,l),c=Fe(a,e),u=We(a,e);for(const{o:i,p:g}of fr)if(Xe(c,g)&&Xe(u,i))return!0}return!1}const it=new Set([0,2,6,8]),$t=new Set([1,3,5,7]);function st(r,e,n){if(!it.has(n))return!1;const t=8-n,o=We(r,e);return!j(o,t)}function bt(r){return it.has(r)}function xt(r){return $t.has(r)}function br(r,e){const n=et(r);if(n.length===0)throw new Error("No available moves");let t;for(const o of n){const l={...r};Ke(l,e,o);const a=kr(l,e,o);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function kr(r,e,n){return Re(r,e)?{score:8,reason:"win",move:n}:Je(r,e,n)?{score:7,reason:"block_opponent",move:n}:lt(r,e,n)?{score:6,reason:"create_fork",move:n}:dt(r,e,n)?{score:5,reason:"block_opponent_fork",move:n}:gt(n)?{score:4,reason:"take_center",move:n}:st(r,e,n)?{score:3,reason:"take_opposite_corner",move:n}:bt(n)?{score:2,reason:"take_corner",move:n}:xt(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Er(r,e){const n=et(r);if(n.length===0)throw new Error("No available moves");let t;for(const o of n){const l={...r};Ke(l,e,o);const a=yr(l,e,o);a.score>((t==null?void 0:t.score)??-1)&&(t=a)}if(!t)throw new Error("Error in getMoveHardcoded");return t}function yr(r,e,n){return Re(r,W.player)?{score:8,reason:"win",move:n}:Je(r,e,n)?{score:7,reason:"block_opponent",move:n}:gt(n)?{score:4,reason:"take_center",move:n}:st(r,e,n)?{score:3,reason:"take_opposite_corner",move:n}:bt(n)?{score:2,reason:"take_corner",move:n}:xt(n)?{score:1,reason:"take_edge",move:n}:{score:0,reason:"default_choice",move:n}}function Pr(r){const e=et(r);if(e.length===0)throw new Error("No available moves");const n=Math.floor(Math.random()*e.length);return{score:0,reason:"random",move:e[n]}}const ze={random:Pr,hardcodedRules:Er,hardcodedRulesComplete:br,minmax:vr},er=r=>({board:Zt(),currentPlayer:r??W.player,state:"not_over",moveHistory:[]});function tr(r){r.currentPlayer=r.currentPlayer===W.player?W.computer:W.player}const wr=(r,e,n)=>{r.state==="not_over"&&(Ke(r.board,e,n),r.state=xe(r.board),r.moveHistory.push({board:{...r.board},moveAsIndex:n,player:e,method:"manual"}),tr(r))},Ze=(r,e,n)=>{if(r.state!=="not_over")return;const t=ze[n],o=t(r.board,e);Ke(r.board,e,o.move),r.state=xe(r.board),r.moveHistory.push({board:{...r.board},moveAsIndex:o.move,player:e,method:n,aiChoice:o}),tr(r)},Sr="#FF0000",Nr="#64ccfc";function mt(r,e,n){var g;const t=r.width/3,o=r.height/3,{height:l,width:a}=r,{drawSelection:c,selection:u,currentPlayer:i}=n||{};r.rectMode(r.CENTER),r.noFill(),r.stroke(255),r.strokeWeight(1),r.line(t,0,t,l),r.line(t*2,0,t*2,l),r.line(0,o,a,o),r.line(0,o*2,a,o*2),r.stroke(155),r.strokeWeight(3),r.rect(r.width/2,r.height/2,r.width,r.height),r.strokeWeight(4);for(let _=0;_<3;_++)for(let P=0;P<3;P++)((g=n==null?void 0:n.highlightCell)==null?void 0:g.x)===P&&(n==null?void 0:n.highlightCell.y)===_&&(r.noStroke(),r.fill(30,250,80,80),r.rect(P*t+t/2,_*o+o/2,t*.95,o*.95),r.noFill()),(!St(e.player,nt({x:P,y:_}))||c&&i===W.player&&(u==null?void 0:u.x)===P&&(u==null?void 0:u.y)===_)&&(r.stroke(Nr),r.circle(P*t+t/2,_*o+o/2,o/2)),(!St(e.computer,nt({x:P,y:_}))||c&&i===W.computer&&(u==null?void 0:u.x)===P&&(u==null?void 0:u.y)===_)&&(r.stroke(Sr),r.line(P*t+t*.3,_*o+o*.3,P*t+t*.7,_*o+o*.7),r.line(P*t+t*.7,_*o+o*.3,P*t+t*.3,_*o+o*.7))}function at(r){const{mouseX:e,mouseY:n,width:t,height:o}=r,l=Math.floor(r.map(e,0,t,0,3)),a=Math.floor(r.map(n,0,o,0,3));return{x:l,y:a}}function It(r){let e,n,t,o,l,a=xe(r[0])+"",c,u,i,g,_,P,N,$,y,v,C=r[0].player.toString(2).padStart(9,"0")+"",I,D,A,B=r[0].player+"",M,V,U,K,J,ae=Re(r[0],W.player)?"✅":"❌",ie,he,T,Z,le,te,$e,x,ce,X,z=r[0].computer.toString(2).padStart(9,"0")+"",G,se,F,ge=r[0].computer+"",re,be,ne,fe,ee,Pe=Re(r[0],W.computer)?"✅":"❌",Ee;return{c(){e=p("div"),n=p("span"),t=k("State:"),o=w(),l=p("span"),c=k(a),u=w(),i=p("div"),g=p("span"),_=k("Player 1"),P=p("span"),N=k("Player, O"),$=w(),y=p("span"),v=k("0b"),I=k(C),D=w(),A=p("span"),M=k(B),V=w(),U=p("span"),K=k("Wins"),J=p("span"),ie=k(ae),he=w(),T=p("div"),Z=p("span"),le=k("Player 2"),te=p("span"),$e=k("Computer, X"),x=w(),ce=p("span"),X=k("0b"),G=k(z),se=w(),F=p("span"),re=k(ge),be=w(),ne=p("span"),fe=k("Wins"),ee=p("span"),Ee=k(Pe),this.h()},l(oe){e=d(oe,"DIV",{class:!0});var O=m(e);n=d(O,"SPAN",{});var q=m(n);t=E(q,"State:"),q.forEach(f),o=S(O),l=d(O,"SPAN",{});var h=m(l);c=E(h,a),h.forEach(f),u=S(O),i=d(O,"DIV",{class:!0});var L=m(i);g=d(L,"SPAN",{});var b=m(g);_=E(b,"Player 1"),b.forEach(f),P=d(L,"SPAN",{});var Q=m(P);N=E(Q,"Player, O"),Q.forEach(f),$=S(L),y=d(L,"SPAN",{});var Te=m(y);v=E(Te,"0b"),I=E(Te,C),Te.forEach(f),D=S(L),A=d(L,"SPAN",{});var Oe=m(A);M=E(Oe,B),Oe.forEach(f),V=S(L),U=d(L,"SPAN",{});var He=m(U);K=E(He,"Wins"),He.forEach(f),J=d(L,"SPAN",{});var Ge=m(J);ie=E(Ge,ae),Ge.forEach(f),L.forEach(f),he=S(O),T=d(O,"DIV",{class:!0});var ye=m(T);Z=d(ye,"SPAN",{});var Le=m(Z);le=E(Le,"Player 2"),Le.forEach(f),te=d(ye,"SPAN",{});var Ce=m(te);$e=E(Ce,"Computer, X"),Ce.forEach(f),x=S(ye),ce=d(ye,"SPAN",{});var Be=m(ce);X=E(Be,"0b"),G=E(Be,z),Be.forEach(f),se=S(ye),F=d(ye,"SPAN",{});var De=m(F);re=E(De,ge),De.forEach(f),be=S(ye),ne=d(ye,"SPAN",{});var Se=m(ne);fe=E(Se,"Wins"),Se.forEach(f),ee=d(ye,"SPAN",{});var Qe=m(ee);Ee=E(Qe,Pe),Qe.forEach(f),ye.forEach(f),O.forEach(f),this.h()},h(){ue(i,"class","grid2cols svelte-1lw5ne4"),ue(T,"class","grid2cols svelte-1lw5ne4"),ue(e,"class","grid2cols svelte-1lw5ne4")},m(oe,O){H(oe,e,O),s(e,n),s(n,t),s(e,o),s(e,l),s(l,c),s(e,u),s(e,i),s(i,g),s(g,_),s(i,P),s(P,N),s(i,$),s(i,y),s(y,v),s(y,I),s(i,D),s(i,A),s(A,M),s(i,V),s(i,U),s(U,K),s(i,J),s(J,ie),s(e,he),s(e,T),s(T,Z),s(Z,le),s(T,te),s(te,$e),s(T,x),s(T,ce),s(ce,X),s(ce,G),s(T,se),s(T,F),s(F,re),s(T,be),s(T,ne),s(ne,fe),s(T,ee),s(ee,Ee)},p(oe,O){O&1&&a!==(a=xe(oe[0])+"")&&_e(c,a),O&1&&C!==(C=oe[0].player.toString(2).padStart(9,"0")+"")&&_e(I,C),O&1&&B!==(B=oe[0].player+"")&&_e(M,B),O&1&&ae!==(ae=Re(oe[0],W.player)?"✅":"❌")&&_e(ie,ae),O&1&&z!==(z=oe[0].computer.toString(2).padStart(9,"0")+"")&&_e(G,z),O&1&&ge!==(ge=oe[0].computer+"")&&_e(re,ge),O&1&&Pe!==(Pe=Re(oe[0],W.computer)?"✅":"❌")&&_e(Ee,Pe)},d(oe){oe&&f(e)}}}function Cr(r){let e,n,t,o,l=r[0]&&It(r);return{c(){e=p("div"),n=p("h4"),t=k("Board info"),o=w(),l&&l.c()},l(a){e=d(a,"DIV",{});var c=m(e);n=d(c,"H4",{});var u=m(n);t=E(u,"Board info"),u.forEach(f),o=S(c),l&&l.l(c),c.forEach(f)},m(a,c){H(a,e,c),s(e,n),s(n,t),s(e,o),l&&l.m(e,null)},p(a,[c]){a[0]?l?l.p(a,c):(l=It(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Ne,o:Ne,d(a){a&&f(e),l&&l.d()}}}function Mr(r,e,n){let{board:t}=e;return r.$$set=o=>{"board"in o&&n(0,t=o.board)},[t]}class rr extends Me{constructor(e){super(),Ie(this,e,Mr,Cr,Ae,{board:0})}}function Ir(r){let e,n,t=JSON.stringify(r[0])+"",o;return{c(){e=p("p"),n=k("Board is undefined "),o=k(t)},l(l){e=d(l,"P",{});var a=m(e);n=E(a,"Board is undefined "),o=E(a,t),a.forEach(f)},m(l,a){H(l,e,a),s(e,n),s(e,o)},p(l,a){a&1&&t!==(t=JSON.stringify(l[0])+"")&&_e(o,t)},i:Ne,o:Ne,d(l){l&&f(e)}}}function Ar(r){let e,n;return e=new Qt({props:{sketch:r[1]}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},p:Ne,i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function Tr(r){let e,n,t,o;const l=[Ar,Ir],a=[];function c(u,i){return u[0]?0:1}return n=c(r),t=a[n]=l[n](r),{c(){e=p("div"),t.c()},l(u){e=d(u,"DIV",{});var i=m(e);t.l(i),i.forEach(f)},m(u,i){H(u,e,i),a[n].m(e,null),o=!0},p(u,[i]){let g=n;n=c(u),n===g?a[n].p(u,i):(je(),Y(a[g],1,1,()=>{a[g]=null}),Ye(),t=a[n],t?t.p(u,i):(t=a[n]=l[n](u),t.c()),R(t,1),t.m(e,null))},i(u){o||(R(t),o=!0)},o(u){Y(t),o=!1},d(u){u&&f(e),a[n].d()}}}function Br(r,e,n){let{dimensionPx:t}=e,{board:o}=e,{highlightCell:l=void 0}=e,{highlightMouse:a=!1}=e,{noLoop:c=!1}=e,{onClick:u=()=>{}}=e,i;const g=_=>{_.setup=()=>{i=_,_.createCanvas(t.width,t.height)},_.draw=()=>{_.background(0),a?mt(_,o,{highlightCell:at(_)}):mt(_,o,{highlightCell:l}),c&&_.noLoop()},c||(_.mousePressed=()=>{_.mouseX<0||_.mouseX>_.width||_.mouseY<0||_.mouseY>_.height||u("manual",at(_))})};return qt(()=>{i==null||i.remove()}),r.$$set=_=>{"dimensionPx"in _&&n(2,t=_.dimensionPx),"board"in _&&n(0,o=_.board),"highlightCell"in _&&n(3,l=_.highlightCell),"highlightMouse"in _&&n(4,a=_.highlightMouse),"noLoop"in _&&n(5,c=_.noLoop),"onClick"in _&&n(6,u=_.onClick)},[o,g,t,l,a,c,u]}class kt extends Me{constructor(e){super(),Ie(this,e,Br,Tr,Ae,{dimensionPx:2,board:0,highlightCell:3,highlightMouse:4,noLoop:5,onClick:6})}}function ut(r){const e=r.slice(),n=e[0];return e[1]=n.moveAsIndex,e[2]=n.player,e[3]=n.board,e}function At(r){let e,n,t,o,l,a,c,u,i,g,_,P=Re(r[3],r[2])?"✅":"❌",N,$,y,v,C,I,D=Je(r[3],r[2],r[1])?"✅":"❌",A,B,M,V,U,K,J=lt(r[3],r[2],r[1])?"✅":"❌",ae,ie,he,T,Z,le,te=dt(r[3],r[2],r[1])?"✅":"❌",$e,x,ce,X,z,G,se=st(r[3],r[2],r[1])?"✅":"❌",F,ge,re,be,ne,fe,ee=Je(r[3],r[2],r[1])?"✅":"❌",Pe;function Ee(q,h){return h&1&&(l=null),h&1&&(a=null),l==null&&(l=!!gt(q[1])),l?Gr:(a==null&&(a=!!bt(q[1])),a?Hr:Or)}let oe=Ee(r,-1),O=oe(r);return{c(){e=p("div"),n=p("span"),t=k("Position"),o=w(),O.c(),c=w(),u=p("span"),i=k("Player win"),g=w(),_=p("span"),N=k(P),$=w(),y=p("span"),v=k("Move blocks opponent"),C=w(),I=p("span"),A=k(D),B=w(),M=p("span"),V=k("Move creates fork"),U=w(),K=p("span"),ae=k(J),ie=w(),he=p("span"),T=k("Move blocks opponent's fork"),Z=w(),le=p("span"),$e=k(te),x=w(),ce=p("span"),X=k("Took opposite corner"),z=w(),G=p("span"),F=k(se),ge=w(),re=p("span"),be=k("Last move blocks opponent"),ne=w(),fe=p("span"),Pe=k(ee),this.h()},l(q){e=d(q,"DIV",{class:!0});var h=m(e);n=d(h,"SPAN",{});var L=m(n);t=E(L,"Position"),L.forEach(f),o=S(h),O.l(h),c=S(h),u=d(h,"SPAN",{});var b=m(u);i=E(b,"Player win"),b.forEach(f),g=S(h),_=d(h,"SPAN",{});var Q=m(_);N=E(Q,P),Q.forEach(f),$=S(h),y=d(h,"SPAN",{});var Te=m(y);v=E(Te,"Move blocks opponent"),Te.forEach(f),C=S(h),I=d(h,"SPAN",{});var Oe=m(I);A=E(Oe,D),Oe.forEach(f),B=S(h),M=d(h,"SPAN",{});var He=m(M);V=E(He,"Move creates fork"),He.forEach(f),U=S(h),K=d(h,"SPAN",{});var Ge=m(K);ae=E(Ge,J),Ge.forEach(f),ie=S(h),he=d(h,"SPAN",{});var ye=m(he);T=E(ye,"Move blocks opponent's fork"),ye.forEach(f),Z=S(h),le=d(h,"SPAN",{});var Le=m(le);$e=E(Le,te),Le.forEach(f),x=S(h),ce=d(h,"SPAN",{});var Ce=m(ce);X=E(Ce,"Took opposite corner"),Ce.forEach(f),z=S(h),G=d(h,"SPAN",{});var Be=m(G);F=E(Be,se),Be.forEach(f),ge=S(h),re=d(h,"SPAN",{});var De=m(re);be=E(De,"Last move blocks opponent"),De.forEach(f),ne=S(h),fe=d(h,"SPAN",{});var Se=m(fe);Pe=E(Se,ee),Se.forEach(f),h.forEach(f),this.h()},h(){ue(e,"class","grid2cols svelte-1lw5ne4")},m(q,h){H(q,e,h),s(e,n),s(n,t),s(e,o),O.m(e,null),s(e,c),s(e,u),s(u,i),s(e,g),s(e,_),s(_,N),s(e,$),s(e,y),s(y,v),s(e,C),s(e,I),s(I,A),s(e,B),s(e,M),s(M,V),s(e,U),s(e,K),s(K,ae),s(e,ie),s(e,he),s(he,T),s(e,Z),s(e,le),s(le,$e),s(e,x),s(e,ce),s(ce,X),s(e,z),s(e,G),s(G,F),s(e,ge),s(e,re),s(re,be),s(e,ne),s(e,fe),s(fe,Pe)},p(q,h){oe!==(oe=Ee(q,h))&&(O.d(1),O=oe(q),O&&(O.c(),O.m(e,c))),h&1&&P!==(P=Re(q[3],q[2])?"✅":"❌")&&_e(N,P),h&1&&D!==(D=Je(q[3],q[2],q[1])?"✅":"❌")&&_e(A,D),h&1&&J!==(J=lt(q[3],q[2],q[1])?"✅":"❌")&&_e(ae,J),h&1&&te!==(te=dt(q[3],q[2],q[1])?"✅":"❌")&&_e($e,te),h&1&&se!==(se=st(q[3],q[2],q[1])?"✅":"❌")&&_e(F,se),h&1&&ee!==(ee=Je(q[3],q[2],q[1])?"✅":"❌")&&_e(Pe,ee)},d(q){q&&f(e),O.d()}}}function Or(r){let e,n;return{c(){e=p("span"),n=k("Edge")},l(t){e=d(t,"SPAN",{});var o=m(e);n=E(o,"Edge"),o.forEach(f)},m(t,o){H(t,e,o),s(e,n)},d(t){t&&f(e)}}}function Hr(r){let e,n;return{c(){e=p("span"),n=k("Corner")},l(t){e=d(t,"SPAN",{});var o=m(e);n=E(o,"Corner"),o.forEach(f)},m(t,o){H(t,e,o),s(e,n)},d(t){t&&f(e)}}}function Gr(r){let e,n;return{c(){e=p("span"),n=k("Center")},l(t){e=d(t,"SPAN",{});var o=m(e);n=E(o,"Center"),o.forEach(f)},m(t,o){H(t,e,o),s(e,n)},d(t){t&&f(e)}}}function Lr(r){let e,n=r[0]&&At(ut(r));return{c(){n&&n.c(),e=qe()},l(t){n&&n.l(t),e=qe()},m(t,o){n&&n.m(t,o),H(t,e,o)},p(t,[o]){t[0]?n?n.p(ut(t),o):(n=At(ut(t)),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ne,o:Ne,d(t){n&&n.d(t),t&&f(e)}}}function Dr(r,e,n){let{historyItem:t}=e;return r.$$set=o=>{"historyItem"in o&&n(0,t=o.historyItem)},[t]}class Vr extends Me{constructor(e){super(),Ie(this,e,Dr,Lr,Ae,{historyItem:0})}}function Tt(r,e,n){const t=r.slice();return t[2]=e[n],t}function Bt(r){let e,n,t,o,l,a,c,u,i,g,_,P,N,$,y,v=r[0].length===0&&Ot(),C=[...r[0]].reverse(),I=[];for(let A=0;A<C.length;A+=1)I[A]=Ht(Tt(r,C,A));const D=A=>Y(I[A],1,1,()=>{I[A]=null});return{c(){e=p("div"),v&&v.c(),n=w(),t=p("h4"),o=k("Move"),l=w(),a=p("h4"),c=k("Selection"),u=w(),i=p("h4"),g=k("AI"),_=w(),P=p("h4"),N=k("Stats"),$=w();for(let A=0;A<I.length;A+=1)I[A].c();this.h()},l(A){e=d(A,"DIV",{class:!0});var B=m(e);v&&v.l(B),n=S(B),t=d(B,"H4",{});var M=m(t);o=E(M,"Move"),M.forEach(f),l=S(B),a=d(B,"H4",{});var V=m(a);c=E(V,"Selection"),V.forEach(f),u=S(B),i=d(B,"H4",{});var U=m(i);g=E(U,"AI"),U.forEach(f),_=S(B),P=d(B,"H4",{});var K=m(P);N=E(K,"Stats"),K.forEach(f),$=S(B);for(let J=0;J<I.length;J+=1)I[J].l(B);B.forEach(f),this.h()},h(){ue(e,"class","grid4cols svelte-1ofp4bt")},m(A,B){H(A,e,B),v&&v.m(e,null),s(e,n),s(e,t),s(t,o),s(e,l),s(e,a),s(a,c),s(e,u),s(e,i),s(i,g),s(e,_),s(e,P),s(P,N),s(e,$);for(let M=0;M<I.length;M+=1)I[M].m(e,null);y=!0},p(A,B){if(A[0].length===0?v||(v=Ot(),v.c(),v.m(e,n)):v&&(v.d(1),v=null),B&1){C=[...A[0]].reverse();let M;for(M=0;M<C.length;M+=1){const V=Tt(A,C,M);I[M]?(I[M].p(V,B),R(I[M],1)):(I[M]=Ht(V),I[M].c(),R(I[M],1),I[M].m(e,null))}for(je(),M=C.length;M<I.length;M+=1)D(M);Ye()}},i(A){if(!y){for(let B=0;B<C.length;B+=1)R(I[B]);y=!0}},o(A){I=I.filter(Boolean);for(let B=0;B<I.length;B+=1)Y(I[B]);y=!1},d(A){A&&f(e),v&&v.d(),Ue(I,A)}}}function Ot(r){let e,n;return{c(){e=p("p"),n=k("No move yet.")},l(t){e=d(t,"P",{});var o=m(e);n=E(o,"No move yet."),o.forEach(f)},m(t,o){H(t,e,o),s(e,n)},d(t){t&&f(e)}}}function Rr(r){let e;return{c(){e=p("span"),this.h()},l(n){e=d(n,"SPAN",{class:!0}),m(e).forEach(f),this.h()},h(){ue(e,"class","item svelte-1ofp4bt")},m(n,t){H(n,e,t)},p:Ne,d(n){n&&f(e)}}}function Fr(r){let e,n=r[2].aiChoice.score+"",t,o,l=r[2].aiChoice.reason+"",a;return{c(){e=p("span"),t=k(n),o=k(" - "),a=k(l),this.h()},l(c){e=d(c,"SPAN",{class:!0});var u=m(e);t=E(u,n),o=E(u," - "),a=E(u,l),u.forEach(f),this.h()},h(){ue(e,"class","item svelte-1ofp4bt")},m(c,u){H(c,e,u),s(e,t),s(e,o),s(e,a)},p(c,u){u&1&&n!==(n=c[2].aiChoice.score+"")&&_e(t,n),u&1&&l!==(l=c[2].aiChoice.reason+"")&&_e(a,l)},d(c){c&&f(e)}}}function Ht(r){let e,n,t,o,l=r[2].method+"",a,c,u,i,g,_,P;n=new kt({props:{board:r[2].board,dimensionPx:{width:100,height:100},highlightCell:Ct(r[2].moveAsIndex),noLoop:!0}});function N(v,C){return v[2].aiChoice?Fr:Rr}let $=N(r),y=$(r);return g=new Vr({props:{historyItem:r[2]}}),{c(){e=p("div"),pe(n.$$.fragment),t=w(),o=p("span"),a=k(l),c=w(),y.c(),u=w(),i=p("div"),pe(g.$$.fragment),_=w(),this.h()},l(v){e=d(v,"DIV",{class:!0});var C=m(e);de(n.$$.fragment,C),C.forEach(f),t=S(v),o=d(v,"SPAN",{class:!0});var I=m(o);a=E(I,l),I.forEach(f),c=S(v),y.l(v),u=S(v),i=d(v,"DIV",{class:!0});var D=m(i);de(g.$$.fragment,D),_=S(D),D.forEach(f),this.h()},h(){ue(e,"class","item svelte-1ofp4bt"),ue(o,"class","item svelte-1ofp4bt"),ue(i,"class","item svelte-1ofp4bt")},m(v,C){H(v,e,C),me(n,e,null),H(v,t,C),H(v,o,C),s(o,a),H(v,c,C),y.m(v,C),H(v,u,C),H(v,i,C),me(g,i,null),s(i,_),P=!0},p(v,C){const I={};C&1&&(I.board=v[2].board),C&1&&(I.highlightCell=Ct(v[2].moveAsIndex)),n.$set(I),(!P||C&1)&&l!==(l=v[2].method+"")&&_e(a,l),$===($=N(v))&&y?y.p(v,C):(y.d(1),y=$(v),y&&(y.c(),y.m(u.parentNode,u)));const D={};C&1&&(D.historyItem=v[2]),g.$set(D)},i(v){P||(R(n.$$.fragment,v),R(g.$$.fragment,v),P=!0)},o(v){Y(n.$$.fragment,v),Y(g.$$.fragment,v),P=!1},d(v){v&&f(e),ve(n),v&&f(t),v&&f(o),v&&f(c),y.d(v),v&&f(u),v&&f(i),ve(g)}}}function Wr(r){let e,n,t=r[1]&&Bt(r);return{c(){e=p("div"),t&&t.c()},l(o){e=d(o,"DIV",{});var l=m(e);t&&t.l(l),l.forEach(f)},m(o,l){H(o,e,l),t&&t.m(e,null),n=!0},p(o,[l]){o[1]?t?(t.p(o,l),l&2&&R(t,1)):(t=Bt(o),t.c(),R(t,1),t.m(e,null)):t&&(je(),Y(t,1,1,()=>{t=null}),Ye())},i(o){n||(R(t),n=!0)},o(o){Y(t),n=!1},d(o){o&&f(e),t&&t.d()}}}function Xr(r,e,n){let{history:t}=e,{showMoveHistory:o}=e;return r.$$set=l=>{"history"in l&&n(0,t=l.history),"showMoveHistory"in l&&n(1,o=l.showMoveHistory)},[t,o]}class Ur extends Me{constructor(e){super(),Ie(this,e,Xr,Wr,Ae,{history:0,showMoveHistory:1})}}function zr(r){let e,n;return e=new kt({props:{board:r[0].board,dimensionPx:{width:100,height:100},noLoop:!0}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},p(t,o){const l={};o&1&&(l.board=t[0].board),e.$set(l)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function jr(r){let e,n;return e=new Ur({props:{history:r[0].moveHistory,showMoveHistory:r[1]}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},p(t,o){const l={};o&1&&(l.history=t[0].moveHistory),o&2&&(l.showMoveHistory=t[1]),e.$set(l)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function Yr(r){let e,n,t,o,l,a=r[2](r[0])+"",c,u,i,g=r[1]?"Hide":"Show",_,P,N,$,y,v,C,I;const D=[jr,zr],A=[];function B(M,V){return M[1]?0:1}return $=B(r),y=A[$]=D[$](r),{c(){e=p("div"),n=p("h4"),t=k("Game info"),o=w(),l=p("span"),c=k(a),u=w(),i=p("button"),_=k(g),P=k(" move history"),N=w(),y.c()},l(M){e=d(M,"DIV",{});var V=m(e);n=d(V,"H4",{});var U=m(n);t=E(U,"Game info"),U.forEach(f),o=S(V),l=d(V,"SPAN",{});var K=m(l);c=E(K,a),K.forEach(f),u=S(V),i=d(V,"BUTTON",{});var J=m(i);_=E(J,g),P=E(J," move history"),J.forEach(f),N=S(V),y.l(V),V.forEach(f)},m(M,V){H(M,e,V),s(e,n),s(n,t),s(e,o),s(e,l),s(l,c),s(e,u),s(e,i),s(i,_),s(i,P),s(e,N),A[$].m(e,null),v=!0,C||(I=we(i,"click",r[3]),C=!0)},p(M,[V]){(!v||V&1)&&a!==(a=M[2](M[0])+"")&&_e(c,a),(!v||V&2)&&g!==(g=M[1]?"Hide":"Show")&&_e(_,g);let U=$;$=B(M),$===U?A[$].p(M,V):(je(),Y(A[U],1,1,()=>{A[U]=null}),Ye(),y=A[$],y?y.p(M,V):(y=A[$]=D[$](M),y.c()),R(y,1),y.m(e,null))},i(M){v||(R(y),v=!0)},o(M){Y(y),v=!1},d(M){M&&f(e),A[$].d(),C=!1,I()}}}function Jr(r,e,n){let{game:t}=e,o=!1;const l=c=>!c||!c.state?"N/A":c.state==="not_over"?"Turn: "+(c.currentPlayer===W.player?"Player":"Computer"):c.state==="player_win"?"Player Win":c.state==="computer_win"?"Computer Win":c.state==="draw"?"Draw":c.state==="over"?"Game Over":"Invalid Game",a=()=>n(1,o=!o);return r.$$set=c=>{"game"in c&&n(0,t=c.game)},[t,o,l,a]}class nr extends Me{constructor(e){super(),Ie(this,e,Jr,Yr,Ae,{game:0})}}function Gt(r,e,n){const t=r.slice();return t[13]=e[n],t}function Lt(r){let e,n,t,o;return{c(){e=p("p"),n=k("Restarting in "),t=k(r[1]),o=k(" seconds")},l(l){e=d(l,"P",{});var a=m(e);n=E(a,"Restarting in "),t=E(a,r[1]),o=E(a," seconds"),a.forEach(f)},m(l,a){H(l,e,a),s(e,n),s(e,t),s(e,o)},p(l,a){a&2&&_e(t,l[1])},d(l){l&&f(e)}}}function Dt(r){let e,n=r[13]+"",t,o;return{c(){e=p("option"),t=k(n),o=w(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,n),o=S(a),a.forEach(f),this.h()},h(){e.__value=r[13],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,o)},p:Ne,d(l){l&&f(e)}}}function Vt(r){let e,n,t,o,l,a,c;return n=new kt({props:{board:r[0].board,dimensionPx:{width:400,height:400},onClick:r[3],highlightMouse:!0}}),o=new rr({props:{board:r[0].board}}),a=new nr({props:{game:r[0]}}),{c(){e=p("div"),pe(n.$$.fragment),t=w(),pe(o.$$.fragment),l=w(),pe(a.$$.fragment),this.h()},l(u){e=d(u,"DIV",{class:!0});var i=m(e);de(n.$$.fragment,i),t=S(i),de(o.$$.fragment,i),i.forEach(f),l=S(u),de(a.$$.fragment,u),this.h()},h(){ue(e,"class","grid2colsResponsive svelte-1epiyf5")},m(u,i){H(u,e,i),me(n,e,null),s(e,t),me(o,e,null),H(u,l,i),me(a,u,i),c=!0},p(u,i){const g={};i&1&&(g.board=u[0].board),n.$set(g);const _={};i&1&&(_.board=u[0].board),o.$set(_);const P={};i&1&&(P.game=u[0]),a.$set(P)},i(u){c||(R(n.$$.fragment,u),R(o.$$.fragment,u),R(a.$$.fragment,u),c=!0)},o(u){Y(n.$$.fragment,u),Y(o.$$.fragment,u),Y(a.$$.fragment,u),c=!1},d(u){u&&f(e),ve(n),ve(o),u&&f(l),ve(a,u)}}}function qr(r){let e,n,t,o,l,a,c,u,i,g,_,P,N,$,y,v,C,I,D,A,B,M,V,U,K,J,ae,ie,he,T,Z,le,te,$e,x=r[1]>0&&Lt(r),ce=Object.keys(ze),X=[];for(let G=0;G<ce.length;G+=1)X[G]=Dt(Gt(r,ce,G));let z=r[0].board&&Vt(r);return{c(){e=p("h2"),n=k("Game"),t=w(),o=p("div"),x&&x.c(),l=w(),a=p("label"),c=k("AI type"),u=w(),i=p("select");for(let G=0;G<X.length;G+=1)X[G].c();g=w(),_=p("div"),P=p("span"),N=k("Player automatic move"),$=w(),y=p("ul"),v=p("li"),C=p("button"),I=k("Random move"),D=w(),A=p("li"),B=p("button"),M=k("Hardcoded rules"),V=w(),U=p("li"),K=p("button"),J=k("Complete hardcoded rules"),ae=w(),ie=p("li"),he=p("button"),T=k("minmax"),Z=w(),z&&z.c(),this.h()},l(G){e=d(G,"H2",{});var se=m(e);n=E(se,"Game"),se.forEach(f),t=S(G),o=d(G,"DIV",{});var F=m(o);x&&x.l(F),l=S(F),a=d(F,"LABEL",{for:!0});var ge=m(a);c=E(ge,"AI type"),ge.forEach(f),u=S(F),i=d(F,"SELECT",{id:!0});var re=m(i);for(let b=0;b<X.length;b+=1)X[b].l(re);re.forEach(f),g=S(F),_=d(F,"DIV",{});var be=m(_);P=d(be,"SPAN",{});var ne=m(P);N=E(ne,"Player automatic move"),ne.forEach(f),$=S(be),y=d(be,"UL",{});var fe=m(y);v=d(fe,"LI",{});var ee=m(v);C=d(ee,"BUTTON",{});var Pe=m(C);I=E(Pe,"Random move"),Pe.forEach(f),ee.forEach(f),D=S(fe),A=d(fe,"LI",{});var Ee=m(A);B=d(Ee,"BUTTON",{});var oe=m(B);M=E(oe,"Hardcoded rules"),oe.forEach(f),Ee.forEach(f),V=S(fe),U=d(fe,"LI",{});var O=m(U);K=d(O,"BUTTON",{});var q=m(K);J=E(q,"Complete hardcoded rules"),q.forEach(f),O.forEach(f),ae=S(fe),ie=d(fe,"LI",{});var h=m(ie);he=d(h,"BUTTON",{});var L=m(he);T=E(L,"minmax"),L.forEach(f),h.forEach(f),fe.forEach(f),be.forEach(f),Z=S(F),z&&z.l(F),F.forEach(f),this.h()},h(){ue(a,"for","aiType"),ue(i,"id","aiType"),r[2]===void 0&&tt(()=>r[4].call(i))},m(G,se){H(G,e,se),s(e,n),H(G,t,se),H(G,o,se),x&&x.m(o,null),s(o,l),s(o,a),s(a,c),s(o,u),s(o,i);for(let F=0;F<X.length;F+=1)X[F].m(i,null);Ve(i,r[2]),s(o,g),s(o,_),s(_,P),s(P,N),s(_,$),s(_,y),s(y,v),s(v,C),s(C,I),s(y,D),s(y,A),s(A,B),s(B,M),s(y,V),s(y,U),s(U,K),s(K,J),s(y,ae),s(y,ie),s(ie,he),s(he,T),s(o,Z),z&&z.m(o,null),le=!0,te||($e=[we(i,"change",r[4]),we(C,"click",r[5]),we(B,"click",r[6]),we(K,"click",r[7]),we(he,"click",r[8])],te=!0)},p(G,[se]){if(G[1]>0?x?x.p(G,se):(x=Lt(G),x.c(),x.m(o,l)):x&&(x.d(1),x=null),se&0){ce=Object.keys(ze);let F;for(F=0;F<ce.length;F+=1){const ge=Gt(G,ce,F);X[F]?X[F].p(ge,se):(X[F]=Dt(ge),X[F].c(),X[F].m(i,null))}for(;F<X.length;F+=1)X[F].d(1);X.length=ce.length}se&4&&Ve(i,G[2]),G[0].board?z?(z.p(G,se),se&1&&R(z,1)):(z=Vt(G),z.c(),R(z,1),z.m(o,null)):z&&(je(),Y(z,1,1,()=>{z=null}),Ye())},i(G){le||(R(z),le=!0)},o(G){Y(z),le=!1},d(G){G&&f(e),G&&f(t),G&&f(o),x&&x.d(),Ue(X,G),z&&z.d(),te=!1,vt($e)}}}function Kr(r,e,n){let t,o,l,a="minmax",c=!1;u();function u(){n(0,t=er(c?W.computer:W.player)),c&&Ze(t,W.computer,a),o=t.currentPlayer,c=!c}const i=(v,C)=>{if(o===W.player){if(v==="manual"){if(!C)return;wr(t,W.player,nt(C))}else Ze(t,W.player,v);n(0,t),o=t.currentPlayer,setTimeout(()=>{if(Ze(t,W.computer,a),n(0,t),o=t.currentPlayer,t.state!=="not_over"){n(1,l=4);const I=setInterval(()=>{n(1,l--,l),l===0&&(u(),clearInterval(I))},1e3)}},500)}},g=(v,C)=>{i(v,C)};function _(){a=rt(this),n(2,a)}return[t,l,a,g,_,()=>g("random"),()=>g("hardcodedRules"),()=>g("hardcodedRulesComplete"),()=>g("minmax")]}class Qr extends Me{constructor(e){super(),Ie(this,e,Kr,qr,Ae,{})}}function Rt(r,e,n){const t=r.slice();return t[12]=e[n],t}function Zr(r,e,n){const t=r.slice();return t[15]=e[n],t}function Ft(r,e,n){const t=r.slice();return t[18]=e[n],t}function Wt(r,e,n){const t=r.slice();return t[21]=e[n],t}function Xt(r,e,n){const t=r.slice();return t[21]=e[n],t}function Ut(r){let e,n=r[21]+"",t,o;return{c(){e=p("option"),t=k(n),o=w(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,n),o=S(a),a.forEach(f),this.h()},h(){e.__value=r[21],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,o)},p:Ne,d(l){l&&f(e)}}}function zt(r){let e,n=r[21]+"",t,o;return{c(){e=p("option"),t=k(n),o=w(),this.h()},l(l){e=d(l,"OPTION",{});var a=m(e);t=E(a,n),o=S(a),a.forEach(f),this.h()},h(){e.__value=r[21],e.value=e.__value},m(l,a){H(l,e,a),s(e,t),s(e,o)},p:Ne,d(l){l&&f(e)}}}function xr(r){let e,n;return{c(){e=p("span"),n=k("-")},l(t){e=d(t,"SPAN",{});var o=m(e);n=E(o,"-"),o.forEach(f)},m(t,o){H(t,e,o),s(e,n)},p:Ne,d(t){t&&f(e)}}}function en(r){let e,n=100*r[5][r[18]]/r[5].total+"",t,o;return{c(){e=p("span"),t=k(n),o=k(" %")},l(l){e=d(l,"SPAN",{});var a=m(e);t=E(a,n),o=E(a," %"),a.forEach(f)},m(l,a){H(l,e,a),s(e,t),s(e,o)},p(l,a){a&32&&n!==(n=100*l[5][l[18]]/l[5].total+"")&&_e(t,n)},d(l){l&&f(e)}}}function jt(r){let e,n=r[18]+"",t,o,l,a=r[5][r[18]]+"",c,u,i;function g(N,$){return N[18]!=="total"?en:xr}let _=g(r),P=_(r);return{c(){e=p("span"),t=k(n),o=w(),l=p("span"),c=k(a),u=w(),P.c(),i=qe()},l(N){e=d(N,"SPAN",{});var $=m(e);t=E($,n),$.forEach(f),o=S(N),l=d(N,"SPAN",{});var y=m(l);c=E(y,a),y.forEach(f),u=S(N),P.l(N),i=qe()},m(N,$){H(N,e,$),s(e,t),H(N,o,$),H(N,l,$),s(l,c),H(N,u,$),P.m(N,$),H(N,i,$)},p(N,$){$&32&&n!==(n=N[18]+"")&&_e(t,n),$&32&&a!==(a=N[5][N[18]]+"")&&_e(c,a),_===(_=g(N))&&P?P.p(N,$):(P.d(1),P=_(N),P&&(P.c(),P.m(i.parentNode,i)))},d(N){N&&f(e),N&&f(o),N&&f(l),N&&f(u),P.d(N),N&&f(i)}}}function tn(r){let e,n,t;return{c(){e=p("option"),n=k(r[15]),t=w(),this.h()},l(o){e=d(o,"OPTION",{});var l=m(e);n=E(l,r[15]),t=S(l),l.forEach(f),this.h()},h(){e.__value=r[15],e.value=e.__value},m(o,l){H(o,e,l),s(e,n),s(e,t)},p:Ne,d(o){o&&f(e)}}}function Yt(r){let e,n;return e=new nr({props:{game:r[12]}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},p(t,o){const l={};o&1&&(l.game=t[12]),e.$set(l)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function Jt(r){let e,n,t=(r[3]==="all"||r[3]===r[12].state)&&Yt(r);return{c(){t&&t.c(),e=qe()},l(o){t&&t.l(o),e=qe()},m(o,l){t&&t.m(o,l),H(o,e,l),n=!0},p(o,l){o[3]==="all"||o[3]===o[12].state?t?(t.p(o,l),l&9&&R(t,1)):(t=Yt(o),t.c(),R(t,1),t.m(e.parentNode,e)):t&&(je(),Y(t,1,1,()=>{t=null}),Ye())},i(o){n||(R(t),n=!0)},o(o){Y(t),n=!1},d(o){t&&t.d(o),o&&f(e)}}}function rn(r){let e,n,t,o,l,a,c,u,i,g,_,P,N,$,y,v,C,I,D,A,B,M,V,U,K,J,ae,ie,he,T,Z,le,te,$e,x,ce,X,z,G,se,F,ge=Object.keys(ze),re=[];for(let h=0;h<ge.length;h+=1)re[h]=Ut(Xt(r,ge,h));let be=Object.keys(ze),ne=[];for(let h=0;h<be.length;h+=1)ne[h]=zt(Wt(r,be,h));let fe=Object.keys(r[5]).sort(),ee=[];for(let h=0;h<fe.length;h+=1)ee[h]=jt(Ft(r,fe,h));let Pe=["none","all","player_win","computer_win","draw","over"],Ee=[];for(let h=0;h<6;h+=1)Ee[h]=tn(Zr(r,Pe,h));let oe=r[0],O=[];for(let h=0;h<oe.length;h+=1)O[h]=Jt(Rt(r,oe,h));const q=h=>Y(O[h],1,1,()=>{O[h]=null});return{c(){e=p("div"),n=p("h2"),t=k("Generator"),o=w(),l=p("div"),a=p("label"),c=k("Games to generate"),u=w(),i=p("input"),g=w(),_=p("label"),P=k("Player AI type"),N=w(),$=p("select");for(let h=0;h<re.length;h+=1)re[h].c();y=w(),v=p("label"),C=k("Computer AI type"),I=w(),D=p("select");for(let h=0;h<ne.length;h+=1)ne[h].c();A=w(),B=p("button"),M=k("Create games"),V=w(),U=p("div"),K=p("h3"),J=k("Stats"),ae=w(),ie=p("div");for(let h=0;h<ee.length;h+=1)ee[h].c();he=w(),T=p("div"),Z=p("h3"),le=k("Games"),te=w(),$e=p("label"),x=k("Filter state"),ce=w(),X=p("select");for(let h=0;h<6;h+=1)Ee[h].c();z=w();for(let h=0;h<O.length;h+=1)O[h].c();this.h()},l(h){e=d(h,"DIV",{});var L=m(e);n=d(L,"H2",{});var b=m(n);t=E(b,"Generator"),b.forEach(f),o=S(L),l=d(L,"DIV",{class:!0});var Q=m(l);a=d(Q,"LABEL",{for:!0});var Te=m(a);c=E(Te,"Games to generate"),Te.forEach(f),u=S(Q),i=d(Q,"INPUT",{id:!0,type:!0}),g=S(Q),_=d(Q,"LABEL",{for:!0});var Oe=m(_);P=E(Oe,"Player AI type"),Oe.forEach(f),N=S(Q),$=d(Q,"SELECT",{id:!0});var He=m($);for(let ke=0;ke<re.length;ke+=1)re[ke].l(He);He.forEach(f),y=S(Q),v=d(Q,"LABEL",{for:!0});var Ge=m(v);C=E(Ge,"Computer AI type"),Ge.forEach(f),I=S(Q),D=d(Q,"SELECT",{id:!0});var ye=m(D);for(let ke=0;ke<ne.length;ke+=1)ne[ke].l(ye);ye.forEach(f),A=S(Q),B=d(Q,"BUTTON",{});var Le=m(B);M=E(Le,"Create games"),Le.forEach(f),Q.forEach(f),V=S(L),U=d(L,"DIV",{});var Ce=m(U);K=d(Ce,"H3",{});var Be=m(K);J=E(Be,"Stats"),Be.forEach(f),ae=S(Ce),ie=d(Ce,"DIV",{class:!0});var De=m(ie);for(let ke=0;ke<ee.length;ke+=1)ee[ke].l(De);De.forEach(f),Ce.forEach(f),he=S(L),T=d(L,"DIV",{});var Se=m(T);Z=d(Se,"H3",{});var Qe=m(Z);le=E(Qe,"Games"),Qe.forEach(f),te=S(Se),$e=d(Se,"LABEL",{for:!0});var Et=m($e);x=E(Et,"Filter state"),Et.forEach(f),ce=S(Se),X=d(Se,"SELECT",{id:!0});var yt=m(X);for(let ke=0;ke<6;ke+=1)Ee[ke].l(yt);yt.forEach(f),z=S(Se);for(let ke=0;ke<O.length;ke+=1)O[ke].l(Se);Se.forEach(f),L.forEach(f),this.h()},h(){ue(a,"for","nbGames"),ue(i,"id","nbGames"),ue(i,"type","number"),ue(_,"for","playerAiType"),ue($,"id","playerAiType"),r[1]===void 0&&tt(()=>r[8].call($)),ue(v,"for","computerAiType"),ue(D,"id","computerAiType"),r[2]===void 0&&tt(()=>r[9].call(D)),ue(l,"class","grid2cols svelte-1g8tfkd"),ue(ie,"class","grid3cols svelte-1g8tfkd"),ue($e,"for","stateFilter"),ue(X,"id","stateFilter"),r[3]===void 0&&tt(()=>r[10].call(X))},m(h,L){H(h,e,L),s(e,n),s(n,t),s(e,o),s(e,l),s(l,a),s(a,c),s(l,u),s(l,i),Pt(i,r[4]),s(l,g),s(l,_),s(_,P),s(l,N),s(l,$);for(let b=0;b<re.length;b+=1)re[b].m($,null);Ve($,r[1]),s(l,y),s(l,v),s(v,C),s(l,I),s(l,D);for(let b=0;b<ne.length;b+=1)ne[b].m(D,null);Ve(D,r[2]),s(l,A),s(l,B),s(B,M),s(e,V),s(e,U),s(U,K),s(K,J),s(U,ae),s(U,ie);for(let b=0;b<ee.length;b+=1)ee[b].m(ie,null);s(e,he),s(e,T),s(T,Z),s(Z,le),s(T,te),s(T,$e),s($e,x),s(T,ce),s(T,X);for(let b=0;b<6;b+=1)Ee[b].m(X,null);Ve(X,r[3]),s(T,z);for(let b=0;b<O.length;b+=1)O[b].m(T,null);G=!0,se||(F=[we(i,"input",r[7]),we($,"change",r[8]),we(D,"change",r[9]),we(B,"click",r[6]),we(X,"change",r[10])],se=!0)},p(h,[L]){if(L&16&&Kt(i.value)!==h[4]&&Pt(i,h[4]),L&0){ge=Object.keys(ze);let b;for(b=0;b<ge.length;b+=1){const Q=Xt(h,ge,b);re[b]?re[b].p(Q,L):(re[b]=Ut(Q),re[b].c(),re[b].m($,null))}for(;b<re.length;b+=1)re[b].d(1);re.length=ge.length}if(L&2&&Ve($,h[1]),L&0){be=Object.keys(ze);let b;for(b=0;b<be.length;b+=1){const Q=Wt(h,be,b);ne[b]?ne[b].p(Q,L):(ne[b]=zt(Q),ne[b].c(),ne[b].m(D,null))}for(;b<ne.length;b+=1)ne[b].d(1);ne.length=be.length}if(L&4&&Ve(D,h[2]),L&32){fe=Object.keys(h[5]).sort();let b;for(b=0;b<fe.length;b+=1){const Q=Ft(h,fe,b);ee[b]?ee[b].p(Q,L):(ee[b]=jt(Q),ee[b].c(),ee[b].m(ie,null))}for(;b<ee.length;b+=1)ee[b].d(1);ee.length=fe.length}if(L&8&&Ve(X,h[3]),L&9){oe=h[0];let b;for(b=0;b<oe.length;b+=1){const Q=Rt(h,oe,b);O[b]?(O[b].p(Q,L),R(O[b],1)):(O[b]=Jt(Q),O[b].c(),R(O[b],1),O[b].m(T,null))}for(je(),b=oe.length;b<O.length;b+=1)q(b);Ye()}},i(h){if(!G){for(let L=0;L<oe.length;L+=1)R(O[L]);G=!0}},o(h){O=O.filter(Boolean);for(let L=0;L<O.length;L+=1)Y(O[L]);G=!1},d(h){h&&f(e),Ue(re,h),Ue(ne,h),Ue(ee,h),Ue(Ee,h),Ue(O,h),se=!1,vt(F)}}}function nn(r,e,n){let t=[],o="random",l="hardcodedRulesComplete",a="none",c=10;const u=()=>{const y=er();for(;y.state==="not_over";)Ze(y,W.player,o),Ze(y,W.computer,l);return y};let i={total:0};const g=()=>{n(0,t=[]),n(5,i={total:0}),or(c,(y,v)=>{setTimeout(()=>{const C=u();return n(0,t=[C,...t]),i[C.state]||n(5,i[C.state]=0,i),n(5,i[C.state]+=1,i),n(5,i.total+=1,i),v()},0)})};function _(){c=Kt(this.value),n(4,c)}function P(){o=rt(this),n(1,o)}function N(){l=rt(this),n(2,l)}function $(){a=rt(this),n(3,a)}return[t,o,l,a,c,i,g,_,P,N,$]}class on extends Me{constructor(e){super(),Ie(this,e,nn,rn,Ae,{})}}function ln(r){let e,n,t,o,l,a,c,u,i,g,_,P,N,$,y,v,C,I,D,A,B,M,V,U,K,J,ae,ie,he;return l=new Qt({props:{sketch:r[5]}}),J=new rr({props:{board:r[1]}}),{c(){e=p("h2"),n=k("Analyzer"),t=w(),o=p("div"),pe(l.$$.fragment),a=w(),c=p("div"),u=p("h4"),i=k("Controls"),g=w(),_=p("button"),P=k("Play O"),$=w(),y=p("button"),v=k("Play X"),I=w(),D=p("button"),A=k("Previous"),M=w(),V=p("button"),U=k("Reset"),K=w(),pe(J.$$.fragment),this.h()},l(T){e=d(T,"H2",{});var Z=m(e);n=E(Z,"Analyzer"),Z.forEach(f),t=S(T),o=d(T,"DIV",{});var le=m(o);de(l.$$.fragment,le),a=S(le),c=d(le,"DIV",{});var te=m(c);u=d(te,"H4",{});var $e=m(u);i=E($e,"Controls"),$e.forEach(f),g=S(te),_=d(te,"BUTTON",{});var x=m(_);P=E(x,"Play O"),x.forEach(f),$=S(te),y=d(te,"BUTTON",{});var ce=m(y);v=E(ce,"Play X"),ce.forEach(f),I=S(te),D=d(te,"BUTTON",{});var X=m(D);A=E(X,"Previous"),X.forEach(f),M=S(te),V=d(te,"BUTTON",{});var z=m(V);U=E(z,"Reset"),z.forEach(f),te.forEach(f),K=S(le),de(J.$$.fragment,le),le.forEach(f),this.h()},h(){_.disabled=N=r[2]===W.player,y.disabled=C=r[2]===W.computer,D.disabled=B=(r[0]||[]).length<2},m(T,Z){H(T,e,Z),s(e,n),H(T,t,Z),H(T,o,Z),me(l,o,null),s(o,a),s(o,c),s(c,u),s(u,i),s(c,g),s(c,_),s(_,P),s(c,$),s(c,y),s(y,v),s(c,I),s(c,D),s(D,A),s(c,M),s(c,V),s(V,U),s(o,K),me(J,o,null),ae=!0,ie||(he=[we(_,"click",r[6]),we(y,"click",r[7]),we(D,"click",r[4]),we(V,"click",r[3])],ie=!0)},p(T,[Z]){(!ae||Z&4&&N!==(N=T[2]===W.player))&&(_.disabled=N),(!ae||Z&4&&C!==(C=T[2]===W.computer))&&(y.disabled=C),(!ae||Z&1&&B!==(B=(T[0]||[]).length<2))&&(D.disabled=B);const le={};Z&2&&(le.board=T[1]),J.$set(le)},i(T){ae||(R(l.$$.fragment,T),R(J.$$.fragment,T),ae=!0)},o(T){Y(l.$$.fragment,T),Y(J.$$.fragment,T),ae=!1},d(T){T&&f(e),T&&f(t),T&&f(o),ve(l),ve(J),ie=!1,vt(he)}}}function sn(r,e,n){let t,o,l,a=W.player;function c($,y){Ke(l,$,nt(y)),n(1,l),o.push({...l}),n(0,o),u()}function u(){n(2,a=a===W.player?W.computer:W.player)}function i(){n(1,l=Zt()),n(0,o=[{...l}])}function g(){o.length<=1||(o.pop(),n(0,o),n(1,l={...o[o.length-1]}))}const _=$=>{$.setup=()=>{t=$,$.createCanvas(400,400),i()},$.draw=()=>{$.background(0),mt($,l,{drawSelection:!0,selection:at($),currentPlayer:a})},$.mousePressed=()=>{if($.mouseX<0||$.mouseX>$.width||$.mouseY<0||$.mouseY>$.height)return;const y=at($);c(a,y)}};return qt(()=>{t==null||t.remove()}),[o,l,a,i,g,_,()=>n(2,a=W.player),()=>n(2,a=W.computer)]}class an extends Me{constructor(e){super(),Ie(this,e,sn,ln,Ae,{})}}function cn(r){let e;return{c(){e=k("Game")},l(n){e=E(n,"Game")},m(n,t){H(n,e,t)},d(n){n&&f(e)}}}function fn(r){let e;return{c(){e=k("Generator")},l(n){e=E(n,"Generator")},m(n,t){H(n,e,t)},d(n){n&&f(e)}}}function un(r){let e;return{c(){e=k("Analyzer")},l(n){e=E(n,"Analyzer")},m(n,t){H(n,e,t)},d(n){n&&f(e)}}}function hn(r){let e,n,t,o,l,a;return e=new ft({props:{$$slots:{default:[cn]},$$scope:{ctx:r}}}),t=new ft({props:{$$slots:{default:[fn]},$$scope:{ctx:r}}}),l=new ft({props:{$$slots:{default:[un]},$$scope:{ctx:r}}}),{c(){pe(e.$$.fragment),n=w(),pe(t.$$.fragment),o=w(),pe(l.$$.fragment)},l(c){de(e.$$.fragment,c),n=S(c),de(t.$$.fragment,c),o=S(c),de(l.$$.fragment,c)},m(c,u){me(e,c,u),H(c,n,u),me(t,c,u),H(c,o,u),me(l,c,u),a=!0},p(c,u){const i={};u&1&&(i.$$scope={dirty:u,ctx:c}),e.$set(i);const g={};u&1&&(g.$$scope={dirty:u,ctx:c}),t.$set(g);const _={};u&1&&(_.$$scope={dirty:u,ctx:c}),l.$set(_)},i(c){a||(R(e.$$.fragment,c),R(t.$$.fragment,c),R(l.$$.fragment,c),a=!0)},o(c){Y(e.$$.fragment,c),Y(t.$$.fragment,c),Y(l.$$.fragment,c),a=!1},d(c){ve(e,c),c&&f(n),ve(t,c),c&&f(o),ve(l,c)}}}function _n(r){let e,n;return e=new Qr({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function pn(r){let e,n;return e=new on({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function dn(r){let e,n;return e=new an({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function mn(r){let e,n,t,o,l,a,c,u;return e=new sr({props:{$$slots:{default:[hn]},$$scope:{ctx:r}}}),t=new ct({props:{$$slots:{default:[_n]},$$scope:{ctx:r}}}),l=new ct({props:{$$slots:{default:[pn]},$$scope:{ctx:r}}}),c=new ct({props:{$$slots:{default:[dn]},$$scope:{ctx:r}}}),{c(){pe(e.$$.fragment),n=w(),pe(t.$$.fragment),o=w(),pe(l.$$.fragment),a=w(),pe(c.$$.fragment)},l(i){de(e.$$.fragment,i),n=S(i),de(t.$$.fragment,i),o=S(i),de(l.$$.fragment,i),a=S(i),de(c.$$.fragment,i)},m(i,g){me(e,i,g),H(i,n,g),me(t,i,g),H(i,o,g),me(l,i,g),H(i,a,g),me(c,i,g),u=!0},p(i,g){const _={};g&1&&(_.$$scope={dirty:g,ctx:i}),e.$set(_);const P={};g&1&&(P.$$scope={dirty:g,ctx:i}),t.$set(P);const N={};g&1&&(N.$$scope={dirty:g,ctx:i}),l.$set(N);const $={};g&1&&($.$$scope={dirty:g,ctx:i}),c.$set($)},i(i){u||(R(e.$$.fragment,i),R(t.$$.fragment,i),R(l.$$.fragment,i),R(c.$$.fragment,i),u=!0)},o(i){Y(e.$$.fragment,i),Y(t.$$.fragment,i),Y(l.$$.fragment,i),Y(c.$$.fragment,i),u=!1},d(i){ve(e,i),i&&f(n),ve(t,i),i&&f(o),ve(l,i),i&&f(a),ve(c,i)}}}function vn(r){let e,n;return e=new lr({props:{$$slots:{default:[mn]},$$scope:{ctx:r}}}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},p(t,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}class gn extends Me{constructor(e){super(),Ie(this,e,null,vn,Ae,{})}}function $n(r){let e,n;return e=new gn({}),{c(){pe(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,o){me(e,t,o),n=!0},p:Ne,i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}class yn extends Me{constructor(e){super(),Ie(this,e,null,$n,Ae,{})}}export{yn as default};
