import{S as ne,i as le,s as re,C as Ce,k as b,l as v,m as g,h as p,n as D,b as C,N as pe,E as De,F as Oe,G as Me,f as O,t as R,H as de,a0 as Ct,o as Pt,j as Dt,W as Ke,I as pt,a1 as Et,A as Ot,$ as Mt,g as Vt,d as Rt,q as y,a as S,r as w,c as A,D as f,B as Le,u as Z,w as U,x as L,y as Y,z as q,P as Xt}from"../../../chunks/index-1d785069.js";import{w as Pe}from"../../../chunks/index-c5a64178.js";import{P as kt}from"../../../chunks/P5-76a6b36f.js";let Wt=1;function St(){return`svelte-tabs-${Wt++}`}function Gt(t){let e,r,n,l;const s=t[4].default,o=Ce(s,t,t[3],null);return{c(){e=b("div"),o&&o.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var i=g(e);o&&o.l(i),i.forEach(p),this.h()},h(){D(e,"class","svelte-tabs")},m(a,i){C(a,e,i),o&&o.m(e,null),r=!0,n||(l=pe(e,"keydown",t[1]),n=!0)},p(a,[i]){o&&o.p&&(!r||i&8)&&De(o,s,a,a[3],r?Me(s,a[3],i,null):Oe(a[3]),null)},i(a){r||(O(o,a),r=!0)},o(a){R(o,a),r=!1},d(a){a&&p(e),o&&o.d(a),n=!1,l()}}}const Qe={};function Ht(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(l=>l===e?t[n]||t[t.length-1]:l)}function zt(t,e,r){let n,{$$slots:l={},$$scope:s}=e,{initialSelectedIndex:o=0}=e;const a=[],i=[],m=[],$=Pe({}),h=Pe({}),P=Pe(null);de(t,P,c=>r(5,n=c));const B=Pe(null);function u(c,_,I){c.push(_),I.update(M=>M||_),Ke(()=>Ht(c,_,I))}function d(c){const _=i.indexOf(c);P.set(c),B.set(m[_])}Ct(Qe,{registerTab(c){u(i,c,P)},registerTabElement(c){a.push(c)},registerPanel(c){u(m,c,B)},selectTab:d,selectedTab:P,selectedPanel:B,controls:$,labeledBy:h}),Pt(()=>{d(i[o])}),Dt(()=>{for(let c=0;c<i.length;c++)$.update(_=>({..._,[i[c].id]:m[c].id})),h.update(_=>({..._,[m[c].id]:i[c].id}))});async function k(c){if(c.target.classList.contains("svelte-tabs__tab")){let _=i.indexOf(n);switch(c.key){case"ArrowRight":_+=1,_>i.length-1&&(_=0),d(i[_]),a[_].focus();break;case"ArrowLeft":_-=1,_<0&&(_=i.length-1),d(i[_]),a[_].focus()}}}return t.$$set=c=>{"initialSelectedIndex"in c&&r(2,o=c.initialSelectedIndex),"$$scope"in c&&r(3,s=c.$$scope)},[P,k,o,s,l]}class Ft extends ne{constructor(e){super(),le(this,e,zt,Gt,re,{initialSelectedIndex:2})}}function Ut(t){let e,r,n,l,s,o;const a=t[9].default,i=Ce(a,t,t[8],null);return{c(){e=b("li"),i&&i.c(),this.h()},l(m){e=v(m,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var $=g(e);i&&i.l($),$.forEach(p),this.h()},h(){D(e,"role","tab"),D(e,"id",t[3].id),D(e,"aria-controls",r=t[2][t[3].id]),D(e,"aria-selected",t[1]),D(e,"tabindex",n=t[1]?0:-1),D(e,"class","svelte-tabs__tab svelte-1fbofsd"),pt(e,"svelte-tabs__selected",t[1])},m(m,$){C(m,e,$),i&&i.m(e,null),t[10](e),l=!0,s||(o=pe(e,"click",t[11]),s=!0)},p(m,[$]){i&&i.p&&(!l||$&256)&&De(i,a,m,m[8],l?Me(a,m[8],$,null):Oe(m[8]),null),(!l||$&4&&r!==(r=m[2][m[3].id]))&&D(e,"aria-controls",r),(!l||$&2)&&D(e,"aria-selected",m[1]),(!l||$&2&&n!==(n=m[1]?0:-1))&&D(e,"tabindex",n),(!l||$&2)&&pt(e,"svelte-tabs__selected",m[1])},i(m){l||(O(i,m),l=!0)},o(m){R(i,m),l=!1},d(m){m&&p(e),i&&i.d(m),t[10](null),s=!1,o()}}}function Lt(t,e,r){let n,l,{$$slots:s={},$$scope:o}=e,a;const i={id:St()},{registerTab:m,registerTabElement:$,selectTab:h,selectedTab:P,controls:B}=Et(Qe);de(t,P,c=>r(7,n=c)),de(t,B,c=>r(2,l=c));let u;m(i),Pt(async()=>{await Ot(),$(a)});function d(c){Mt[c?"unshift":"push"](()=>{a=c,r(0,a)})}const k=()=>h(i);return t.$$set=c=>{"$$scope"in c&&r(8,o=c.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,u=n===i)},[a,u,l,i,h,P,B,n,o,s,d,k]}class dt extends ne{constructor(e){super(),le(this,e,Lt,Ut,re,{})}}function Yt(t){let e,r;const n=t[1].default,l=Ce(n,t,t[0],null);return{c(){e=b("ul"),l&&l.c(),this.h()},l(s){e=v(s,"UL",{role:!0,class:!0});var o=g(e);l&&l.l(o),o.forEach(p),this.h()},h(){D(e,"role","tablist"),D(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(s,o){C(s,e,o),l&&l.m(e,null),r=!0},p(s,[o]){l&&l.p&&(!r||o&1)&&De(l,n,s,s[0],r?Me(n,s[0],o,null):Oe(s[0]),null)},i(s){r||(O(l,s),r=!0)},o(s){R(l,s),r=!1},d(s){s&&p(e),l&&l.d(s)}}}function qt(t,e,r){let{$$slots:n={},$$scope:l}=e;return t.$$set=s=>{"$$scope"in s&&r(0,l=s.$$scope)},[l,n]}class jt extends ne{constructor(e){super(),le(this,e,qt,Yt,re,{})}}function mt(t){let e;const r=t[6].default,n=Ce(r,t,t[5],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&De(n,r,l,l[5],e?Me(r,l[5],s,null):Oe(l[5]),null)},i(l){e||(O(n,l),e=!0)},o(l){R(n,l),e=!1},d(l){n&&n.d(l)}}}function Jt(t){let e,r,n,l=t[1]===t[2]&&mt(t);return{c(){e=b("div"),l&&l.c(),this.h()},l(s){e=v(s,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var o=g(e);l&&l.l(o),o.forEach(p),this.h()},h(){D(e,"id",t[2].id),D(e,"aria-labelledby",r=t[0][t[2].id]),D(e,"class","svelte-tabs__tab-panel svelte-epfyet"),D(e,"role","tabpanel")},m(s,o){C(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){s[1]===s[2]?l?(l.p(s,o),o&2&&O(l,1)):(l=mt(s),l.c(),O(l,1),l.m(e,null)):l&&(Vt(),R(l,1,1,()=>{l=null}),Rt()),(!n||o&1&&r!==(r=s[0][s[2].id]))&&D(e,"aria-labelledby",r)},i(s){n||(O(l),n=!0)},o(s){R(l),n=!1},d(s){s&&p(e),l&&l.d()}}}function Kt(t,e,r){let n,l,{$$slots:s={},$$scope:o}=e;const a={id:St()},{registerPanel:i,selectedPanel:m,labeledBy:$}=Et(Qe);return de(t,m,h=>r(1,l=h)),de(t,$,h=>r(0,n=h)),i(a),t.$$set=h=>{"$$scope"in h&&r(5,o=h.$$scope)},[n,l,a,m,$,o,s]}class _t extends ne{constructor(e){super(),le(this,e,Kt,Jt,re,{})}}function At(t){const{x:e,y:r}=t;if(e<0||e>2||r<0||r>2)throw new Error(`Invalid coords (${e},${r})`);return 8-(3*r+e)}function Qt(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const Zt=[448,56,7,292,146,73,273,84],xt=[{p:256,o:192},{p:32,o:24},{p:4,o:3},{p:128,o:320},{p:16,o:40},{p:2,o:5},{p:64,o:384},{p:8,o:48},{p:1,o:6},{p:256,o:36},{p:128,o:18},{p:64,o:9},{p:32,o:260},{p:16,o:130},{p:8,o:65},{p:4,o:288},{p:2,o:144},{p:1,o:72},{p:256,o:17},{p:16,o:257},{p:1,o:272},{p:64,o:20},{p:16,o:68},{p:4,o:80}],Ye=(t,e)=>(t&e)===e;function $t(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function Be(t,e){const r=At(e);return!(t&1<<r)}function ht(t,e){const r=At(e);return t+2**r}const qe=t=>{for(const e of Zt)if(Ye(t,e))return!0;return!1};var E=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(E||{});function It(){return{player:0,computer:0}}function Tt(t,e){return e===E.player?t.player:t.computer}function en(t,e){return e===E.player?t.computer:t.player}function Ee(t,e){if(!e&&!tn(t))return"invalid_board";const r=qe(t.player),n=qe(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":ln(t)?"not_over":"over"}function je(t,e,r){if(!nn(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, ${JSON.stringify(r)} `);e===E.player?t.player=ht(t.player,r):t.computer=ht(t.computer,r)}function tn(t){if(t.player&t.computer)return!1;const e=$t(t.player),r=$t(t.computer);return!(Math.abs(e-r)>1)}function nn(t,e){return Be(t.player,e)&&Be(t.computer,e)}function ln(t){return(t.player|t.computer)!==511}function rn(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}function Nt(t,e,r){const n=t.width/3,l=t.height/3,{height:s,width:o}=t,{drawSelection:a,selection:i,currentPlayer:m}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,s),t.line(n*2,0,n*2,s),t.line(0,l,o,l),t.line(0,l*2,o,l*2);for(let $=0;$<3;$++)for(let h=0;h<3;h++)(!Be(e.player,{x:h,y:$})||a&&m===E.player&&(i==null?void 0:i.x)===h&&(i==null?void 0:i.y)===$)&&(t.stroke("blue"),t.circle(h*n+n/2,$*l+l/2,l/2)),(!Be(e.computer,{x:h,y:$})||a&&m===E.computer&&(i==null?void 0:i.x)===h&&(i==null?void 0:i.y)===$)&&(t.stroke("red"),t.line(h*n+n*.3,$*l+l*.3,h*n+n*.7,$*l+l*.7),t.line(h*n+n*.7,$*l+l*.3,h*n+n*.3,$*l+l*.7))}function Je(t){const{mouseX:e,mouseY:r,width:n,height:l}=t,s=Math.floor(t.map(e,0,n,0,3)),o=Math.floor(t.map(r,0,l,0,3));return{x:s,y:o}}function sn(t){const e=rn(t);if(e.length===0)throw new Error("No available moves");const r=Math.floor(Math.random()*e.length),n=e[r];return Qt(n)}function Te(t,e){const r=Tt(t,e);return qe(r)}function Ne(t,e){const r=Tt(t,e),n=en(t,e);for(const{o:l,p:s}of xt)if(Ye(r,s)&&Ye(n,l))return!0;return!1}function bt(t){let e,r,n,l,s,o=Ee(t[0])+"",a,i,m,$,h,P,B,u,d,k,c,_=t[0].player.toString(2).padStart(9,"0")+"",I,M,V,x=t[0].player+"",J,oe,ee,j,z,te=Te(t[0],E.player)?"✅":"❌",ie,T,W,F,H,se,ae=Ne(t[0],E.player)?"✅":"❌",fe,ue,X,ce,Ve,me=t[0].computer.toString(2).padStart(9,"0")+"",ke,Re,_e,$e=t[0].computer+"",Se,Xe,he,We,be,ve=Te(t[0],E.computer)?"✅":"❌",Ae,Ge,ge,He,ze,ye,we=Ne(t[0],E.computer)?"✅":"❌",Ie;return{c(){e=b("div"),r=b("span"),n=y("State:"),l=S(),s=b("span"),a=y(o),i=S(),m=b("span"),$=y("Player 1 (player, O)"),h=S(),P=b("span"),B=y("Player 2 (computer, X)"),u=S(),d=b("div"),k=b("span"),c=y("0b"),I=y(_),M=S(),V=b("span"),J=y(x),oe=S(),ee=b("span"),j=y("Wins"),z=b("span"),ie=y(te),T=S(),W=b("span"),F=y("Blocks opponent"),H=S(),se=b("span"),fe=y(ae),ue=S(),X=b("div"),ce=b("span"),Ve=y("0b"),ke=y(me),Re=S(),_e=b("span"),Se=y($e),Xe=S(),he=b("span"),We=y("Wins"),be=b("span"),Ae=y(ve),Ge=S(),ge=b("span"),He=y("Blocks opponent"),ze=S(),ye=b("span"),Ie=y(we),this.h()},l(G){e=v(G,"DIV",{class:!0});var N=g(e);r=v(N,"SPAN",{});var Ze=g(r);n=w(Ze,"State:"),Ze.forEach(p),l=A(N),s=v(N,"SPAN",{});var xe=g(s);a=w(xe,o),xe.forEach(p),i=A(N),m=v(N,"SPAN",{});var et=g(m);$=w(et,"Player 1 (player, O)"),et.forEach(p),h=A(N),P=v(N,"SPAN",{});var tt=g(P);B=w(tt,"Player 2 (computer, X)"),tt.forEach(p),u=A(N),d=v(N,"DIV",{class:!0});var K=g(d);k=v(K,"SPAN",{});var Fe=g(k);c=w(Fe,"0b"),I=w(Fe,_),Fe.forEach(p),M=A(K),V=v(K,"SPAN",{});var nt=g(V);J=w(nt,x),nt.forEach(p),oe=A(K),ee=v(K,"SPAN",{});var lt=g(ee);j=w(lt,"Wins"),lt.forEach(p),z=v(K,"SPAN",{});var rt=g(z);ie=w(rt,te),rt.forEach(p),T=A(K),W=v(K,"SPAN",{});var st=g(W);F=w(st,"Blocks opponent"),st.forEach(p),H=A(K),se=v(K,"SPAN",{});var at=g(se);fe=w(at,ae),at.forEach(p),K.forEach(p),ue=A(N),X=v(N,"DIV",{class:!0});var Q=g(X);ce=v(Q,"SPAN",{});var Ue=g(ce);Ve=w(Ue,"0b"),ke=w(Ue,me),Ue.forEach(p),Re=A(Q),_e=v(Q,"SPAN",{});var ot=g(_e);Se=w(ot,$e),ot.forEach(p),Xe=A(Q),he=v(Q,"SPAN",{});var it=g(he);We=w(it,"Wins"),it.forEach(p),be=v(Q,"SPAN",{});var ft=g(be);Ae=w(ft,ve),ft.forEach(p),Ge=A(Q),ge=v(Q,"SPAN",{});var ut=g(ge);He=w(ut,"Blocks opponent"),ut.forEach(p),ze=A(Q),ye=v(Q,"SPAN",{});var ct=g(ye);Ie=w(ct,we),ct.forEach(p),Q.forEach(p),N.forEach(p),this.h()},h(){D(d,"class","grid2cols svelte-1lw5ne4"),D(X,"class","grid2cols svelte-1lw5ne4"),D(e,"class","grid2cols svelte-1lw5ne4")},m(G,N){C(G,e,N),f(e,r),f(r,n),f(e,l),f(e,s),f(s,a),f(e,i),f(e,m),f(m,$),f(e,h),f(e,P),f(P,B),f(e,u),f(e,d),f(d,k),f(k,c),f(k,I),f(d,M),f(d,V),f(V,J),f(d,oe),f(d,ee),f(ee,j),f(d,z),f(z,ie),f(d,T),f(d,W),f(W,F),f(d,H),f(d,se),f(se,fe),f(e,ue),f(e,X),f(X,ce),f(ce,Ve),f(ce,ke),f(X,Re),f(X,_e),f(_e,Se),f(X,Xe),f(X,he),f(he,We),f(X,be),f(be,Ae),f(X,Ge),f(X,ge),f(ge,He),f(X,ze),f(X,ye),f(ye,Ie)},p(G,N){N&1&&o!==(o=Ee(G[0])+"")&&Z(a,o),N&1&&_!==(_=G[0].player.toString(2).padStart(9,"0")+"")&&Z(I,_),N&1&&x!==(x=G[0].player+"")&&Z(J,x),N&1&&te!==(te=Te(G[0],E.player)?"✅":"❌")&&Z(ie,te),N&1&&ae!==(ae=Ne(G[0],E.player)?"✅":"❌")&&Z(fe,ae),N&1&&me!==(me=G[0].computer.toString(2).padStart(9,"0")+"")&&Z(ke,me),N&1&&$e!==($e=G[0].computer+"")&&Z(Se,$e),N&1&&ve!==(ve=Te(G[0],E.computer)?"✅":"❌")&&Z(Ae,ve),N&1&&we!==(we=Ne(G[0],E.computer)?"✅":"❌")&&Z(Ie,we)},d(G){G&&p(e)}}}function an(t){let e,r,n,l,s=t[0]&&bt(t);return{c(){e=b("div"),r=b("h4"),n=y("Board info"),l=S(),s&&s.c()},l(o){e=v(o,"DIV",{});var a=g(e);r=v(a,"H4",{});var i=g(r);n=w(i,"Board info"),i.forEach(p),l=A(a),s&&s.l(a),a.forEach(p)},m(o,a){C(o,e,a),f(e,r),f(r,n),f(e,l),s&&s.m(e,null)},p(o,[a]){o[0]?s?s.p(o,a):(s=bt(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Le,o:Le,d(o){o&&p(e),s&&s.d()}}}function on(t,e,r){let{board:n}=e;return t.$$set=l=>{"board"in l&&r(0,n=l.board)},[n]}class Bt extends ne{constructor(e){super(),le(this,e,on,an,re,{board:0})}}function vt(t){let e,r;return{c(){e=b("span"),r=y("Player wins!")},l(n){e=v(n,"SPAN",{});var l=g(e);r=w(l,"Player wins!"),l.forEach(p)},m(n,l){C(n,e,l),f(e,r)},d(n){n&&p(e)}}}function gt(t){let e,r;return{c(){e=b("span"),r=y("Computer wins!")},l(n){e=v(n,"SPAN",{});var l=g(e);r=w(l,"Computer wins!"),l.forEach(p)},m(n,l){C(n,e,l),f(e,r)},d(n){n&&p(e)}}}function yt(t){let e,r;return{c(){e=b("span"),r=y("Draw")},l(n){e=v(n,"SPAN",{});var l=g(e);r=w(l,"Draw"),l.forEach(p)},m(n,l){C(n,e,l),f(e,r)},d(n){n&&p(e)}}}function wt(t){let e,r,n,l;return{c(){e=b("span"),r=y("Restarting in "),n=y(t[1]),l=y(" seconds")},l(s){e=v(s,"SPAN",{});var o=g(e);r=w(o,"Restarting in "),n=w(o,t[1]),l=w(o," seconds"),o.forEach(p)},m(s,o){C(s,e,o),f(e,r),f(e,n),f(e,l)},p(s,o){o&2&&Z(n,s[1])},d(s){s&&p(e)}}}function fn(t){let e,r,n,l,s,o,a,i,m,$,h,P,B;s=new kt({props:{sketch:t[4]}});let u=t[2]==="player_win"&&vt(),d=t[2]==="computer_win"&&gt(),k=t[2]==="draw"&&yt(),c=t[1]>0&&wt(t);return P=new Bt({props:{board:t[0]}}),{c(){e=b("h2"),r=y("Game"),n=S(),l=b("div"),U(s.$$.fragment),o=S(),a=b("div"),u&&u.c(),i=S(),d&&d.c(),m=S(),k&&k.c(),$=S(),c&&c.c(),h=S(),U(P.$$.fragment)},l(_){e=v(_,"H2",{});var I=g(e);r=w(I,"Game"),I.forEach(p),n=A(_),l=v(_,"DIV",{});var M=g(l);L(s.$$.fragment,M),o=A(M),a=v(M,"DIV",{});var V=g(a);u&&u.l(V),i=A(V),d&&d.l(V),m=A(V),k&&k.l(V),$=A(V),c&&c.l(V),V.forEach(p),h=A(M),L(P.$$.fragment,M),M.forEach(p)},m(_,I){C(_,e,I),f(e,r),C(_,n,I),C(_,l,I),Y(s,l,null),f(l,o),f(l,a),u&&u.m(a,null),f(a,i),d&&d.m(a,null),f(a,m),k&&k.m(a,null),f(a,$),c&&c.m(a,null),f(l,h),Y(P,l,null),B=!0},p(_,[I]){_[2]==="player_win"?u||(u=vt(),u.c(),u.m(a,i)):u&&(u.d(1),u=null),_[2]==="computer_win"?d||(d=gt(),d.c(),d.m(a,m)):d&&(d.d(1),d=null),_[2]==="draw"?k||(k=yt(),k.c(),k.m(a,$)):k&&(k.d(1),k=null),_[1]>0?c?c.p(_,I):(c=wt(_),c.c(),c.m(a,null)):c&&(c.d(1),c=null);const M={};I&1&&(M.board=_[0]),P.$set(M)},i(_){B||(O(s.$$.fragment,_),O(P.$$.fragment,_),B=!0)},o(_){R(s.$$.fragment,_),R(P.$$.fragment,_),B=!1},d(_){_&&p(e),_&&p(n),_&&p(l),q(s),u&&u.d(),d&&d.d(),k&&k.d(),c&&c.d(),q(P)}}}function un(t,e,r){let n,l,s,o;const a=Pe();de(t,a,u=>r(2,n=u));let i=0;function m(u,d){n==="not_over"&&(je(s,u,d),r(0,s),a.set(Ee(s)),h())}function $(u){n==="not_over"&&setTimeout(()=>{const d=sn(s);je(s,u,d),r(0,s),a.set(Ee(s)),h()},500)}function h(){o=o===E.player?E.computer:E.player}function P(){r(0,s=It()),o=E.player,a.set(Ee(s))}const B=u=>{u.setup=()=>{l=u,u.createCanvas(400,400),P()},u.draw=()=>{u.background(0),Nt(u,s)},u.mousePressed=()=>{if(!(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)&&o===E.player){const d=Je(u);m(E.player,d),$(E.computer)}}};return a.subscribe(u=>{if(!u||u==="not_over")return;r(1,i=4);const d=setInterval(()=>{r(1,i--,i),i===0&&(P(),clearInterval(d))},1e3)}),Ke(()=>{l==null||l.remove()}),[s,i,n,a,B]}class cn extends ne{constructor(e){super(),le(this,e,un,fn,re,{})}}function pn(t){let e,r,n,l,s,o,a,i,m,$,h,P,B,u,d,k,c,_,I,M,V,x,J,oe,ee,j,z,te,ie;return s=new kt({props:{sketch:t[5]}}),j=new Bt({props:{board:t[1]}}),{c(){e=b("h2"),r=y("Analyzer"),n=S(),l=b("div"),U(s.$$.fragment),o=S(),a=b("div"),i=b("h4"),m=y("Controls"),$=S(),h=b("button"),P=y("Play O"),u=S(),d=b("button"),k=y("Play X"),_=S(),I=b("button"),M=y("Previous"),x=S(),J=b("button"),oe=y("Reset"),ee=S(),U(j.$$.fragment),this.h()},l(T){e=v(T,"H2",{});var W=g(e);r=w(W,"Analyzer"),W.forEach(p),n=A(T),l=v(T,"DIV",{});var F=g(l);L(s.$$.fragment,F),o=A(F),a=v(F,"DIV",{});var H=g(a);i=v(H,"H4",{});var se=g(i);m=w(se,"Controls"),se.forEach(p),$=A(H),h=v(H,"BUTTON",{});var ae=g(h);P=w(ae,"Play O"),ae.forEach(p),u=A(H),d=v(H,"BUTTON",{});var fe=g(d);k=w(fe,"Play X"),fe.forEach(p),_=A(H),I=v(H,"BUTTON",{});var ue=g(I);M=w(ue,"Previous"),ue.forEach(p),x=A(H),J=v(H,"BUTTON",{});var X=g(J);oe=w(X,"Reset"),X.forEach(p),H.forEach(p),ee=A(F),L(j.$$.fragment,F),F.forEach(p),this.h()},h(){h.disabled=B=t[2]===E.player,d.disabled=c=t[2]===E.computer,I.disabled=V=(t[0]||[]).length<2},m(T,W){C(T,e,W),f(e,r),C(T,n,W),C(T,l,W),Y(s,l,null),f(l,o),f(l,a),f(a,i),f(i,m),f(a,$),f(a,h),f(h,P),f(a,u),f(a,d),f(d,k),f(a,_),f(a,I),f(I,M),f(a,x),f(a,J),f(J,oe),f(l,ee),Y(j,l,null),z=!0,te||(ie=[pe(h,"click",t[6]),pe(d,"click",t[7]),pe(I,"click",t[4]),pe(J,"click",t[3])],te=!0)},p(T,[W]){(!z||W&4&&B!==(B=T[2]===E.player))&&(h.disabled=B),(!z||W&4&&c!==(c=T[2]===E.computer))&&(d.disabled=c),(!z||W&1&&V!==(V=(T[0]||[]).length<2))&&(I.disabled=V);const F={};W&2&&(F.board=T[1]),j.$set(F)},i(T){z||(O(s.$$.fragment,T),O(j.$$.fragment,T),z=!0)},o(T){R(s.$$.fragment,T),R(j.$$.fragment,T),z=!1},d(T){T&&p(e),T&&p(n),T&&p(l),q(s),q(j),te=!1,Xt(ie)}}}function dn(t,e,r){let n,l,s,o=E.player;function a(u,d){je(s,u,d),r(1,s),l.push({...s}),r(0,l),i()}function i(){r(2,o=o===E.player?E.computer:E.player)}function m(){r(1,s=It()),r(0,l=[{...s}])}function $(){l.length<=1||(l.pop(),r(0,l),r(1,s={...l[l.length-1]}))}const h=u=>{u.setup=()=>{n=u,u.createCanvas(400,400),m()},u.draw=()=>{u.background(0),Nt(u,s,{drawSelection:!0,selection:Je(u),currentPlayer:o})},u.mousePressed=()=>{if(u.mouseX<0||u.mouseX>u.width||u.mouseY<0||u.mouseY>u.height)return;const d=Je(u);a(o,d)}};return Ke(()=>{n==null||n.remove()}),[l,s,o,m,$,h,()=>r(2,o=E.player),()=>r(2,o=E.computer)]}class mn extends ne{constructor(e){super(),le(this,e,dn,pn,re,{})}}function _n(t){let e;return{c(){e=y("Game")},l(r){e=w(r,"Game")},m(r,n){C(r,e,n)},d(r){r&&p(e)}}}function $n(t){let e;return{c(){e=y("Analyzer")},l(r){e=w(r,"Analyzer")},m(r,n){C(r,e,n)},d(r){r&&p(e)}}}function hn(t){let e,r,n,l;return e=new dt({props:{$$slots:{default:[_n]},$$scope:{ctx:t}}}),n=new dt({props:{$$slots:{default:[$n]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),r=S(),U(n.$$.fragment)},l(s){L(e.$$.fragment,s),r=A(s),L(n.$$.fragment,s)},m(s,o){Y(e,s,o),C(s,r,o),Y(n,s,o),l=!0},p(s,o){const a={};o&1&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const i={};o&1&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(O(e.$$.fragment,s),O(n.$$.fragment,s),l=!0)},o(s){R(e.$$.fragment,s),R(n.$$.fragment,s),l=!1},d(s){q(e,s),s&&p(r),q(n,s)}}}function bn(t){let e,r;return e=new cn({}),{c(){U(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){q(e,n)}}}function vn(t){let e,r;return e=new mn({}),{c(){U(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){q(e,n)}}}function gn(t){let e,r,n,l,s,o;return e=new jt({props:{$$slots:{default:[hn]},$$scope:{ctx:t}}}),n=new _t({props:{$$slots:{default:[bn]},$$scope:{ctx:t}}}),s=new _t({props:{$$slots:{default:[vn]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),r=S(),U(n.$$.fragment),l=S(),U(s.$$.fragment)},l(a){L(e.$$.fragment,a),r=A(a),L(n.$$.fragment,a),l=A(a),L(s.$$.fragment,a)},m(a,i){Y(e,a,i),C(a,r,i),Y(n,a,i),C(a,l,i),Y(s,a,i),o=!0},p(a,i){const m={};i&1&&(m.$$scope={dirty:i,ctx:a}),e.$set(m);const $={};i&1&&($.$$scope={dirty:i,ctx:a}),n.$set($);const h={};i&1&&(h.$$scope={dirty:i,ctx:a}),s.$set(h)},i(a){o||(O(e.$$.fragment,a),O(n.$$.fragment,a),O(s.$$.fragment,a),o=!0)},o(a){R(e.$$.fragment,a),R(n.$$.fragment,a),R(s.$$.fragment,a),o=!1},d(a){q(e,a),a&&p(r),q(n,a),a&&p(l),q(s,a)}}}function yn(t){let e,r;return e=new Ft({props:{$$slots:{default:[gn]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){q(e,n)}}}class wn extends ne{constructor(e){super(),le(this,e,null,yn,re,{})}}function Pn(t){let e,r;return e=new wn({}),{c(){U(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},p:Le,i(n){r||(O(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){q(e,n)}}}class An extends ne{constructor(e){super(),le(this,e,null,Pn,re,{})}}export{An as default};
