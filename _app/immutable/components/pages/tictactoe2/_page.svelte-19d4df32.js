import{S as de,i as me,s as ve,C as je,k as $,l as b,m as k,h as f,n as Q,b as g,N as $e,E as Je,F as qe,G as Ke,f as Y,t as J,H as He,a0 as qt,o as Gt,j as Kt,W as lt,I as kt,a1 as Lt,A as Qt,$ as Zt,g as st,d as at,q as y,a as A,r as P,c as C,D as u,B as Pe,u as q,w as ne,x as re,y as oe,z as le,e as Ge,J as Wt,K as xt,M as yt,P as Ut,Q as en}from"../../../chunks/index-1d785069.js";import{w as De}from"../../../chunks/index-c5a64178.js";import{P as Xt}from"../../../chunks/P5-76a6b36f.js";let tn=1;function zt(){return`svelte-tabs-${tn++}`}function nn(t){let e,r,n,o;const l=t[4].default,a=je(l,t,t[3],null);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var i=k(e);a&&a.l(i),i.forEach(f),this.h()},h(){Q(e,"class","svelte-tabs")},m(s,i){g(s,e,i),a&&a.m(e,null),r=!0,n||(o=$e(e,"keydown",t[1]),n=!0)},p(s,[i]){a&&a.p&&(!r||i&8)&&Je(a,l,s,s[3],r?Ke(l,s[3],i,null):qe(s[3]),null)},i(s){r||(Y(a,s),r=!0)},o(s){J(a,s),r=!1},d(s){s&&f(e),a&&a.d(s),n=!1,o()}}}const it={};function rn(t,e,r){const n=t.indexOf(e);t.splice(n,1),r.update(o=>o===e?t[n]||t[t.length-1]:o)}function on(t,e,r){let n,{$$slots:o={},$$scope:l}=e,{initialSelectedIndex:a=0}=e;const s=[],i=[],c=[],p=De({}),d=De({}),T=De(null);He(t,T,v=>r(5,n=v));const H=De(null);function E(v,N,G){v.push(N),G.update(z=>z||N),lt(()=>rn(v,N,G))}function m(v){const N=i.indexOf(v);T.set(v),H.set(c[N])}qt(it,{registerTab(v){E(i,v,T)},registerTabElement(v){s.push(v)},registerPanel(v){E(c,v,H)},selectTab:m,selectedTab:T,selectedPanel:H,controls:p,labeledBy:d}),Gt(()=>{m(i[a])}),Kt(()=>{for(let v=0;v<i.length;v++)p.update(N=>({...N,[i[v].id]:c[v].id})),d.update(N=>({...N,[c[v].id]:i[v].id}))});async function O(v){if(v.target.classList.contains("svelte-tabs__tab")){let N=i.indexOf(n);switch(v.key){case"ArrowRight":N+=1,N>i.length-1&&(N=0),m(i[N]),s[N].focus();break;case"ArrowLeft":N-=1,N<0&&(N=i.length-1),m(i[N]),s[N].focus()}}}return t.$$set=v=>{"initialSelectedIndex"in v&&r(2,a=v.initialSelectedIndex),"$$scope"in v&&r(3,l=v.$$scope)},[T,O,a,l,o]}class ln extends de{constructor(e){super(),me(this,e,on,nn,ve,{initialSelectedIndex:2})}}function sn(t){let e,r,n,o,l,a;const s=t[9].default,i=je(s,t,t[8],null);return{c(){e=$("li"),i&&i.c(),this.h()},l(c){e=b(c,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var p=k(e);i&&i.l(p),p.forEach(f),this.h()},h(){Q(e,"role","tab"),Q(e,"id",t[3].id),Q(e,"aria-controls",r=t[2][t[3].id]),Q(e,"aria-selected",t[1]),Q(e,"tabindex",n=t[1]?0:-1),Q(e,"class","svelte-tabs__tab svelte-1fbofsd"),kt(e,"svelte-tabs__selected",t[1])},m(c,p){g(c,e,p),i&&i.m(e,null),t[10](e),o=!0,l||(a=$e(e,"click",t[11]),l=!0)},p(c,[p]){i&&i.p&&(!o||p&256)&&Je(i,s,c,c[8],o?Ke(s,c[8],p,null):qe(c[8]),null),(!o||p&4&&r!==(r=c[2][c[3].id]))&&Q(e,"aria-controls",r),(!o||p&2)&&Q(e,"aria-selected",c[1]),(!o||p&2&&n!==(n=c[1]?0:-1))&&Q(e,"tabindex",n),(!o||p&2)&&kt(e,"svelte-tabs__selected",c[1])},i(c){o||(Y(i,c),o=!0)},o(c){J(i,c),o=!1},d(c){c&&f(e),i&&i.d(c),t[10](null),l=!1,a()}}}function an(t,e,r){let n,o,{$$slots:l={},$$scope:a}=e,s;const i={id:zt()},{registerTab:c,registerTabElement:p,selectTab:d,selectedTab:T,controls:H}=Lt(it);He(t,T,v=>r(7,n=v)),He(t,H,v=>r(2,o=v));let E;c(i),Gt(async()=>{await Qt(),p(s)});function m(v){Zt[v?"unshift":"push"](()=>{s=v,r(0,s)})}const O=()=>d(i);return t.$$set=v=>{"$$scope"in v&&r(8,a=v.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&r(1,E=n===i)},[s,E,o,i,d,T,H,n,a,l,m,O]}class Pt extends de{constructor(e){super(),me(this,e,an,sn,ve,{})}}function fn(t){let e,r;const n=t[1].default,o=je(n,t,t[0],null);return{c(){e=$("ul"),o&&o.c(),this.h()},l(l){e=b(l,"UL",{role:!0,class:!0});var a=k(e);o&&o.l(a),a.forEach(f),this.h()},h(){Q(e,"role","tablist"),Q(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(l,a){g(l,e,a),o&&o.m(e,null),r=!0},p(l,[a]){o&&o.p&&(!r||a&1)&&Je(o,n,l,l[0],r?Ke(n,l[0],a,null):qe(l[0]),null)},i(l){r||(Y(o,l),r=!0)},o(l){J(o,l),r=!1},d(l){l&&f(e),o&&o.d(l)}}}function un(t,e,r){let{$$slots:n={},$$scope:o}=e;return t.$$set=l=>{"$$scope"in l&&r(0,o=l.$$scope)},[o,n]}class cn extends de{constructor(e){super(),me(this,e,un,fn,ve,{})}}function Et(t){let e;const r=t[6].default,n=je(r,t,t[5],null);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,l){n&&n.m(o,l),e=!0},p(o,l){n&&n.p&&(!e||l&32)&&Je(n,r,o,o[5],e?Ke(r,o[5],l,null):qe(o[5]),null)},i(o){e||(Y(n,o),e=!0)},o(o){J(n,o),e=!1},d(o){n&&n.d(o)}}}function pn(t){let e,r,n,o=t[1]===t[2]&&Et(t);return{c(){e=$("div"),o&&o.c(),this.h()},l(l){e=b(l,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var a=k(e);o&&o.l(a),a.forEach(f),this.h()},h(){Q(e,"id",t[2].id),Q(e,"aria-labelledby",r=t[0][t[2].id]),Q(e,"class","svelte-tabs__tab-panel svelte-epfyet"),Q(e,"role","tabpanel")},m(l,a){g(l,e,a),o&&o.m(e,null),n=!0},p(l,[a]){l[1]===l[2]?o?(o.p(l,a),a&2&&Y(o,1)):(o=Et(l),o.c(),Y(o,1),o.m(e,null)):o&&(st(),J(o,1,1,()=>{o=null}),at()),(!n||a&1&&r!==(r=l[0][l[2].id]))&&Q(e,"aria-labelledby",r)},i(l){n||(Y(o),n=!0)},o(l){J(o),n=!1},d(l){l&&f(e),o&&o.d()}}}function _n(t,e,r){let n,o,{$$slots:l={},$$scope:a}=e;const s={id:zt()},{registerPanel:i,selectedPanel:c,labeledBy:p}=Lt(it);return He(t,c,d=>r(1,o=d)),He(t,p,d=>r(0,n=d)),i(s),t.$$set=d=>{"$$scope"in d&&r(5,a=d.$$scope)},[n,o,s,c,p,a,l]}class gt extends de{constructor(e){super(),me(this,e,_n,pn,ve,{})}}function Ee(t){const{x:e,y:r}=t;if(e<0||e>2||r<0||r>2)throw new Error(`Invalid coords (${e},${r})`);return 8-(3*r+e)}function ft(t){if(t<0||t>8)throw new Error("Invalid index ${i}");return{x:2-t%3,y:2-Math.floor(t/3)}}const dn=[448,56,7,292,146,73,273,84],mn=[{p:16,o:40},{p:16,o:130},{p:16,o:257},{p:16,o:68}],vn=[{p:1,o:6},{p:1,o:72},{p:1,o:272}],hn=[{p:2,o:5},{p:2,o:144}],Se=(t,e)=>(t&e)===e;function wt(t){let e=t,r=0;for(;e;)r+=e&1,e>>=1;return r}function St(t,e){const r=Ee(e);return L(t,r)}function L(t,e){return!(t&1<<e)}function tt(t,e){return t+2**e}const nt=t=>{for(const e of dn)if(Se(t,e))return!0;return!1};var W=(t=>(t[t.player=1]="player",t[t.computer=2]="computer",t))(W||{});function Ft(){return{player:0,computer:0,toString:function(){return`player ${this.player.toString(2).padStart(9,"0")} computer ${this.computer.toString(2).padStart(9,"0")}`}}}function Ie(t,e){return e===W.player?t.player:t.computer}function Ne(t,e){return e===W.player?t.computer:t.player}function Le(t,e){if(!e&&!$n(t))return"invalid_board";const r=nt(t.player),n=nt(t.computer);return r&&n?"draw":r?"player_win":n?"computer_win":kn(t)?"not_over":"over"}function Re(t,e,r){if(!bn(t,r))throw new Error(`Impossible move. player: ${t==null?void 0:t.player}, computer: ${t==null?void 0:t.computer}, index ${r} `);e===W.player?t.player=tt(t.player,r):t.computer=tt(t.computer,r)}function $n(t){if(t.player&t.computer)return!1;const e=wt(t.player),r=wt(t.computer);return!(Math.abs(e-r)>1)}function bn(t,e){return L(t.player,e)&&L(t.computer,e)}function kn(t){return(t.player|t.computer)!==511}function ut(t){let e=t.player|t.computer;if(e===0)return[0,1,2,3,4,5,6,7,8];if(e===511)return[];const r=[];let n=0;for(;n<9;)e&1||r.push(n),n++,e>>=1;return r}const yn=[2,5,8,1,4,7,0,3,6];function It(t){let e=0;return yn.forEach((r,n)=>{L(t,n)||(e=tt(e,r))}),e}function We(t,e){if(e<0)throw new Error("Cant rotate a negative amount of times");if(e===0)return{...t};e=e%4;const r={...t};for(let n=0;n<e;n++)r.player=It(r.player),r.computer=It(r.computer);return r}function Ce(t,e){const r=Ie(t,e);return nt(r)}function Ue(t){return(t==null?void 0:t.y)===1&&(t==null?void 0:t.x)===1}function Pn(t,e,r){const n=Ee(r),o=Ie(t,e),l=Ne(t,e);if(n===4){const a=L(l,5)&&!L(o,3)||!L(o,5)&&L(l,3)?1:0,s=L(l,7)&&!L(o,1)||!L(o,7)&&L(l,1)?1:0,i=L(l,8)&&!L(o,0)||!L(o,8)&&L(l,0)?1:0,c=L(l,6)&&!L(o,2)||!L(o,6)&&L(l,2)?1:0;return a+s+i+c>=2}if(Qe.has(n)){const a={0:0,2:3,6:1,8:2}[n]||0,s=We(t,a),i=Ie(s,e),c=Ne(s,e),p=L(c,2)&&!L(i,1)||!L(i,2)&&L(c,1),d=L(c,6)&&!L(i,3)||!L(i,6)&&L(c,3);return p&&d}if(ct.has(n)){const a={1:0,3:1,5:3,7:2}[n]||0,s=We(t,a),i=Ie(s,e),c=Ne(s,e),p=L(c,2)&&!L(i,0)||!L(i,2)&&L(c,0),d=L(c,7)&&!L(i,4)||!L(i,7)&&L(c,4);return p&&d}return!1}function Xe(t,e,r){const n=Ee(r),o=Ie(t,e),l=Ne(t,e);for(const{o:a,p:s}of mn)if(Se(o,s)&&Se(l,a))return!0;if(Qe.has(n)){const a={0:0,2:3,6:1,8:2}[n]||0,s=We(t,a),i=Ie(s,e),c=Ne(s,e);for(const{o:p,p:d}of vn)if(Se(i,d)&&Se(c,p))return!0}if(ct.has(n)){const a={1:0,3:1,5:3,7:2}[n]||0,s=We(t,a),i=Ie(s,e),c=Ne(s,e);for(const{o:p,p:d}of hn)if(Se(i,d)&&Se(c,p))return!0}return!1}const Qe=new Set([0,2,6,8]),ct=new Set([1,3,5,7]);function ze(t,e,r){const n=Ee(r);if(!Qe.has(n))return!1;const o=8-n,l=Ne(t,e);return!L(l,o)}function Fe(t){const e=Ee(t);return Qe.has(e)}function Ye(t){const e=Ee(t);return ct.has(e)}function En(t,e){const r=ut(t);if(r.length===0)throw new Error("No available moves");let n;for(const o of r){const l={...t},a=ft(o);Re(l,e,o);const s=gn(l,e,a);s.score>((n==null?void 0:n.score)??-1)&&(n=s)}if(!n)throw new Error("Error in getMoveHardcoded");return n}function gn(t,e,r){return Ce(t,e)?{score:8,reason:"win",move:r}:Xe(t,e,r)?{score:7,reason:"block_opponent",move:r}:Pn(t,e,r)?{score:6,reason:"create_fork",move:r}:Ue(r)?{score:4,reason:"take_center",move:r}:ze(t,e,r)?{score:3,reason:"take_opposite_corner",move:r}:Fe(r)?{score:2,reason:"take_corner",move:r}:Ye(r)?{score:1,reason:"take_edge",move:r}:{score:0,reason:"default_choice",move:r}}function wn(t,e){const r=ut(t);if(r.length===0)throw new Error("No available moves");let n;for(const o of r){const l={...t},a=ft(o);Re(l,e,o);const s=Sn(l,e,a);s.score>((n==null?void 0:n.score)??-1)&&(n=s)}if(!n)throw new Error("Error in getMoveHardcoded");return n}function Sn(t,e,r){return Ce(t,W.player)?{score:8,reason:"win",move:r}:Xe(t,e,r)?{score:7,reason:"block_opponent",move:r}:Ue(r)?{score:4,reason:"take_center",move:r}:ze(t,e,r)?{score:3,reason:"take_opposite_corner",move:r}:Fe(r)?{score:2,reason:"take_corner",move:r}:Ye(r)?{score:1,reason:"take_edge",move:r}:{score:0,reason:"default_choice",move:r}}function In(t){const e=ut(t);if(e.length===0)throw new Error("No available moves");const r=Math.floor(Math.random()*e.length),n=e[r];return{score:0,reason:"random",move:ft(n)}}const rt={random:In,hardcodedRules:wn,hardcodedRulesComplete:En},Nn=t=>({board:Ft(),currentPlayer:t??W.player,state:"not_over",moveHistory:[]});function Yt(t){t.currentPlayer=t.currentPlayer===W.player?W.computer:W.player}const An=(t,e,r)=>{t.state==="not_over"&&(Re(t.board,e,Ee(r)),t.state=Le(t.board),t.moveHistory.push({board:{...t.board},moveCoord:r,player:e,method:"manual"}),Yt(t))},xe=(t,e,r)=>{if(t.state!=="not_over")return;const n=rt[r],o=n(t.board,e);Re(t.board,e,Ee(o.move)),t.state=Le(t.board),t.moveHistory.push({board:{...t.board},moveCoord:o.move,player:e,method:r,aiChoice:o}),Yt(t)},Ve=(t,e)=>{if(t.moveHistory.length>0){const r=t.moveHistory[t.moveHistory.length-1];if(r.player===e)return r}if(t.moveHistory.length>1){const r=t.moveHistory[t.moveHistory.length-2];if(r.player===e)return r}return null};function jt(t,e,r){const n=t.width/3,o=t.height/3,{height:l,width:a}=t,{drawSelection:s,selection:i,currentPlayer:c}=r||{};t.noFill(),t.stroke(255),t.line(n,0,n,l),t.line(n*2,0,n*2,l),t.line(0,o,a,o),t.line(0,o*2,a,o*2);for(let p=0;p<3;p++)for(let d=0;d<3;d++)(!St(e.player,{x:d,y:p})||s&&c===W.player&&(i==null?void 0:i.x)===d&&(i==null?void 0:i.y)===p)&&(t.stroke("blue"),t.circle(d*n+n/2,p*o+o/2,o/2)),(!St(e.computer,{x:d,y:p})||s&&c===W.computer&&(i==null?void 0:i.x)===d&&(i==null?void 0:i.y)===p)&&(t.stroke("red"),t.line(d*n+n*.3,p*o+o*.3,d*n+n*.7,p*o+o*.7),t.line(d*n+n*.7,p*o+o*.3,d*n+n*.3,p*o+o*.7))}function ot(t){const{mouseX:e,mouseY:r,width:n,height:o}=t,l=Math.floor(t.map(e,0,n,0,3)),a=Math.floor(t.map(r,0,o,0,3));return{x:l,y:a}}function Nt(t){let e,r,n,o,l,a=Le(t[0])+"",s,i,c,p,d,T,H,E,m,O,v=t[0].player.toString(2).padStart(9,"0")+"",N,G,z,j=t[0].player+"",D,I,h,B,U,R=Ce(t[0],W.player)?"✅":"❌",Z,F,w,S,X,M,te,ie,K,ce,se=t[0].computer.toString(2).padStart(9,"0")+"",fe,_e,ue,be=t[0].computer+"",he,ee,_,V,ke,ge=Ce(t[0],W.computer)?"✅":"❌",we;return{c(){e=$("div"),r=$("span"),n=y("State:"),o=A(),l=$("span"),s=y(a),i=A(),c=$("div"),p=$("span"),d=y("Player 1"),T=$("span"),H=y("Player, O"),E=A(),m=$("span"),O=y("0b"),N=y(v),G=A(),z=$("span"),D=y(j),I=A(),h=$("span"),B=y("Wins"),U=$("span"),Z=y(R),F=A(),w=$("div"),S=$("span"),X=y("Player 2"),M=$("span"),te=y("Computer, X"),ie=A(),K=$("span"),ce=y("0b"),fe=y(se),_e=A(),ue=$("span"),he=y(be),ee=A(),_=$("span"),V=y("Wins"),ke=$("span"),we=y(ge),this.h()},l(ae){e=b(ae,"DIV",{class:!0});var x=k(e);r=b(x,"SPAN",{});var Te=k(r);n=P(Te,"State:"),Te.forEach(f),o=C(x),l=b(x,"SPAN",{});var Me=k(l);s=P(Me,a),Me.forEach(f),i=C(x),c=b(x,"DIV",{class:!0});var pe=k(c);p=b(pe,"SPAN",{});var Be=k(p);d=P(Be,"Player 1"),Be.forEach(f),T=b(pe,"SPAN",{});var Oe=k(T);H=P(Oe,"Player, O"),Oe.forEach(f),E=C(pe),m=b(pe,"SPAN",{});var Ae=k(m);O=P(Ae,"0b"),N=P(Ae,v),Ae.forEach(f),G=C(pe),z=b(pe,"SPAN",{});var pt=k(z);D=P(pt,j),pt.forEach(f),I=C(pe),h=b(pe,"SPAN",{});var _t=k(h);B=P(_t,"Wins"),_t.forEach(f),U=b(pe,"SPAN",{});var dt=k(U);Z=P(dt,R),dt.forEach(f),pe.forEach(f),F=C(x),w=b(x,"DIV",{class:!0});var ye=k(w);S=b(ye,"SPAN",{});var mt=k(S);X=P(mt,"Player 2"),mt.forEach(f),M=b(ye,"SPAN",{});var vt=k(M);te=P(vt,"Computer, X"),vt.forEach(f),ie=C(ye),K=b(ye,"SPAN",{});var Ze=k(K);ce=P(Ze,"0b"),fe=P(Ze,se),Ze.forEach(f),_e=C(ye),ue=b(ye,"SPAN",{});var ht=k(ue);he=P(ht,be),ht.forEach(f),ee=C(ye),_=b(ye,"SPAN",{});var $t=k(_);V=P($t,"Wins"),$t.forEach(f),ke=b(ye,"SPAN",{});var bt=k(ke);we=P(bt,ge),bt.forEach(f),ye.forEach(f),x.forEach(f),this.h()},h(){Q(c,"class","grid2cols svelte-1lw5ne4"),Q(w,"class","grid2cols svelte-1lw5ne4"),Q(e,"class","grid2cols svelte-1lw5ne4")},m(ae,x){g(ae,e,x),u(e,r),u(r,n),u(e,o),u(e,l),u(l,s),u(e,i),u(e,c),u(c,p),u(p,d),u(c,T),u(T,H),u(c,E),u(c,m),u(m,O),u(m,N),u(c,G),u(c,z),u(z,D),u(c,I),u(c,h),u(h,B),u(c,U),u(U,Z),u(e,F),u(e,w),u(w,S),u(S,X),u(w,M),u(M,te),u(w,ie),u(w,K),u(K,ce),u(K,fe),u(w,_e),u(w,ue),u(ue,he),u(w,ee),u(w,_),u(_,V),u(w,ke),u(ke,we)},p(ae,x){x&1&&a!==(a=Le(ae[0])+"")&&q(s,a),x&1&&v!==(v=ae[0].player.toString(2).padStart(9,"0")+"")&&q(N,v),x&1&&j!==(j=ae[0].player+"")&&q(D,j),x&1&&R!==(R=Ce(ae[0],W.player)?"✅":"❌")&&q(Z,R),x&1&&se!==(se=ae[0].computer.toString(2).padStart(9,"0")+"")&&q(fe,se),x&1&&be!==(be=ae[0].computer+"")&&q(he,be),x&1&&ge!==(ge=Ce(ae[0],W.computer)?"✅":"❌")&&q(we,ge)},d(ae){ae&&f(e)}}}function Cn(t){let e,r,n,o,l=t[0]&&Nt(t);return{c(){e=$("div"),r=$("h4"),n=y("Board info"),o=A(),l&&l.c()},l(a){e=b(a,"DIV",{});var s=k(e);r=b(s,"H4",{});var i=k(r);n=P(i,"Board info"),i.forEach(f),o=C(s),l&&l.l(s),s.forEach(f)},m(a,s){g(a,e,s),u(e,r),u(r,n),u(e,o),l&&l.m(e,null)},p(a,[s]){a[0]?l?l.p(a,s):(l=Nt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Pe,o:Pe,d(a){a&&f(e),l&&l.d()}}}function Tn(t,e,r){let{board:n}=e;return t.$$set=o=>{"board"in o&&r(0,n=o.board)},[n]}class Jt extends de{constructor(e){super(),me(this,e,Tn,Cn,ve,{board:0})}}function Mn(t){let e,r,n=JSON.stringify(t[0])+"",o;return{c(){e=$("p"),r=y("Board is undefined "),o=y(n)},l(l){e=b(l,"P",{});var a=k(e);r=P(a,"Board is undefined "),o=P(a,n),a.forEach(f)},m(l,a){g(l,e,a),u(e,r),u(e,o)},p(l,a){a&1&&n!==(n=JSON.stringify(l[0])+"")&&q(o,n)},i:Pe,o:Pe,d(l){l&&f(e)}}}function Bn(t){let e,r;return e=new Xt({props:{sketch:t[1]}}),{c(){ne(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,o){oe(e,n,o),r=!0},p:Pe,i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}function On(t){let e,r,n,o;const l=[Bn,Mn],a=[];function s(i,c){return i[0]?0:1}return r=s(t),n=a[r]=l[r](t),{c(){e=$("div"),n.c()},l(i){e=b(i,"DIV",{});var c=k(e);n.l(c),c.forEach(f)},m(i,c){g(i,e,c),a[r].m(e,null),o=!0},p(i,[c]){let p=r;r=s(i),r===p?a[r].p(i,c):(st(),J(a[p],1,1,()=>{a[p]=null}),at(),n=a[r],n?n.p(i,c):(n=a[r]=l[r](i),n.c()),Y(n,1),n.m(e,null))},i(i){o||(Y(n),o=!0)},o(i){J(n),o=!1},d(i){i&&f(e),a[r].d()}}}function Hn(t,e,r){let{board:n}=e,{onClick:o}=e,l;const a=s=>{s.setup=()=>{l=s,s.createCanvas(400,400)},s.draw=()=>{s.background(0),jt(s,n)},s.mousePressed=()=>{s.mouseX<0||s.mouseX>s.width||s.mouseY<0||s.mouseY>s.height||o("manual",ot(s))}};return lt(()=>{l==null||l.remove()}),t.$$set=s=>{"board"in s&&r(0,n=s.board),"onClick"in s&&r(2,o=s.onClick)},[n,a,o]}class Rn extends de{constructor(e){super(),me(this,e,Hn,On,ve,{board:0,onClick:2})}}function et(t){const e=t.slice(),r=e[0];return e[1]=r.moveCoord,e[2]=r.player,e[3]=r.board,e[4]=r.aiChoice,e}function At(t){let e,r,n,o,l=t[1].x+"",a,s,i=t[1].y+"",c,p,d,T,H,E=Ue(t[1])?"✅":"❌",m,O,v,N,G,z=Fe(t[1])?"✅":"❌",j,D,I,h,B,U=Ye(t[1])?"✅":"❌",R,Z,F,w,S,X,M=ze(t[3],t[2],t[1])?"✅":"❌",te,ie,K,ce,se,fe,_e=Xe(t[3],t[2],t[1])?"✅":"❌",ue,be,he,ee=t[4]&&Ct(t);return{c(){e=$("span"),r=y("Last move:"),n=A(),o=$("span"),a=y(l),s=y(", "),c=y(i),p=A(),d=$("span"),T=y("center"),H=$("span"),m=y(E),O=A(),v=$("span"),N=y("corner"),G=$("span"),j=y(z),D=A(),I=$("span"),h=y("side"),B=$("span"),R=y(U),Z=A(),F=$("span"),w=y("Took opposite corner"),S=A(),X=$("span"),te=y(M),ie=A(),K=$("span"),ce=y("Last move blocks opponent"),se=A(),fe=$("span"),ue=y(_e),be=A(),ee&&ee.c(),he=Ge()},l(_){e=b(_,"SPAN",{});var V=k(e);r=P(V,"Last move:"),V.forEach(f),n=C(_),o=b(_,"SPAN",{});var ke=k(o);a=P(ke,l),s=P(ke,", "),c=P(ke,i),ke.forEach(f),p=C(_),d=b(_,"SPAN",{});var ge=k(d);T=P(ge,"center"),ge.forEach(f),H=b(_,"SPAN",{});var we=k(H);m=P(we,E),we.forEach(f),O=C(_),v=b(_,"SPAN",{});var ae=k(v);N=P(ae,"corner"),ae.forEach(f),G=b(_,"SPAN",{});var x=k(G);j=P(x,z),x.forEach(f),D=C(_),I=b(_,"SPAN",{});var Te=k(I);h=P(Te,"side"),Te.forEach(f),B=b(_,"SPAN",{});var Me=k(B);R=P(Me,U),Me.forEach(f),Z=C(_),F=b(_,"SPAN",{});var pe=k(F);w=P(pe,"Took opposite corner"),pe.forEach(f),S=C(_),X=b(_,"SPAN",{});var Be=k(X);te=P(Be,M),Be.forEach(f),ie=C(_),K=b(_,"SPAN",{});var Oe=k(K);ce=P(Oe,"Last move blocks opponent"),Oe.forEach(f),se=C(_),fe=b(_,"SPAN",{});var Ae=k(fe);ue=P(Ae,_e),Ae.forEach(f),be=C(_),ee&&ee.l(_),he=Ge()},m(_,V){g(_,e,V),u(e,r),g(_,n,V),g(_,o,V),u(o,a),u(o,s),u(o,c),g(_,p,V),g(_,d,V),u(d,T),g(_,H,V),u(H,m),g(_,O,V),g(_,v,V),u(v,N),g(_,G,V),u(G,j),g(_,D,V),g(_,I,V),u(I,h),g(_,B,V),u(B,R),g(_,Z,V),g(_,F,V),u(F,w),g(_,S,V),g(_,X,V),u(X,te),g(_,ie,V),g(_,K,V),u(K,ce),g(_,se,V),g(_,fe,V),u(fe,ue),g(_,be,V),ee&&ee.m(_,V),g(_,he,V)},p(_,V){V&1&&l!==(l=_[1].x+"")&&q(a,l),V&1&&i!==(i=_[1].y+"")&&q(c,i),V&1&&E!==(E=Ue(_[1])?"✅":"❌")&&q(m,E),V&1&&z!==(z=Fe(_[1])?"✅":"❌")&&q(j,z),V&1&&U!==(U=Ye(_[1])?"✅":"❌")&&q(R,U),V&1&&M!==(M=ze(_[3],_[2],_[1])?"✅":"❌")&&q(te,M),V&1&&_e!==(_e=Xe(_[3],_[2],_[1])?"✅":"❌")&&q(ue,_e),_[4]?ee?ee.p(_,V):(ee=Ct(_),ee.c(),ee.m(he.parentNode,he)):ee&&(ee.d(1),ee=null)},d(_){_&&f(e),_&&f(n),_&&f(o),_&&f(p),_&&f(d),_&&f(H),_&&f(O),_&&f(v),_&&f(G),_&&f(D),_&&f(I),_&&f(B),_&&f(Z),_&&f(F),_&&f(S),_&&f(X),_&&f(ie),_&&f(K),_&&f(se),_&&f(fe),_&&f(be),ee&&ee.d(_),_&&f(he)}}}function Ct(t){let e,r,n,o,l=t[4].score+"",a,s,i,c,p,d,T=t[4].reason+"",H;return{c(){e=$("span"),r=y("Score"),n=A(),o=$("span"),a=y(l),s=A(),i=$("span"),c=y("Reason"),p=A(),d=$("span"),H=y(T)},l(E){e=b(E,"SPAN",{});var m=k(e);r=P(m,"Score"),m.forEach(f),n=C(E),o=b(E,"SPAN",{});var O=k(o);a=P(O,l),O.forEach(f),s=C(E),i=b(E,"SPAN",{});var v=k(i);c=P(v,"Reason"),v.forEach(f),p=C(E),d=b(E,"SPAN",{});var N=k(d);H=P(N,T),N.forEach(f)},m(E,m){g(E,e,m),u(e,r),g(E,n,m),g(E,o,m),u(o,a),g(E,s,m),g(E,i,m),u(i,c),g(E,p,m),g(E,d,m),u(d,H)},p(E,m){m&1&&l!==(l=E[4].score+"")&&q(a,l),m&1&&T!==(T=E[4].reason+"")&&q(H,T)},d(E){E&&f(e),E&&f(n),E&&f(o),E&&f(s),E&&f(i),E&&f(p),E&&f(d)}}}function Dn(t){let e,r=t[0]&&At(et(t));return{c(){e=$("div"),r&&r.c(),this.h()},l(n){e=b(n,"DIV",{class:!0});var o=k(e);r&&r.l(o),o.forEach(f),this.h()},h(){Q(e,"class","grid2cols svelte-1lw5ne4")},m(n,o){g(n,e,o),r&&r.m(e,null)},p(n,[o]){n[0]?r?r.p(et(n),o):(r=At(et(n)),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:Pe,o:Pe,d(n){n&&f(e),r&&r.d()}}}function Vn(t,e,r){let{historyItem:n}=e;return t.$$set=o=>{"historyItem"in o&&r(0,n=o.historyItem)},[n]}class Tt extends de{constructor(e){super(),me(this,e,Vn,Dn,ve,{historyItem:0})}}function Mt(t,e,r){const n=t.slice();return n[4]=e[r],n}function Bt(t){let e,r=[...t[0].moveHistory].reverse(),n=[];for(let o=0;o<r.length;o+=1)n[o]=Ot(Mt(t,r,o));return{c(){e=$("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var l=k(e);for(let a=0;a<n.length;a+=1)n[a].l(l);l.forEach(f),this.h()},h(){Q(e,"class","grid4cols svelte-1jc7frz")},m(o,l){g(o,e,l);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(o,l){if(l&1){r=[...o[0].moveHistory].reverse();let a;for(a=0;a<r.length;a+=1){const s=Mt(o,r,a);n[a]?n[a].p(s,l):(n[a]=Ot(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(o){o&&f(e),Wt(n,o)}}}function Gn(t){let e,r;return{c(){e=$("span"),r=y("-")},l(n){e=b(n,"SPAN",{});var o=k(e);r=P(o,"-"),o.forEach(f)},m(n,o){g(n,e,o),u(e,r)},p:Pe,d(n){n&&f(e)}}}function Ln(t){let e,r=JSON.stringify(t[4].aiChoice)+"",n;return{c(){e=$("span"),n=y(r)},l(o){e=b(o,"SPAN",{});var l=k(e);n=P(l,r),l.forEach(f)},m(o,l){g(o,e,l),u(e,n)},p(o,l){l&1&&r!==(r=JSON.stringify(o[4].aiChoice)+"")&&q(n,r)},d(o){o&&f(e)}}}function Ot(t){let e,r=t[4].moveCoord.x+"",n,o,l=t[4].moveCoord.y+"",a,s,i,c,p=t[4].player+"",d,T,H=t[4].method+"",E,m,O,v=t[4].board.toString()+"",N,G,z;function j(h,B){return h[4].aiChoice?Ln:Gn}let D=j(t),I=D(t);return{c(){e=$("span"),n=y(r),o=y(", "),a=y(l),s=A(),i=$("span"),c=y("Player "),d=y(p),T=y(" - Method "),E=y(H),m=A(),O=$("span"),N=y(v),G=A(),I.c(),z=Ge()},l(h){e=b(h,"SPAN",{});var B=k(e);n=P(B,r),o=P(B,", "),a=P(B,l),B.forEach(f),s=C(h),i=b(h,"SPAN",{});var U=k(i);c=P(U,"Player "),d=P(U,p),T=P(U," - Method "),E=P(U,H),U.forEach(f),m=C(h),O=b(h,"SPAN",{});var R=k(O);N=P(R,v),R.forEach(f),G=C(h),I.l(h),z=Ge()},m(h,B){g(h,e,B),u(e,n),u(e,o),u(e,a),g(h,s,B),g(h,i,B),u(i,c),u(i,d),u(i,T),u(i,E),g(h,m,B),g(h,O,B),u(O,N),g(h,G,B),I.m(h,B),g(h,z,B)},p(h,B){B&1&&r!==(r=h[4].moveCoord.x+"")&&q(n,r),B&1&&l!==(l=h[4].moveCoord.y+"")&&q(a,l),B&1&&p!==(p=h[4].player+"")&&q(d,p),B&1&&H!==(H=h[4].method+"")&&q(E,H),B&1&&v!==(v=h[4].board.toString()+"")&&q(N,v),D===(D=j(h))&&I?I.p(h,B):(I.d(1),I=D(h),I&&(I.c(),I.m(z.parentNode,z)))},d(h){h&&f(e),h&&f(s),h&&f(i),h&&f(m),h&&f(O),h&&f(G),I.d(h),h&&f(z)}}}function Wn(t){let e,r,n,o,l,a=t[2](t[0])+"",s,i,c,p,d,T,H,E,m=t[1]?"Hide":"Show",O,v,N,G,z,j;p=new Tt({props:{historyItem:Ve(t[0],W.player)}}),T=new Tt({props:{historyItem:Ve(t[0],W.computer)}});let D=t[1]&&Bt(t);return{c(){e=$("div"),r=$("h4"),n=y("Game info"),o=A(),l=$("span"),s=y(a),i=A(),c=$("div"),ne(p.$$.fragment),d=A(),ne(T.$$.fragment),H=A(),E=$("button"),O=y(m),v=y(" move history"),N=A(),D&&D.c(),this.h()},l(I){e=b(I,"DIV",{});var h=k(e);r=b(h,"H4",{});var B=k(r);n=P(B,"Game info"),B.forEach(f),o=C(h),l=b(h,"SPAN",{});var U=k(l);s=P(U,a),U.forEach(f),i=C(h),c=b(h,"DIV",{class:!0});var R=k(c);re(p.$$.fragment,R),d=C(R),re(T.$$.fragment,R),R.forEach(f),H=C(h),E=b(h,"BUTTON",{});var Z=k(E);O=P(Z,m),v=P(Z," move history"),Z.forEach(f),N=C(h),D&&D.l(h),h.forEach(f),this.h()},h(){Q(c,"class","grid2cols svelte-1jc7frz")},m(I,h){g(I,e,h),u(e,r),u(r,n),u(e,o),u(e,l),u(l,s),u(e,i),u(e,c),oe(p,c,null),u(c,d),oe(T,c,null),u(e,H),u(e,E),u(E,O),u(E,v),u(e,N),D&&D.m(e,null),G=!0,z||(j=$e(E,"click",t[3]),z=!0)},p(I,[h]){(!G||h&1)&&a!==(a=I[2](I[0])+"")&&q(s,a);const B={};h&1&&(B.historyItem=Ve(I[0],W.player)),p.$set(B);const U={};h&1&&(U.historyItem=Ve(I[0],W.computer)),T.$set(U),(!G||h&2)&&m!==(m=I[1]?"Hide":"Show")&&q(O,m),I[1]?D?D.p(I,h):(D=Bt(I),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i(I){G||(Y(p.$$.fragment,I),Y(T.$$.fragment,I),G=!0)},o(I){J(p.$$.fragment,I),J(T.$$.fragment,I),G=!1},d(I){I&&f(e),le(p),le(T),D&&D.d(),z=!1,j()}}}function Un(t,e,r){let{game:n}=e,o=!1;const l=s=>!s||!s.state?"N/A":s.state==="not_over"?"Turn: "+(s.currentPlayer===W.player?"Player":"Computer"):s.state==="player_win"?"Player Win":s.state==="computer_win"?"Computer Win":s.state==="draw"?"Draw":s.state==="over"?"Game Over":"Invalid Game",a=()=>r(1,o=!o);return t.$$set=s=>{"game"in s&&r(0,n=s.game)},[n,o,l,a]}class Xn extends de{constructor(e){super(),me(this,e,Un,Wn,ve,{game:0})}}function Ht(t,e,r){const n=t.slice();return n[12]=e[r],n}function Rt(t){let e,r,n,o;return{c(){e=$("p"),r=y("Restarting in "),n=y(t[1]),o=y(" seconds")},l(l){e=b(l,"P",{});var a=k(e);r=P(a,"Restarting in "),n=P(a,t[1]),o=P(a," seconds"),a.forEach(f)},m(l,a){g(l,e,a),u(e,r),u(e,n),u(e,o)},p(l,a){a&2&&q(n,l[1])},d(l){l&&f(e)}}}function Dt(t){let e,r=t[12]+"",n,o;return{c(){e=$("option"),n=y(r),o=A(),this.h()},l(l){e=b(l,"OPTION",{});var a=k(e);n=P(a,r),o=C(a),a.forEach(f),this.h()},h(){e.__value=t[12],e.value=e.__value},m(l,a){g(l,e,a),u(e,n),u(e,o)},p:Pe,d(l){l&&f(e)}}}function Vt(t){let e,r,n,o,l,a;return e=new Rn({props:{board:t[0].board,onClick:t[3]}}),n=new Xn({props:{game:t[0]}}),l=new Jt({props:{board:t[0].board}}),{c(){ne(e.$$.fragment),r=A(),ne(n.$$.fragment),o=A(),ne(l.$$.fragment)},l(s){re(e.$$.fragment,s),r=C(s),re(n.$$.fragment,s),o=C(s),re(l.$$.fragment,s)},m(s,i){oe(e,s,i),g(s,r,i),oe(n,s,i),g(s,o,i),oe(l,s,i),a=!0},p(s,i){const c={};i&1&&(c.board=s[0].board),e.$set(c);const p={};i&1&&(p.game=s[0]),n.$set(p);const d={};i&1&&(d.board=s[0].board),l.$set(d)},i(s){a||(Y(e.$$.fragment,s),Y(n.$$.fragment,s),Y(l.$$.fragment,s),a=!0)},o(s){J(e.$$.fragment,s),J(n.$$.fragment,s),J(l.$$.fragment,s),a=!1},d(s){le(e,s),s&&f(r),le(n,s),s&&f(o),le(l,s)}}}function zn(t){let e,r,n,o,l,a,s,i,c,p,d,T,H,E,m,O,v,N,G,z,j,D,I,h,B,U,R=t[1]>0&&Rt(t),Z=Object.keys(rt),F=[];for(let S=0;S<Z.length;S+=1)F[S]=Dt(Ht(t,Z,S));let w=t[0].board&&Vt(t);return{c(){e=$("h2"),r=y("Game"),n=A(),o=$("div"),R&&R.c(),l=A(),a=$("label"),s=y("AI type"),i=A(),c=$("select");for(let S=0;S<F.length;S+=1)F[S].c();p=A(),d=$("div"),T=$("span"),H=y("Player automatic move"),E=A(),m=$("button"),O=y("Random move"),v=A(),N=$("button"),G=y("Hardcoded rules"),z=A(),j=$("button"),D=y("Complete hardcoded rules"),I=A(),w&&w.c(),this.h()},l(S){e=b(S,"H2",{});var X=k(e);r=P(X,"Game"),X.forEach(f),n=C(S),o=b(S,"DIV",{});var M=k(o);R&&R.l(M),l=C(M),a=b(M,"LABEL",{for:!0});var te=k(a);s=P(te,"AI type"),te.forEach(f),i=C(M),c=b(M,"SELECT",{id:!0});var ie=k(c);for(let ue=0;ue<F.length;ue+=1)F[ue].l(ie);ie.forEach(f),p=C(M),d=b(M,"DIV",{});var K=k(d);T=b(K,"SPAN",{});var ce=k(T);H=P(ce,"Player automatic move"),ce.forEach(f),E=C(K),m=b(K,"BUTTON",{});var se=k(m);O=P(se,"Random move"),se.forEach(f),v=C(K),N=b(K,"BUTTON",{});var fe=k(N);G=P(fe,"Hardcoded rules"),fe.forEach(f),z=C(K),j=b(K,"BUTTON",{});var _e=k(j);D=P(_e,"Complete hardcoded rules"),_e.forEach(f),K.forEach(f),I=C(M),w&&w.l(M),M.forEach(f),this.h()},h(){Q(a,"for","aiType"),Q(c,"id","aiType"),t[2]===void 0&&xt(()=>t[4].call(c))},m(S,X){g(S,e,X),u(e,r),g(S,n,X),g(S,o,X),R&&R.m(o,null),u(o,l),u(o,a),u(a,s),u(o,i),u(o,c);for(let M=0;M<F.length;M+=1)F[M].m(c,null);yt(c,t[2]),u(o,p),u(o,d),u(d,T),u(T,H),u(d,E),u(d,m),u(m,O),u(d,v),u(d,N),u(N,G),u(d,z),u(d,j),u(j,D),u(o,I),w&&w.m(o,null),h=!0,B||(U=[$e(c,"change",t[4]),$e(m,"click",t[5]),$e(N,"click",t[6]),$e(j,"click",t[7])],B=!0)},p(S,[X]){if(S[1]>0?R?R.p(S,X):(R=Rt(S),R.c(),R.m(o,l)):R&&(R.d(1),R=null),X&0){Z=Object.keys(rt);let M;for(M=0;M<Z.length;M+=1){const te=Ht(S,Z,M);F[M]?F[M].p(te,X):(F[M]=Dt(te),F[M].c(),F[M].m(c,null))}for(;M<F.length;M+=1)F[M].d(1);F.length=Z.length}X&4&&yt(c,S[2]),S[0].board?w?(w.p(S,X),X&1&&Y(w,1)):(w=Vt(S),w.c(),Y(w,1),w.m(o,null)):w&&(st(),J(w,1,1,()=>{w=null}),at())},i(S){h||(Y(w),h=!0)},o(S){J(w),h=!1},d(S){S&&f(e),S&&f(n),S&&f(o),R&&R.d(),Wt(F,S),w&&w.d(),B=!1,Ut(U)}}}function Fn(t,e,r){let n,o,l,a="hardcodedRulesComplete",s=!1;i();function i(){r(0,n=Nn(s?W.computer:W.player)),s&&xe(n,W.computer,a),o=n.currentPlayer,s=!s}const c=(m,O)=>{if(o===W.player){if(m==="manual"){if(!O)return;An(n,W.player,O)}else xe(n,W.player,m);r(0,n),o=n.currentPlayer,setTimeout(()=>{if(xe(n,W.computer,a),r(0,n),o=n.currentPlayer,n.state!=="not_over"){r(1,l=4);const v=setInterval(()=>{r(1,l--,l),l===0&&(i(),clearInterval(v))},1e3)}},500)}},p=(m,O)=>{c(m,O)};function d(){a=en(this),r(2,a)}return[n,l,a,p,d,()=>p("random"),()=>p("hardcodedRules"),()=>p("hardcodedRulesComplete")]}class Yn extends de{constructor(e){super(),me(this,e,Fn,zn,ve,{})}}function jn(t){let e,r,n,o,l,a,s,i,c,p,d,T,H,E,m,O,v,N,G,z,j,D,I,h,B,U,R,Z,F;return l=new Xt({props:{sketch:t[6]}}),U=new Jt({props:{board:t[1],lastMove:t[3]}}),{c(){e=$("h2"),r=y("Analyzer"),n=A(),o=$("div"),ne(l.$$.fragment),a=A(),s=$("div"),i=$("h4"),c=y("Controls"),p=A(),d=$("button"),T=y("Play O"),E=A(),m=$("button"),O=y("Play X"),N=A(),G=$("button"),z=y("Previous"),D=A(),I=$("button"),h=y("Reset"),B=A(),ne(U.$$.fragment),this.h()},l(w){e=b(w,"H2",{});var S=k(e);r=P(S,"Analyzer"),S.forEach(f),n=C(w),o=b(w,"DIV",{});var X=k(o);re(l.$$.fragment,X),a=C(X),s=b(X,"DIV",{});var M=k(s);i=b(M,"H4",{});var te=k(i);c=P(te,"Controls"),te.forEach(f),p=C(M),d=b(M,"BUTTON",{});var ie=k(d);T=P(ie,"Play O"),ie.forEach(f),E=C(M),m=b(M,"BUTTON",{});var K=k(m);O=P(K,"Play X"),K.forEach(f),N=C(M),G=b(M,"BUTTON",{});var ce=k(G);z=P(ce,"Previous"),ce.forEach(f),D=C(M),I=b(M,"BUTTON",{});var se=k(I);h=P(se,"Reset"),se.forEach(f),M.forEach(f),B=C(X),re(U.$$.fragment,X),X.forEach(f),this.h()},h(){d.disabled=H=t[2]===W.player,m.disabled=v=t[2]===W.computer,G.disabled=j=(t[0]||[]).length<2},m(w,S){g(w,e,S),u(e,r),g(w,n,S),g(w,o,S),oe(l,o,null),u(o,a),u(o,s),u(s,i),u(i,c),u(s,p),u(s,d),u(d,T),u(s,E),u(s,m),u(m,O),u(s,N),u(s,G),u(G,z),u(s,D),u(s,I),u(I,h),u(o,B),oe(U,o,null),R=!0,Z||(F=[$e(d,"click",t[7]),$e(m,"click",t[8]),$e(G,"click",t[5]),$e(I,"click",t[4])],Z=!0)},p(w,[S]){(!R||S&4&&H!==(H=w[2]===W.player))&&(d.disabled=H),(!R||S&4&&v!==(v=w[2]===W.computer))&&(m.disabled=v),(!R||S&1&&j!==(j=(w[0]||[]).length<2))&&(G.disabled=j);const X={};S&2&&(X.board=w[1]),S&8&&(X.lastMove=w[3]),U.$set(X)},i(w){R||(Y(l.$$.fragment,w),Y(U.$$.fragment,w),R=!0)},o(w){J(l.$$.fragment,w),J(U.$$.fragment,w),R=!1},d(w){w&&f(e),w&&f(n),w&&f(o),le(l),le(U),Z=!1,Ut(F)}}}function Jn(t,e,r){let n,o,l,a=W.player,s;function i(m,O){Re(l,m,Ee(O)),r(3,s=O),r(1,l),o.push({...l}),r(0,o),c()}function c(){r(2,a=a===W.player?W.computer:W.player)}function p(){r(1,l=Ft()),r(0,o=[{...l}]),r(3,s={x:-1,y:-1})}function d(){o.length<=1||(o.pop(),r(0,o),r(1,l={...o[o.length-1]}))}const T=m=>{m.setup=()=>{n=m,m.createCanvas(400,400),p()},m.draw=()=>{m.background(0),jt(m,l,{drawSelection:!0,selection:ot(m),currentPlayer:a})},m.mousePressed=()=>{if(m.mouseX<0||m.mouseX>m.width||m.mouseY<0||m.mouseY>m.height)return;const O=ot(m);i(a,O)}};return lt(()=>{n==null||n.remove()}),[o,l,a,s,p,d,T,()=>r(2,a=W.player),()=>r(2,a=W.computer)]}class qn extends de{constructor(e){super(),me(this,e,Jn,jn,ve,{})}}function Kn(t){let e;return{c(){e=y("Game")},l(r){e=P(r,"Game")},m(r,n){g(r,e,n)},d(r){r&&f(e)}}}function Qn(t){let e;return{c(){e=y("Analyzer")},l(r){e=P(r,"Analyzer")},m(r,n){g(r,e,n)},d(r){r&&f(e)}}}function Zn(t){let e,r,n,o;return e=new Pt({props:{$$slots:{default:[Kn]},$$scope:{ctx:t}}}),n=new Pt({props:{$$slots:{default:[Qn]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment),r=A(),ne(n.$$.fragment)},l(l){re(e.$$.fragment,l),r=C(l),re(n.$$.fragment,l)},m(l,a){oe(e,l,a),g(l,r,a),oe(n,l,a),o=!0},p(l,a){const s={};a&1&&(s.$$scope={dirty:a,ctx:l}),e.$set(s);const i={};a&1&&(i.$$scope={dirty:a,ctx:l}),n.$set(i)},i(l){o||(Y(e.$$.fragment,l),Y(n.$$.fragment,l),o=!0)},o(l){J(e.$$.fragment,l),J(n.$$.fragment,l),o=!1},d(l){le(e,l),l&&f(r),le(n,l)}}}function xn(t){let e,r;return e=new Yn({}),{c(){ne(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,o){oe(e,n,o),r=!0},i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}function er(t){let e,r;return e=new qn({}),{c(){ne(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,o){oe(e,n,o),r=!0},i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}function tr(t){let e,r,n,o,l,a;return e=new cn({props:{$$slots:{default:[Zn]},$$scope:{ctx:t}}}),n=new gt({props:{$$slots:{default:[xn]},$$scope:{ctx:t}}}),l=new gt({props:{$$slots:{default:[er]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment),r=A(),ne(n.$$.fragment),o=A(),ne(l.$$.fragment)},l(s){re(e.$$.fragment,s),r=C(s),re(n.$$.fragment,s),o=C(s),re(l.$$.fragment,s)},m(s,i){oe(e,s,i),g(s,r,i),oe(n,s,i),g(s,o,i),oe(l,s,i),a=!0},p(s,i){const c={};i&1&&(c.$$scope={dirty:i,ctx:s}),e.$set(c);const p={};i&1&&(p.$$scope={dirty:i,ctx:s}),n.$set(p);const d={};i&1&&(d.$$scope={dirty:i,ctx:s}),l.$set(d)},i(s){a||(Y(e.$$.fragment,s),Y(n.$$.fragment,s),Y(l.$$.fragment,s),a=!0)},o(s){J(e.$$.fragment,s),J(n.$$.fragment,s),J(l.$$.fragment,s),a=!1},d(s){le(e,s),s&&f(r),le(n,s),s&&f(o),le(l,s)}}}function nr(t){let e,r;return e=new ln({props:{$$slots:{default:[tr]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,o){oe(e,n,o),r=!0},p(n,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:n}),e.$set(l)},i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}class rr extends de{constructor(e){super(),me(this,e,null,nr,ve,{})}}function or(t){let e,r;return e=new rr({}),{c(){ne(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,o){oe(e,n,o),r=!0},p:Pe,i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){J(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}class ir extends de{constructor(e){super(),me(this,e,null,or,ve,{})}}export{ir as default};
